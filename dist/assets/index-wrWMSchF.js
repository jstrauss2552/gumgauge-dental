function tp(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(s,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function np(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ud={exports:{}},Sl={},md={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),rp=Symbol.for("react.portal"),sp=Symbol.for("react.fragment"),lp=Symbol.for("react.strict_mode"),ap=Symbol.for("react.profiler"),ip=Symbol.for("react.provider"),op=Symbol.for("react.context"),cp=Symbol.for("react.forward_ref"),dp=Symbol.for("react.suspense"),up=Symbol.for("react.memo"),mp=Symbol.for("react.lazy"),Io=Symbol.iterator;function pp(e){return e===null||typeof e!="object"?null:(e=Io&&e[Io]||e["@@iterator"],typeof e=="function"?e:null)}var pd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fd=Object.assign,hd={};function nr(e,t,n){this.props=e,this.context=t,this.refs=hd,this.updater=n||pd}nr.prototype.isReactComponent={};nr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xd(){}xd.prototype=nr.prototype;function Ei(e,t,n){this.props=e,this.context=t,this.refs=hd,this.updater=n||pd}var Pi=Ei.prototype=new xd;Pi.constructor=Ei;fd(Pi,nr.prototype);Pi.isPureReactComponent=!0;var Ao=Array.isArray,gd=Object.prototype.hasOwnProperty,Di={current:null},yd={key:!0,ref:!0,__self:!0,__source:!0};function vd(e,t,n){var s,l={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)gd.call(t,s)&&!yd.hasOwnProperty(s)&&(l[s]=t[s]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var d=Array(o),u=0;u<o;u++)d[u]=arguments[u+2];l.children=d}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)l[s]===void 0&&(l[s]=o[s]);return{$$typeof:rs,type:e,key:a,ref:i,props:l,_owner:Di.current}}function fp(e,t){return{$$typeof:rs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ti(e){return typeof e=="object"&&e!==null&&e.$$typeof===rs}function hp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Oo=/\/+/g;function Yl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hp(""+e.key):t.toString(36)}function zs(e,t,n,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case rs:case rp:i=!0}}if(i)return i=e,l=l(i),e=s===""?"."+Yl(i,0):s,Ao(l)?(n="",e!=null&&(n=e.replace(Oo,"$&/")+"/"),zs(l,t,n,"",function(u){return u})):l!=null&&(Ti(l)&&(l=fp(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Oo,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=s===""?".":s+":",Ao(e))for(var o=0;o<e.length;o++){a=e[o];var d=s+Yl(a,o);i+=zs(a,t,n,d,l)}else if(d=pp(e),typeof d=="function")for(e=d.call(e),o=0;!(a=e.next()).done;)a=a.value,d=s+Yl(a,o++),i+=zs(a,t,n,d,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function vs(e,t,n){if(e==null)return e;var s=[],l=0;return zs(e,s,"","",function(a){return t.call(n,a,l++)}),s}function xp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},Us={transition:null},gp={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Us,ReactCurrentOwner:Di};function bd(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:vs,forEach:function(e,t,n){vs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vs(e,function(){t++}),t},toArray:function(e){return vs(e,function(t){return t})||[]},only:function(e){if(!Ti(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=nr;q.Fragment=sp;q.Profiler=ap;q.PureComponent=Ei;q.StrictMode=lp;q.Suspense=dp;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gp;q.act=bd;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=fd({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Di.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in t)gd.call(t,d)&&!yd.hasOwnProperty(d)&&(s[d]=t[d]===void 0&&o!==void 0?o[d]:t[d])}var d=arguments.length-2;if(d===1)s.children=n;else if(1<d){o=Array(d);for(var u=0;u<d;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:rs,type:e.type,key:l,ref:a,props:s,_owner:i}};q.createContext=function(e){return e={$$typeof:op,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ip,_context:e},e.Consumer=e};q.createElement=vd;q.createFactory=function(e){var t=vd.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:cp,render:e}};q.isValidElement=Ti;q.lazy=function(e){return{$$typeof:mp,_payload:{_status:-1,_result:e},_init:xp}};q.memo=function(e,t){return{$$typeof:up,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=Us.transition;Us.transition={};try{e()}finally{Us.transition=t}};q.unstable_act=bd;q.useCallback=function(e,t){return Fe.current.useCallback(e,t)};q.useContext=function(e){return Fe.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};q.useEffect=function(e,t){return Fe.current.useEffect(e,t)};q.useId=function(){return Fe.current.useId()};q.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Fe.current.useMemo(e,t)};q.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};q.useRef=function(e){return Fe.current.useRef(e)};q.useState=function(e){return Fe.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return Fe.current.useTransition()};q.version="18.3.1";md.exports=q;var g=md.exports;const pn=np(g),yp=tp({__proto__:null,default:pn},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=g,bp=Symbol.for("react.element"),Np=Symbol.for("react.fragment"),jp=Object.prototype.hasOwnProperty,wp=vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kp={key:!0,ref:!0,__self:!0,__source:!0};function Nd(e,t,n){var s,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)jp.call(t,s)&&!kp.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:bp,type:e,key:a,ref:i,props:l,_owner:wp.current}}Sl.Fragment=Np;Sl.jsx=Nd;Sl.jsxs=Nd;ud.exports=Sl;var r=ud.exports,Pa={},jd={exports:{}},Je={},wd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,B){var A=$.length;$.push(B);e:for(;0<A;){var J=A-1>>>1,L=$[J];if(0<l(L,B))$[J]=B,$[A]=L,A=J;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var B=$[0],A=$.pop();if(A!==B){$[0]=A;e:for(var J=0,L=$.length,P=L>>>1;J<P;){var V=2*(J+1)-1,G=$[V],re=V+1,ie=$[re];if(0>l(G,A))re<L&&0>l(ie,G)?($[J]=ie,$[re]=A,J=re):($[J]=G,$[V]=A,J=V);else if(re<L&&0>l(ie,A))$[J]=ie,$[re]=A,J=re;else break e}}return B}function l($,B){var A=$.sortIndex-B.sortIndex;return A!==0?A:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var d=[],u=[],c=1,p=null,h=3,j=!1,f=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var B=n(u);B!==null;){if(B.callback===null)s(u);else if(B.startTime<=$)s(u),B.sortIndex=B.expirationTime,t(d,B);else break;B=n(u)}}function w($){if(v=!1,y($),!f)if(n(d)!==null)f=!0,Y(E);else{var B=n(u);B!==null&&ge(w,B.startTime-$)}}function E($,B){f=!1,v&&(v=!1,m(D),D=-1),j=!0;var A=h;try{for(y(B),p=n(d);p!==null&&(!(p.expirationTime>B)||$&&!S());){var J=p.callback;if(typeof J=="function"){p.callback=null,h=p.priorityLevel;var L=J(p.expirationTime<=B);B=e.unstable_now(),typeof L=="function"?p.callback=L:p===n(d)&&s(d),y(B)}else s(d);p=n(d)}if(p!==null)var P=!0;else{var V=n(u);V!==null&&ge(w,V.startTime-B),P=!1}return P}finally{p=null,h=A,j=!1}}var T=!1,C=null,D=-1,_=5,O=-1;function S(){return!(e.unstable_now()-O<_)}function I(){if(C!==null){var $=e.unstable_now();O=$;var B=!0;try{B=C(!0,$)}finally{B?R():(T=!1,C=null)}}else T=!1}var R;if(typeof x=="function")R=function(){x(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,K=H.port2;H.port1.onmessage=I,R=function(){K.postMessage(null)}}else R=function(){N(I,0)};function Y($){C=$,T||(T=!0,R())}function ge($,B){D=N(function(){$(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){f||j||(f=!0,Y(E))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var A=h;h=B;try{return $()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var A=h;h=$;try{return B()}finally{h=A}},e.unstable_scheduleCallback=function($,B,A){var J=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?J+A:J):A=J,$){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=A+L,$={id:c++,callback:B,priorityLevel:$,startTime:A,expirationTime:L,sortIndex:-1},A>J?($.sortIndex=A,t(u,$),n(d)===null&&$===n(u)&&(v?(m(D),D=-1):v=!0,ge(w,A-J))):($.sortIndex=L,t(d,$),f||j||(f=!0,Y(E))),$},e.unstable_shouldYield=S,e.unstable_wrapCallback=function($){var B=h;return function(){var A=h;h=B;try{return $.apply(this,arguments)}finally{h=A}}}})(kd);wd.exports=kd;var Sp=wd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp=g,Xe=Sp;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sd=new Set,Lr={};function vn(e,t){Kn(e,t),Kn(e+"Capture",t)}function Kn(e,t){for(Lr[e]=t,e=0;e<t.length;e++)Sd.add(t[e])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Da=Object.prototype.hasOwnProperty,Ep=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mo={},_o={};function Pp(e){return Da.call(_o,e)?!0:Da.call(Mo,e)?!1:Ep.test(e)?_o[e]=!0:(Mo[e]=!0,!1)}function Dp(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tp(e,t,n,s){if(t===null||typeof t>"u"||Dp(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,n,s,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ii=/[\-:]([a-z])/g;function Ai(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ii,Ai);Te[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ii,Ai);Te[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ii,Ai);Te[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Oi(e,t,n,s){var l=Te.hasOwnProperty(t)?Te[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tp(t,n,l,s)&&(n=null),s||l===null?Pp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Tt=Cp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bs=Symbol.for("react.element"),Tn=Symbol.for("react.portal"),In=Symbol.for("react.fragment"),Mi=Symbol.for("react.strict_mode"),Ta=Symbol.for("react.profiler"),Cd=Symbol.for("react.provider"),Ed=Symbol.for("react.context"),_i=Symbol.for("react.forward_ref"),Ia=Symbol.for("react.suspense"),Aa=Symbol.for("react.suspense_list"),Ri=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Pd=Symbol.for("react.offscreen"),Ro=Symbol.iterator;function pr(e){return e===null||typeof e!="object"?null:(e=Ro&&e[Ro]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,Xl;function wr(e){if(Xl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xl=t&&t[1]||""}return`
`+Xl+e}var Jl=!1;function Zl(e,t){if(!e||Jl)return"";Jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=s.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var d=`
`+l[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{Jl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wr(e):""}function Ip(e){switch(e.tag){case 5:return wr(e.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 2:case 15:return e=Zl(e.type,!1),e;case 11:return e=Zl(e.type.render,!1),e;case 1:return e=Zl(e.type,!0),e;default:return""}}function Oa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case In:return"Fragment";case Tn:return"Portal";case Ta:return"Profiler";case Mi:return"StrictMode";case Ia:return"Suspense";case Aa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ed:return(e.displayName||"Context")+".Consumer";case Cd:return(e._context.displayName||"Context")+".Provider";case _i:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ri:return t=e.displayName||null,t!==null?t:Oa(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return Oa(e(t))}catch{}}return null}function Ap(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oa(t);case 8:return t===Mi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Op(e){var t=Dd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ns(e){e._valueTracker||(e._valueTracker=Op(e))}function Td(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Dd(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ma(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Lo(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Zt(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Id(e,t){t=t.checked,t!=null&&Oi(e,"checked",t,!1)}function _a(e,t){Id(e,t);var n=Zt(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ra(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ra(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $o(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ra(e,t,n){(t!=="number"||Zs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var kr=Array.isArray;function Vn(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Zt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function La(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fo(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(kr(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zt(n)}}function Ad(e,t){var n=Zt(t.value),s=Zt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function zo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Od(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $a(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Od(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var js,Md=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(js=js||document.createElement("div"),js.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=js.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $r(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mp=["Webkit","ms","Moz","O"];Object.keys(Pr).forEach(function(e){Mp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pr[t]=Pr[e]})});function _d(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Pr.hasOwnProperty(e)&&Pr[e]?(""+t).trim():t+"px"}function Rd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=_d(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var _p=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fa(e,t){if(t){if(_p[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function za(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ua=null;function Li(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Va=null,Bn=null,Hn=null;function Uo(e){if(e=as(e)){if(typeof Va!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Tl(t),Va(e.stateNode,e.type,t))}}function Ld(e){Bn?Hn?Hn.push(e):Hn=[e]:Bn=e}function $d(){if(Bn){var e=Bn,t=Hn;if(Hn=Bn=null,Uo(e),t)for(e=0;e<t.length;e++)Uo(t[e])}}function Fd(e,t){return e(t)}function zd(){}var ql=!1;function Ud(e,t,n){if(ql)return e(t,n);ql=!0;try{return Fd(e,t,n)}finally{ql=!1,(Bn!==null||Hn!==null)&&(zd(),$d())}}function Fr(e,t){var n=e.stateNode;if(n===null)return null;var s=Tl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Ba=!1;if(Ct)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{Ba=!1}function Rp(e,t,n,s,l,a,i,o,d){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Dr=!1,qs=null,el=!1,Ha=null,Lp={onError:function(e){Dr=!0,qs=e}};function $p(e,t,n,s,l,a,i,o,d){Dr=!1,qs=null,Rp.apply(Lp,arguments)}function Fp(e,t,n,s,l,a,i,o,d){if($p.apply(this,arguments),Dr){if(Dr){var u=qs;Dr=!1,qs=null}else throw Error(M(198));el||(el=!0,Ha=u)}}function bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vo(e){if(bn(e)!==e)throw Error(M(188))}function zp(e){var t=e.alternate;if(!t){if(t=bn(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Vo(l),e;if(a===s)return Vo(l),t;a=a.sibling}throw Error(M(188))}if(n.return!==s.return)n=l,s=a;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,s=a;break}if(o===s){i=!0,s=l,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,s=l;break}if(o===s){i=!0,s=a,n=l;break}o=o.sibling}if(!i)throw Error(M(189))}}if(n.alternate!==s)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Bd(e){return e=zp(e),e!==null?Hd(e):null}function Hd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hd(e);if(t!==null)return t;e=e.sibling}return null}var Wd=Xe.unstable_scheduleCallback,Bo=Xe.unstable_cancelCallback,Up=Xe.unstable_shouldYield,Vp=Xe.unstable_requestPaint,be=Xe.unstable_now,Bp=Xe.unstable_getCurrentPriorityLevel,$i=Xe.unstable_ImmediatePriority,Gd=Xe.unstable_UserBlockingPriority,tl=Xe.unstable_NormalPriority,Hp=Xe.unstable_LowPriority,Qd=Xe.unstable_IdlePriority,Cl=null,yt=null;function Wp(e){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Cl,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Kp,Gp=Math.log,Qp=Math.LN2;function Kp(e){return e>>>=0,e===0?32:31-(Gp(e)/Qp|0)|0}var ws=64,ks=4194304;function Sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nl(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?s=Sr(o):(a&=i,a!==0&&(s=Sr(a)))}else i=n&~l,i!==0?s=Sr(i):a!==0&&(s=Sr(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-mt(t),l=1<<n,s|=e[n],t&=~l;return s}function Yp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xp(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-mt(a),o=1<<i,d=l[i];d===-1?(!(o&n)||o&s)&&(l[i]=Yp(o,t)):d<=t&&(e.expiredLanes|=o),a&=~o}}function Wa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kd(){var e=ws;return ws<<=1,!(ws&4194240)&&(ws=64),e}function ea(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ss(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=n}function Jp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-mt(n),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~a}}function Fi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-mt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var ne=0;function Yd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xd,zi,Jd,Zd,qd,Ga=!1,Ss=[],Bt=null,Ht=null,Wt=null,zr=new Map,Ur=new Map,$t=[],Zp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ho(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(t.pointerId)}}function hr(e,t,n,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=as(t),t!==null&&zi(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function qp(e,t,n,s,l){switch(t){case"focusin":return Bt=hr(Bt,e,t,n,s,l),!0;case"dragenter":return Ht=hr(Ht,e,t,n,s,l),!0;case"mouseover":return Wt=hr(Wt,e,t,n,s,l),!0;case"pointerover":var a=l.pointerId;return zr.set(a,hr(zr.get(a)||null,e,t,n,s,l)),!0;case"gotpointercapture":return a=l.pointerId,Ur.set(a,hr(Ur.get(a)||null,e,t,n,s,l)),!0}return!1}function eu(e){var t=on(e.target);if(t!==null){var n=bn(t);if(n!==null){if(t=n.tag,t===13){if(t=Vd(n),t!==null){e.blockedOn=t,qd(e.priority,function(){Jd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Ua=s,n.target.dispatchEvent(s),Ua=null}else return t=as(n),t!==null&&zi(t),e.blockedOn=n,!1;t.shift()}return!0}function Wo(e,t,n){Vs(e)&&n.delete(t)}function ef(){Ga=!1,Bt!==null&&Vs(Bt)&&(Bt=null),Ht!==null&&Vs(Ht)&&(Ht=null),Wt!==null&&Vs(Wt)&&(Wt=null),zr.forEach(Wo),Ur.forEach(Wo)}function xr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ga||(Ga=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,ef)))}function Vr(e){function t(l){return xr(l,e)}if(0<Ss.length){xr(Ss[0],e);for(var n=1;n<Ss.length;n++){var s=Ss[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Bt!==null&&xr(Bt,e),Ht!==null&&xr(Ht,e),Wt!==null&&xr(Wt,e),zr.forEach(t),Ur.forEach(t),n=0;n<$t.length;n++)s=$t[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<$t.length&&(n=$t[0],n.blockedOn===null);)eu(n),n.blockedOn===null&&$t.shift()}var Wn=Tt.ReactCurrentBatchConfig,rl=!0;function tf(e,t,n,s){var l=ne,a=Wn.transition;Wn.transition=null;try{ne=1,Ui(e,t,n,s)}finally{ne=l,Wn.transition=a}}function nf(e,t,n,s){var l=ne,a=Wn.transition;Wn.transition=null;try{ne=4,Ui(e,t,n,s)}finally{ne=l,Wn.transition=a}}function Ui(e,t,n,s){if(rl){var l=Qa(e,t,n,s);if(l===null)da(e,t,s,sl,n),Ho(e,s);else if(qp(l,e,t,n,s))s.stopPropagation();else if(Ho(e,s),t&4&&-1<Zp.indexOf(e)){for(;l!==null;){var a=as(l);if(a!==null&&Xd(a),a=Qa(e,t,n,s),a===null&&da(e,t,s,sl,n),a===l)break;l=a}l!==null&&s.stopPropagation()}else da(e,t,s,null,n)}}var sl=null;function Qa(e,t,n,s){if(sl=null,e=Li(s),e=on(e),e!==null)if(t=bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sl=e,null}function tu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bp()){case $i:return 1;case Gd:return 4;case tl:case Hp:return 16;case Qd:return 536870912;default:return 16}default:return 16}}var zt=null,Vi=null,Bs=null;function nu(){if(Bs)return Bs;var e,t=Vi,n=t.length,s,l="value"in zt?zt.value:zt.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===l[a-s];s++);return Bs=l.slice(e,1<s?1-s:void 0)}function Hs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cs(){return!0}function Go(){return!1}function Ze(e){function t(n,s,l,a,i){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Cs:Go,this.isPropagationStopped=Go,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),t}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=Ze(rr),ls=xe({},rr,{view:0,detail:0}),rf=Ze(ls),ta,na,gr,El=xe({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gr&&(gr&&e.type==="mousemove"?(ta=e.screenX-gr.screenX,na=e.screenY-gr.screenY):na=ta=0,gr=e),ta)},movementY:function(e){return"movementY"in e?e.movementY:na}}),Qo=Ze(El),sf=xe({},El,{dataTransfer:0}),lf=Ze(sf),af=xe({},ls,{relatedTarget:0}),ra=Ze(af),of=xe({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),cf=Ze(of),df=xe({},rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uf=Ze(df),mf=xe({},rr,{data:0}),Ko=Ze(mf),pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ff={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hf[e])?!!t[e]:!1}function Hi(){return xf}var gf=xe({},ls,{key:function(e){if(e.key){var t=pf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ff[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(e){return e.type==="keypress"?Hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yf=Ze(gf),vf=xe({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=Ze(vf),bf=xe({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),Nf=Ze(bf),jf=xe({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),wf=Ze(jf),kf=xe({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sf=Ze(kf),Cf=[9,13,27,32],Wi=Ct&&"CompositionEvent"in window,Tr=null;Ct&&"documentMode"in document&&(Tr=document.documentMode);var Ef=Ct&&"TextEvent"in window&&!Tr,ru=Ct&&(!Wi||Tr&&8<Tr&&11>=Tr),Xo=" ",Jo=!1;function su(e,t){switch(e){case"keyup":return Cf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var An=!1;function Pf(e,t){switch(e){case"compositionend":return lu(t);case"keypress":return t.which!==32?null:(Jo=!0,Xo);case"textInput":return e=t.data,e===Xo&&Jo?null:e;default:return null}}function Df(e,t){if(An)return e==="compositionend"||!Wi&&su(e,t)?(e=nu(),Bs=Vi=zt=null,An=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ru&&t.locale!=="ko"?null:t.data;default:return null}}var Tf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tf[e.type]:t==="textarea"}function au(e,t,n,s){Ld(s),t=ll(t,"onChange"),0<t.length&&(n=new Bi("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ir=null,Br=null;function If(e){gu(e,0)}function Pl(e){var t=_n(e);if(Td(t))return e}function Af(e,t){if(e==="change")return t}var iu=!1;if(Ct){var sa;if(Ct){var la="oninput"in document;if(!la){var qo=document.createElement("div");qo.setAttribute("oninput","return;"),la=typeof qo.oninput=="function"}sa=la}else sa=!1;iu=sa&&(!document.documentMode||9<document.documentMode)}function ec(){Ir&&(Ir.detachEvent("onpropertychange",ou),Br=Ir=null)}function ou(e){if(e.propertyName==="value"&&Pl(Br)){var t=[];au(t,Br,e,Li(e)),Ud(If,t)}}function Of(e,t,n){e==="focusin"?(ec(),Ir=t,Br=n,Ir.attachEvent("onpropertychange",ou)):e==="focusout"&&ec()}function Mf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pl(Br)}function _f(e,t){if(e==="click")return Pl(t)}function Rf(e,t){if(e==="input"||e==="change")return Pl(t)}function Lf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:Lf;function Hr(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!Da.call(t,l)||!ft(e[l],t[l]))return!1}return!0}function tc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nc(e,t){var n=tc(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tc(n)}}function cu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function du(){for(var e=window,t=Zs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zs(e.document)}return t}function Gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $f(e){var t=du(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cu(n.ownerDocument.documentElement,n)){if(s!==null&&Gi(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=nc(n,a);var i=nc(n,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ff=Ct&&"documentMode"in document&&11>=document.documentMode,On=null,Ka=null,Ar=null,Ya=!1;function rc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ya||On==null||On!==Zs(s)||(s=On,"selectionStart"in s&&Gi(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ar&&Hr(Ar,s)||(Ar=s,s=ll(Ka,"onSelect"),0<s.length&&(t=new Bi("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=On)))}function Es(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mn={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionend:Es("Transition","TransitionEnd")},aa={},uu={};Ct&&(uu=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function Dl(e){if(aa[e])return aa[e];if(!Mn[e])return e;var t=Mn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uu)return aa[e]=t[n];return e}var mu=Dl("animationend"),pu=Dl("animationiteration"),fu=Dl("animationstart"),hu=Dl("transitionend"),xu=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(e,t){xu.set(e,t),vn(t,[e])}for(var ia=0;ia<sc.length;ia++){var oa=sc[ia],zf=oa.toLowerCase(),Uf=oa[0].toUpperCase()+oa.slice(1);tn(zf,"on"+Uf)}tn(mu,"onAnimationEnd");tn(pu,"onAnimationIteration");tn(fu,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(hu,"onTransitionEnd");Kn("onMouseEnter",["mouseout","mouseover"]);Kn("onMouseLeave",["mouseout","mouseover"]);Kn("onPointerEnter",["pointerout","pointerover"]);Kn("onPointerLeave",["pointerout","pointerover"]);vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function lc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Fp(s,t,void 0,e),e.currentTarget=null}function gu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],d=o.instance,u=o.currentTarget;if(o=o.listener,d!==a&&l.isPropagationStopped())break e;lc(l,o,u),a=d}else for(i=0;i<s.length;i++){if(o=s[i],d=o.instance,u=o.currentTarget,o=o.listener,d!==a&&l.isPropagationStopped())break e;lc(l,o,u),a=d}}}if(el)throw e=Ha,el=!1,Ha=null,e}function de(e,t){var n=t[ei];n===void 0&&(n=t[ei]=new Set);var s=e+"__bubble";n.has(s)||(yu(t,e,2,!1),n.add(s))}function ca(e,t,n){var s=0;t&&(s|=4),yu(n,e,s,t)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Ps]){e[Ps]=!0,Sd.forEach(function(n){n!=="selectionchange"&&(Vf.has(n)||ca(n,!1,e),ca(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ps]||(t[Ps]=!0,ca("selectionchange",!1,t))}}function yu(e,t,n,s){switch(tu(t)){case 1:var l=tf;break;case 4:l=nf;break;default:l=Ui}n=l.bind(null,t,n,e),l=void 0,!Ba||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function da(e,t,n,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===l||d.nodeType===8&&d.parentNode===l))return;i=i.return}for(;o!==null;){if(i=on(o),i===null)return;if(d=i.tag,d===5||d===6){s=a=i;continue e}o=o.parentNode}}s=s.return}Ud(function(){var u=a,c=Li(n),p=[];e:{var h=xu.get(e);if(h!==void 0){var j=Bi,f=e;switch(e){case"keypress":if(Hs(n)===0)break e;case"keydown":case"keyup":j=yf;break;case"focusin":f="focus",j=ra;break;case"focusout":f="blur",j=ra;break;case"beforeblur":case"afterblur":j=ra;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Nf;break;case mu:case pu:case fu:j=cf;break;case hu:j=wf;break;case"scroll":j=rf;break;case"wheel":j=Sf;break;case"copy":case"cut":case"paste":j=uf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Yo}var v=(t&4)!==0,N=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var x=u,y;x!==null;){y=x;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=Fr(x,m),w!=null&&v.push(Gr(x,w,y)))),N)break;x=x.return}0<v.length&&(h=new j(h,f,null,n,c),p.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",h&&n!==Ua&&(f=n.relatedTarget||n.fromElement)&&(on(f)||f[Et]))break e;if((j||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,j?(f=n.relatedTarget||n.toElement,j=u,f=f?on(f):null,f!==null&&(N=bn(f),f!==N||f.tag!==5&&f.tag!==6)&&(f=null)):(j=null,f=u),j!==f)){if(v=Qo,w="onMouseLeave",m="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=Yo,w="onPointerLeave",m="onPointerEnter",x="pointer"),N=j==null?h:_n(j),y=f==null?h:_n(f),h=new v(w,x+"leave",j,n,c),h.target=N,h.relatedTarget=y,w=null,on(c)===u&&(v=new v(m,x+"enter",f,n,c),v.target=y,v.relatedTarget=N,w=v),N=w,j&&f)t:{for(v=j,m=f,x=0,y=v;y;y=Cn(y))x++;for(y=0,w=m;w;w=Cn(w))y++;for(;0<x-y;)v=Cn(v),x--;for(;0<y-x;)m=Cn(m),y--;for(;x--;){if(v===m||m!==null&&v===m.alternate)break t;v=Cn(v),m=Cn(m)}v=null}else v=null;j!==null&&ac(p,h,j,v,!1),f!==null&&N!==null&&ac(p,N,f,v,!0)}}e:{if(h=u?_n(u):window,j=h.nodeName&&h.nodeName.toLowerCase(),j==="select"||j==="input"&&h.type==="file")var E=Af;else if(Zo(h))if(iu)E=Rf;else{E=Mf;var T=Of}else(j=h.nodeName)&&j.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=_f);if(E&&(E=E(e,u))){au(p,E,n,c);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Ra(h,"number",h.value)}switch(T=u?_n(u):window,e){case"focusin":(Zo(T)||T.contentEditable==="true")&&(On=T,Ka=u,Ar=null);break;case"focusout":Ar=Ka=On=null;break;case"mousedown":Ya=!0;break;case"contextmenu":case"mouseup":case"dragend":Ya=!1,rc(p,n,c);break;case"selectionchange":if(Ff)break;case"keydown":case"keyup":rc(p,n,c)}var C;if(Wi)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else An?su(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(ru&&n.locale!=="ko"&&(An||D!=="onCompositionStart"?D==="onCompositionEnd"&&An&&(C=nu()):(zt=c,Vi="value"in zt?zt.value:zt.textContent,An=!0)),T=ll(u,D),0<T.length&&(D=new Ko(D,e,null,n,c),p.push({event:D,listeners:T}),C?D.data=C:(C=lu(n),C!==null&&(D.data=C)))),(C=Ef?Pf(e,n):Df(e,n))&&(u=ll(u,"onBeforeInput"),0<u.length&&(c=new Ko("onBeforeInput","beforeinput",null,n,c),p.push({event:c,listeners:u}),c.data=C))}gu(p,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ll(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Fr(e,n),a!=null&&s.unshift(Gr(e,a,l)),a=Fr(e,t),a!=null&&s.push(Gr(e,a,l))),e=e.return}return s}function Cn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ac(e,t,n,s,l){for(var a=t._reactName,i=[];n!==null&&n!==s;){var o=n,d=o.alternate,u=o.stateNode;if(d!==null&&d===s)break;o.tag===5&&u!==null&&(o=u,l?(d=Fr(n,a),d!=null&&i.unshift(Gr(n,d,o))):l||(d=Fr(n,a),d!=null&&i.push(Gr(n,d,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Bf=/\r\n?/g,Hf=/\u0000|\uFFFD/g;function ic(e){return(typeof e=="string"?e:""+e).replace(Bf,`
`).replace(Hf,"")}function Ds(e,t,n){if(t=ic(t),ic(e)!==t&&n)throw Error(M(425))}function al(){}var Xa=null,Ja=null;function Za(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qa=typeof setTimeout=="function"?setTimeout:void 0,Wf=typeof clearTimeout=="function"?clearTimeout:void 0,oc=typeof Promise=="function"?Promise:void 0,Gf=typeof queueMicrotask=="function"?queueMicrotask:typeof oc<"u"?function(e){return oc.resolve(null).then(e).catch(Qf)}:qa;function Qf(e){setTimeout(function(){throw e})}function ua(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),Vr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);Vr(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var sr=Math.random().toString(36).slice(2),gt="__reactFiber$"+sr,Qr="__reactProps$"+sr,Et="__reactContainer$"+sr,ei="__reactEvents$"+sr,Kf="__reactListeners$"+sr,Yf="__reactHandles$"+sr;function on(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Et]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cc(e);e!==null;){if(n=e[gt])return n;e=cc(e)}return t}e=n,n=e.parentNode}return null}function as(e){return e=e[gt]||e[Et],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Tl(e){return e[Qr]||null}var ti=[],Rn=-1;function nn(e){return{current:e}}function ue(e){0>Rn||(e.current=ti[Rn],ti[Rn]=null,Rn--)}function ae(e,t){Rn++,ti[Rn]=e.current,e.current=t}var qt={},_e=nn(qt),Be=nn(!1),fn=qt;function Yn(e,t){var n=e.type.contextTypes;if(!n)return qt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function He(e){return e=e.childContextTypes,e!=null}function il(){ue(Be),ue(_e)}function dc(e,t,n){if(_e.current!==qt)throw Error(M(168));ae(_e,t),ae(Be,n)}function vu(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(M(108,Ap(e)||"Unknown",l));return xe({},n,s)}function ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qt,fn=_e.current,ae(_e,e),ae(Be,Be.current),!0}function uc(e,t,n){var s=e.stateNode;if(!s)throw Error(M(169));n?(e=vu(e,t,fn),s.__reactInternalMemoizedMergedChildContext=e,ue(Be),ue(_e),ae(_e,e)):ue(Be),ae(Be,n)}var jt=null,Il=!1,ma=!1;function bu(e){jt===null?jt=[e]:jt.push(e)}function Xf(e){Il=!0,bu(e)}function rn(){if(!ma&&jt!==null){ma=!0;var e=0,t=ne;try{var n=jt;for(ne=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}jt=null,Il=!1}catch(l){throw jt!==null&&(jt=jt.slice(e+1)),Wd($i,rn),l}finally{ne=t,ma=!1}}return null}var Ln=[],$n=0,cl=null,dl=0,et=[],tt=0,hn=null,wt=1,kt="";function ln(e,t){Ln[$n++]=dl,Ln[$n++]=cl,cl=e,dl=t}function Nu(e,t,n){et[tt++]=wt,et[tt++]=kt,et[tt++]=hn,hn=e;var s=wt;e=kt;var l=32-mt(s)-1;s&=~(1<<l),n+=1;var a=32-mt(t)+l;if(30<a){var i=l-l%5;a=(s&(1<<i)-1).toString(32),s>>=i,l-=i,wt=1<<32-mt(t)+l|n<<l|s,kt=a+e}else wt=1<<a|n<<l|s,kt=e}function Qi(e){e.return!==null&&(ln(e,1),Nu(e,1,0))}function Ki(e){for(;e===cl;)cl=Ln[--$n],Ln[$n]=null,dl=Ln[--$n],Ln[$n]=null;for(;e===hn;)hn=et[--tt],et[tt]=null,kt=et[--tt],et[tt]=null,wt=et[--tt],et[tt]=null}var Ye=null,Ke=null,me=!1,ut=null;function ju(e,t){var n=nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ye=e,Ke=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ye=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hn!==null?{id:wt,overflow:kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ye=e,Ke=null,!0):!1;default:return!1}}function ni(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ri(e){if(me){var t=Ke;if(t){var n=t;if(!mc(e,t)){if(ni(e))throw Error(M(418));t=Gt(n.nextSibling);var s=Ye;t&&mc(e,t)?ju(s,n):(e.flags=e.flags&-4097|2,me=!1,Ye=e)}}else{if(ni(e))throw Error(M(418));e.flags=e.flags&-4097|2,me=!1,Ye=e}}}function pc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ye=e}function Ts(e){if(e!==Ye)return!1;if(!me)return pc(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Za(e.type,e.memoizedProps)),t&&(t=Ke)){if(ni(e))throw wu(),Error(M(418));for(;t;)ju(e,t),t=Gt(t.nextSibling)}if(pc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=Gt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Ye?Gt(e.stateNode.nextSibling):null;return!0}function wu(){for(var e=Ke;e;)e=Gt(e.nextSibling)}function Xn(){Ke=Ye=null,me=!1}function Yi(e){ut===null?ut=[e]:ut.push(e)}var Jf=Tt.ReactCurrentBatchConfig;function yr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var s=n.stateNode}if(!s)throw Error(M(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Is(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fc(e){var t=e._init;return t(e._payload)}function ku(e){function t(m,x){if(e){var y=m.deletions;y===null?(m.deletions=[x],m.flags|=16):y.push(x)}}function n(m,x){if(!e)return null;for(;x!==null;)t(m,x),x=x.sibling;return null}function s(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function l(m,x){return m=Xt(m,x),m.index=0,m.sibling=null,m}function a(m,x,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<x?(m.flags|=2,x):y):(m.flags|=2,x)):(m.flags|=1048576,x)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,x,y,w){return x===null||x.tag!==6?(x=va(y,m.mode,w),x.return=m,x):(x=l(x,y),x.return=m,x)}function d(m,x,y,w){var E=y.type;return E===In?c(m,x,y.props.children,w,y.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rt&&fc(E)===x.type)?(w=l(x,y.props),w.ref=yr(m,x,y),w.return=m,w):(w=Js(y.type,y.key,y.props,null,m.mode,w),w.ref=yr(m,x,y),w.return=m,w)}function u(m,x,y,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=ba(y,m.mode,w),x.return=m,x):(x=l(x,y.children||[]),x.return=m,x)}function c(m,x,y,w,E){return x===null||x.tag!==7?(x=mn(y,m.mode,w,E),x.return=m,x):(x=l(x,y),x.return=m,x)}function p(m,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=va(""+x,m.mode,y),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bs:return y=Js(x.type,x.key,x.props,null,m.mode,y),y.ref=yr(m,null,x),y.return=m,y;case Tn:return x=ba(x,m.mode,y),x.return=m,x;case Rt:var w=x._init;return p(m,w(x._payload),y)}if(kr(x)||pr(x))return x=mn(x,m.mode,y,null),x.return=m,x;Is(m,x)}return null}function h(m,x,y,w){var E=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:o(m,x,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bs:return y.key===E?d(m,x,y,w):null;case Tn:return y.key===E?u(m,x,y,w):null;case Rt:return E=y._init,h(m,x,E(y._payload),w)}if(kr(y)||pr(y))return E!==null?null:c(m,x,y,w,null);Is(m,y)}return null}function j(m,x,y,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,o(x,m,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bs:return m=m.get(w.key===null?y:w.key)||null,d(x,m,w,E);case Tn:return m=m.get(w.key===null?y:w.key)||null,u(x,m,w,E);case Rt:var T=w._init;return j(m,x,y,T(w._payload),E)}if(kr(w)||pr(w))return m=m.get(y)||null,c(x,m,w,E,null);Is(x,w)}return null}function f(m,x,y,w){for(var E=null,T=null,C=x,D=x=0,_=null;C!==null&&D<y.length;D++){C.index>D?(_=C,C=null):_=C.sibling;var O=h(m,C,y[D],w);if(O===null){C===null&&(C=_);break}e&&C&&O.alternate===null&&t(m,C),x=a(O,x,D),T===null?E=O:T.sibling=O,T=O,C=_}if(D===y.length)return n(m,C),me&&ln(m,D),E;if(C===null){for(;D<y.length;D++)C=p(m,y[D],w),C!==null&&(x=a(C,x,D),T===null?E=C:T.sibling=C,T=C);return me&&ln(m,D),E}for(C=s(m,C);D<y.length;D++)_=j(C,m,D,y[D],w),_!==null&&(e&&_.alternate!==null&&C.delete(_.key===null?D:_.key),x=a(_,x,D),T===null?E=_:T.sibling=_,T=_);return e&&C.forEach(function(S){return t(m,S)}),me&&ln(m,D),E}function v(m,x,y,w){var E=pr(y);if(typeof E!="function")throw Error(M(150));if(y=E.call(y),y==null)throw Error(M(151));for(var T=E=null,C=x,D=x=0,_=null,O=y.next();C!==null&&!O.done;D++,O=y.next()){C.index>D?(_=C,C=null):_=C.sibling;var S=h(m,C,O.value,w);if(S===null){C===null&&(C=_);break}e&&C&&S.alternate===null&&t(m,C),x=a(S,x,D),T===null?E=S:T.sibling=S,T=S,C=_}if(O.done)return n(m,C),me&&ln(m,D),E;if(C===null){for(;!O.done;D++,O=y.next())O=p(m,O.value,w),O!==null&&(x=a(O,x,D),T===null?E=O:T.sibling=O,T=O);return me&&ln(m,D),E}for(C=s(m,C);!O.done;D++,O=y.next())O=j(C,m,D,O.value,w),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?D:O.key),x=a(O,x,D),T===null?E=O:T.sibling=O,T=O);return e&&C.forEach(function(I){return t(m,I)}),me&&ln(m,D),E}function N(m,x,y,w){if(typeof y=="object"&&y!==null&&y.type===In&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case bs:e:{for(var E=y.key,T=x;T!==null;){if(T.key===E){if(E=y.type,E===In){if(T.tag===7){n(m,T.sibling),x=l(T,y.props.children),x.return=m,m=x;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rt&&fc(E)===T.type){n(m,T.sibling),x=l(T,y.props),x.ref=yr(m,T,y),x.return=m,m=x;break e}n(m,T);break}else t(m,T);T=T.sibling}y.type===In?(x=mn(y.props.children,m.mode,w,y.key),x.return=m,m=x):(w=Js(y.type,y.key,y.props,null,m.mode,w),w.ref=yr(m,x,y),w.return=m,m=w)}return i(m);case Tn:e:{for(T=y.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(m,x.sibling),x=l(x,y.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else t(m,x);x=x.sibling}x=ba(y,m.mode,w),x.return=m,m=x}return i(m);case Rt:return T=y._init,N(m,x,T(y._payload),w)}if(kr(y))return f(m,x,y,w);if(pr(y))return v(m,x,y,w);Is(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(m,x.sibling),x=l(x,y),x.return=m,m=x):(n(m,x),x=va(y,m.mode,w),x.return=m,m=x),i(m)):n(m,x)}return N}var Jn=ku(!0),Su=ku(!1),ul=nn(null),ml=null,Fn=null,Xi=null;function Ji(){Xi=Fn=ml=null}function Zi(e){var t=ul.current;ue(ul),e._currentValue=t}function si(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Gn(e,t){ml=e,Xi=Fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ve=!0),e.firstContext=null)}function st(e){var t=e._currentValue;if(Xi!==e)if(e={context:e,memoizedValue:t,next:null},Fn===null){if(ml===null)throw Error(M(308));Fn=e,ml.dependencies={lanes:0,firstContext:e}}else Fn=Fn.next=e;return t}var cn=null;function qi(e){cn===null?cn=[e]:cn.push(e)}function Cu(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,qi(t)):(n.next=l.next,l.next=n),t.interleaved=n,Pt(e,s)}function Pt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lt=!1;function eo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function St(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qt(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ee&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Pt(e,n)}return l=s.interleaved,l===null?(t.next=t,qi(s)):(t.next=l.next,l.next=t),s.interleaved=t,Pt(e,n)}function Ws(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Fi(e,n)}}function hc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pl(e,t,n,s){var l=e.updateQueue;Lt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var d=o,u=d.next;d.next=null,i===null?a=u:i.next=u,i=d;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==i&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=d))}if(a!==null){var p=l.baseState;i=0,c=u=d=null,o=a;do{var h=o.lane,j=o.eventTime;if((s&h)===h){c!==null&&(c=c.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,v=o;switch(h=t,j=n,v.tag){case 1:if(f=v.payload,typeof f=="function"){p=f.call(j,p,h);break e}p=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=v.payload,h=typeof f=="function"?f.call(j,p,h):f,h==null)break e;p=xe({},p,h);break e;case 2:Lt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[o]:h.push(o))}else j={eventTime:j,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=j,d=p):c=c.next=j,i|=h;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;h=o,o=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(c===null&&(d=p),l.baseState=d,l.firstBaseUpdate=u,l.lastBaseUpdate=c,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);gn|=i,e.lanes=i,e.memoizedState=p}}function xc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(M(191,l));l.call(s)}}}var is={},vt=nn(is),Kr=nn(is),Yr=nn(is);function dn(e){if(e===is)throw Error(M(174));return e}function to(e,t){switch(ae(Yr,t),ae(Kr,e),ae(vt,is),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$a(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$a(t,e)}ue(vt),ae(vt,t)}function Zn(){ue(vt),ue(Kr),ue(Yr)}function Pu(e){dn(Yr.current);var t=dn(vt.current),n=$a(t,e.type);t!==n&&(ae(Kr,e),ae(vt,n))}function no(e){Kr.current===e&&(ue(vt),ue(Kr))}var pe=nn(0);function fl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pa=[];function ro(){for(var e=0;e<pa.length;e++)pa[e]._workInProgressVersionPrimary=null;pa.length=0}var Gs=Tt.ReactCurrentDispatcher,fa=Tt.ReactCurrentBatchConfig,xn=0,fe=null,we=null,Se=null,hl=!1,Or=!1,Xr=0,Zf=0;function Ie(){throw Error(M(321))}function so(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function lo(e,t,n,s,l,a){if(xn=a,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gs.current=e===null||e.memoizedState===null?nh:rh,e=n(s,l),Or){a=0;do{if(Or=!1,Xr=0,25<=a)throw Error(M(301));a+=1,Se=we=null,t.updateQueue=null,Gs.current=sh,e=n(s,l)}while(Or)}if(Gs.current=xl,t=we!==null&&we.next!==null,xn=0,Se=we=fe=null,hl=!1,t)throw Error(M(300));return e}function ao(){var e=Xr!==0;return Xr=0,e}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?fe.memoizedState=Se=e:Se=Se.next=e,Se}function lt(){if(we===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Se===null?fe.memoizedState:Se.next;if(t!==null)Se=t,we=e;else{if(e===null)throw Error(M(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Se===null?fe.memoizedState=Se=e:Se=Se.next=e}return Se}function Jr(e,t){return typeof t=="function"?t(e):t}function ha(e){var t=lt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var s=we,l=s.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}s.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,s=s.baseState;var o=i=null,d=null,u=a;do{var c=u.lane;if((xn&c)===c)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var p={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(o=d=p,i=s):d=d.next=p,fe.lanes|=c,gn|=c}u=u.next}while(u!==null&&u!==a);d===null?i=s:d.next=o,ft(s,t.memoizedState)||(Ve=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=d,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do a=l.lane,fe.lanes|=a,gn|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=lt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);ft(a,t.memoizedState)||(Ve=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Du(){}function Tu(e,t){var n=fe,s=lt(),l=t(),a=!ft(s.memoizedState,l);if(a&&(s.memoizedState=l,Ve=!0),s=s.queue,io(Ou.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,Zr(9,Au.bind(null,n,s,l,t),void 0,null),Ce===null)throw Error(M(349));xn&30||Iu(n,t,l)}return l}function Iu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Au(e,t,n,s){t.value=n,t.getSnapshot=s,Mu(t)&&_u(e)}function Ou(e,t,n){return n(function(){Mu(t)&&_u(e)})}function Mu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function _u(e){var t=Pt(e,1);t!==null&&pt(t,e,1,-1)}function gc(e){var t=xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:e},t.queue=e,e=e.dispatch=th.bind(null,fe,e),[t.memoizedState,e]}function Zr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Ru(){return lt().memoizedState}function Qs(e,t,n,s){var l=xt();fe.flags|=e,l.memoizedState=Zr(1|t,n,void 0,s===void 0?null:s)}function Al(e,t,n,s){var l=lt();s=s===void 0?null:s;var a=void 0;if(we!==null){var i=we.memoizedState;if(a=i.destroy,s!==null&&so(s,i.deps)){l.memoizedState=Zr(t,n,a,s);return}}fe.flags|=e,l.memoizedState=Zr(1|t,n,a,s)}function yc(e,t){return Qs(8390656,8,e,t)}function io(e,t){return Al(2048,8,e,t)}function Lu(e,t){return Al(4,2,e,t)}function $u(e,t){return Al(4,4,e,t)}function Fu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zu(e,t,n){return n=n!=null?n.concat([e]):null,Al(4,4,Fu.bind(null,t,e),n)}function oo(){}function Uu(e,t){var n=lt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&so(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Vu(e,t){var n=lt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&so(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Bu(e,t,n){return xn&21?(ft(n,t)||(n=Kd(),fe.lanes|=n,gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ve=!0),e.memoizedState=n)}function qf(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var s=fa.transition;fa.transition={};try{e(!1),t()}finally{ne=n,fa.transition=s}}function Hu(){return lt().memoizedState}function eh(e,t,n){var s=Yt(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Wu(e))Gu(t,n);else if(n=Cu(e,t,n,s),n!==null){var l=$e();pt(n,e,s,l),Qu(n,t,s)}}function th(e,t,n){var s=Yt(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wu(e))Gu(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(l.hasEagerState=!0,l.eagerState=o,ft(o,i)){var d=t.interleaved;d===null?(l.next=l,qi(t)):(l.next=d.next,d.next=l),t.interleaved=l;return}}catch{}finally{}n=Cu(e,t,l,s),n!==null&&(l=$e(),pt(n,e,s,l),Qu(n,t,s))}}function Wu(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Gu(e,t){Or=hl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qu(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Fi(e,n)}}var xl={readContext:st,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},nh={readContext:st,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:yc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qs(4194308,4,Fu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qs(4,2,e,t)},useMemo:function(e,t){var n=xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=xt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=eh.bind(null,fe,e),[s.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:gc,useDebugValue:oo,useDeferredValue:function(e){return xt().memoizedState=e},useTransition:function(){var e=gc(!1),t=e[0];return e=qf.bind(null,e[1]),xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=fe,l=xt();if(me){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Ce===null)throw Error(M(349));xn&30||Iu(s,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,yc(Ou.bind(null,s,a,e),[e]),s.flags|=2048,Zr(9,Au.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=xt(),t=Ce.identifierPrefix;if(me){var n=kt,s=wt;n=(s&~(1<<32-mt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Zf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rh={readContext:st,useCallback:Uu,useContext:st,useEffect:io,useImperativeHandle:zu,useInsertionEffect:Lu,useLayoutEffect:$u,useMemo:Vu,useReducer:ha,useRef:Ru,useState:function(){return ha(Jr)},useDebugValue:oo,useDeferredValue:function(e){var t=lt();return Bu(t,we.memoizedState,e)},useTransition:function(){var e=ha(Jr)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Du,useSyncExternalStore:Tu,useId:Hu,unstable_isNewReconciler:!1},sh={readContext:st,useCallback:Uu,useContext:st,useEffect:io,useImperativeHandle:zu,useInsertionEffect:Lu,useLayoutEffect:$u,useMemo:Vu,useReducer:xa,useRef:Ru,useState:function(){return xa(Jr)},useDebugValue:oo,useDeferredValue:function(e){var t=lt();return we===null?t.memoizedState=e:Bu(t,we.memoizedState,e)},useTransition:function(){var e=xa(Jr)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Du,useSyncExternalStore:Tu,useId:Hu,unstable_isNewReconciler:!1};function ct(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function li(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ol={isMounted:function(e){return(e=e._reactInternals)?bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=$e(),l=Yt(e),a=St(s,l);a.payload=t,n!=null&&(a.callback=n),t=Qt(e,a,l),t!==null&&(pt(t,e,l,s),Ws(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=$e(),l=Yt(e),a=St(s,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Qt(e,a,l),t!==null&&(pt(t,e,l,s),Ws(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),s=Yt(e),l=St(n,s);l.tag=2,t!=null&&(l.callback=t),t=Qt(e,l,s),t!==null&&(pt(t,e,s,n),Ws(t,e,s))}};function vc(e,t,n,s,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!Hr(n,s)||!Hr(l,a):!0}function Ku(e,t,n){var s=!1,l=qt,a=t.contextType;return typeof a=="object"&&a!==null?a=st(a):(l=He(t)?fn:_e.current,s=t.contextTypes,a=(s=s!=null)?Yn(e,l):qt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ol,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function bc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Ol.enqueueReplaceState(t,t.state,null)}function ai(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},eo(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=st(a):(a=He(t)?fn:_e.current,l.context=Yn(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(li(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ol.enqueueReplaceState(l,l.state,null),pl(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function qn(e,t){try{var n="",s=t;do n+=Ip(s),s=s.return;while(s);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function ga(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ii(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lh=typeof WeakMap=="function"?WeakMap:Map;function Yu(e,t,n){n=St(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){yl||(yl=!0,gi=s),ii(e,t)},n}function Xu(e,t,n){n=St(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){ii(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ii(e,t),typeof s!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Nc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new lh;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=vh.bind(null,e,t,n),t.then(e,e))}function jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wc(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=St(-1,1),t.tag=2,Qt(n,t,1))),n.lanes|=1),e)}var ah=Tt.ReactCurrentOwner,Ve=!1;function Le(e,t,n,s){t.child=e===null?Su(t,null,n,s):Jn(t,e.child,n,s)}function kc(e,t,n,s,l){n=n.render;var a=t.ref;return Gn(t,l),s=lo(e,t,n,s,a,l),n=ao(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Dt(e,t,l)):(me&&n&&Qi(t),t.flags|=1,Le(e,t,s,l),t.child)}function Sc(e,t,n,s,l){if(e===null){var a=n.type;return typeof a=="function"&&!go(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Ju(e,t,a,s,l)):(e=Js(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Hr,n(i,s)&&e.ref===t.ref)return Dt(e,t,l)}return t.flags|=1,e=Xt(a,s),e.ref=t.ref,e.return=t,t.child=e}function Ju(e,t,n,s,l){if(e!==null){var a=e.memoizedProps;if(Hr(a,s)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,Dt(e,t,l)}return oi(e,t,n,s,l)}function Zu(e,t,n){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Un,Qe),Qe|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ae(Un,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,ae(Un,Qe),Qe|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,ae(Un,Qe),Qe|=s;return Le(e,t,l,n),t.child}function qu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oi(e,t,n,s,l){var a=He(n)?fn:_e.current;return a=Yn(t,a),Gn(t,l),n=lo(e,t,n,s,a,l),s=ao(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Dt(e,t,l)):(me&&s&&Qi(t),t.flags|=1,Le(e,t,n,l),t.child)}function Cc(e,t,n,s,l){if(He(n)){var a=!0;ol(t)}else a=!1;if(Gn(t,l),t.stateNode===null)Ks(e,t),Ku(t,n,s),ai(t,n,s,l),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var d=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=st(u):(u=He(n)?fn:_e.current,u=Yn(t,u));var c=n.getDerivedStateFromProps,p=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||d!==u)&&bc(t,i,s,u),Lt=!1;var h=t.memoizedState;i.state=h,pl(t,s,i,l),d=t.memoizedState,o!==s||h!==d||Be.current||Lt?(typeof c=="function"&&(li(t,n,c,s),d=t.memoizedState),(o=Lt||vc(t,n,o,s,h,d,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),i.props=s,i.state=d,i.context=u,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Eu(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ct(t.type,o),i.props=u,p=t.pendingProps,h=i.context,d=n.contextType,typeof d=="object"&&d!==null?d=st(d):(d=He(n)?fn:_e.current,d=Yn(t,d));var j=n.getDerivedStateFromProps;(c=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==p||h!==d)&&bc(t,i,s,d),Lt=!1,h=t.memoizedState,i.state=h,pl(t,s,i,l);var f=t.memoizedState;o!==p||h!==f||Be.current||Lt?(typeof j=="function"&&(li(t,n,j,s),f=t.memoizedState),(u=Lt||vc(t,n,u,s,h,f,d)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,f,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,f,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=f),i.props=s,i.state=f,i.context=d,s=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return ci(e,t,n,s,a,l)}function ci(e,t,n,s,l,a){qu(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&uc(t,n,!1),Dt(e,t,a);s=t.stateNode,ah.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Jn(t,e.child,null,a),t.child=Jn(t,null,o,a)):Le(e,t,o,a),t.memoizedState=s.state,l&&uc(t,n,!0),t.child}function em(e){var t=e.stateNode;t.pendingContext?dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dc(e,t.context,!1),to(e,t.containerInfo)}function Ec(e,t,n,s,l){return Xn(),Yi(l),t.flags|=256,Le(e,t,n,s),t.child}var di={dehydrated:null,treeContext:null,retryLane:0};function ui(e){return{baseLanes:e,cachePool:null,transitions:null}}function tm(e,t,n){var s=t.pendingProps,l=pe.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ae(pe,l&1),e===null)return ri(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Rl(i,s,0,null),e=mn(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ui(n),t.memoizedState=di,e):co(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return ih(e,t,i,s,o,l,n);if(a){a=s.fallback,i=t.mode,l=e.child,o=l.sibling;var d={mode:"hidden",children:s.children};return!(i&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=d,t.deletions=null):(s=Xt(l,d),s.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=Xt(o,a):(a=mn(a,i,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?ui(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=di,s}return a=e.child,e=a.sibling,s=Xt(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function co(e,t){return t=Rl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function As(e,t,n,s){return s!==null&&Yi(s),Jn(t,e.child,null,n),e=co(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ih(e,t,n,s,l,a,i){if(n)return t.flags&256?(t.flags&=-257,s=ga(Error(M(422))),As(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=Rl({mode:"visible",children:s.children},l,0,null),a=mn(a,l,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Jn(t,e.child,null,i),t.child.memoizedState=ui(i),t.memoizedState=di,a);if(!(t.mode&1))return As(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var o=s.dgst;return s=o,a=Error(M(419)),s=ga(a,s,void 0),As(e,t,i,s)}if(o=(i&e.childLanes)!==0,Ve||o){if(s=Ce,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Pt(e,l),pt(s,e,l,-1))}return xo(),s=ga(Error(M(421))),As(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=bh.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Ke=Gt(l.nextSibling),Ye=t,me=!0,ut=null,e!==null&&(et[tt++]=wt,et[tt++]=kt,et[tt++]=hn,wt=e.id,kt=e.overflow,hn=t),t=co(t,s.children),t.flags|=4096,t)}function Pc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),si(e.return,t,n)}function ya(e,t,n,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=l)}function nm(e,t,n){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(Le(e,t,s.children,n),s=pe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pc(e,n,t);else if(e.tag===19)Pc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ae(pe,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&fl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ya(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&fl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ya(t,!0,n,null,a);break;case"together":ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Xt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function oh(e,t,n){switch(t.tag){case 3:em(t),Xn();break;case 5:Pu(t);break;case 1:He(t.type)&&ol(t);break;case 4:to(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;ae(ul,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ae(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?tm(e,t,n):(ae(pe,pe.current&1),e=Dt(e,t,n),e!==null?e.sibling:null);ae(pe,pe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return nm(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ae(pe,pe.current),s)break;return null;case 22:case 23:return t.lanes=0,Zu(e,t,n)}return Dt(e,t,n)}var rm,mi,sm,lm;rm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mi=function(){};sm=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,dn(vt.current);var a=null;switch(n){case"input":l=Ma(e,l),s=Ma(e,s),a=[];break;case"select":l=xe({},l,{value:void 0}),s=xe({},s,{value:void 0}),a=[];break;case"textarea":l=La(e,l),s=La(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=al)}Fa(n,s);var i;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var o=l[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lr.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var d=s[u];if(o=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&d!==o&&(d!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in d)d.hasOwnProperty(i)&&o[i]!==d[i]&&(n||(n={}),n[i]=d[i])}else n||(a||(a=[]),a.push(u,n)),n=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(a=a||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lr.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&de("scroll",e),a||o===d||(a=[])):(a=a||[]).push(u,d))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};lm=function(e,t,n,s){n!==s&&(t.flags|=4)};function vr(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function ch(e,t,n){var s=t.pendingProps;switch(Ki(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return He(t.type)&&il(),Ae(t),null;case 3:return s=t.stateNode,Zn(),ue(Be),ue(_e),ro(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ut!==null&&(bi(ut),ut=null))),mi(e,t),Ae(t),null;case 5:no(t);var l=dn(Yr.current);if(n=t.type,e!==null&&t.stateNode!=null)sm(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(M(166));return Ae(t),null}if(e=dn(vt.current),Ts(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[gt]=t,s[Qr]=a,e=(t.mode&1)!==0,n){case"dialog":de("cancel",s),de("close",s);break;case"iframe":case"object":case"embed":de("load",s);break;case"video":case"audio":for(l=0;l<Cr.length;l++)de(Cr[l],s);break;case"source":de("error",s);break;case"img":case"image":case"link":de("error",s),de("load",s);break;case"details":de("toggle",s);break;case"input":Lo(s,a),de("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},de("invalid",s);break;case"textarea":Fo(s,a),de("invalid",s)}Fa(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?s.textContent!==o&&(a.suppressHydrationWarning!==!0&&Ds(s.textContent,o,e),l=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Ds(s.textContent,o,e),l=["children",""+o]):Lr.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&de("scroll",s)}switch(n){case"input":Ns(s),$o(s,a,!0);break;case"textarea":Ns(s),zo(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=al)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Od(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[gt]=t,e[Qr]=s,rm(e,t,!1,!1),t.stateNode=e;e:{switch(i=za(n,s),n){case"dialog":de("cancel",e),de("close",e),l=s;break;case"iframe":case"object":case"embed":de("load",e),l=s;break;case"video":case"audio":for(l=0;l<Cr.length;l++)de(Cr[l],e);l=s;break;case"source":de("error",e),l=s;break;case"img":case"image":case"link":de("error",e),de("load",e),l=s;break;case"details":de("toggle",e),l=s;break;case"input":Lo(e,s),l=Ma(e,s),de("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=xe({},s,{value:void 0}),de("invalid",e);break;case"textarea":Fo(e,s),l=La(e,s),de("invalid",e);break;default:l=s}Fa(n,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var d=o[a];a==="style"?Rd(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Md(e,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&$r(e,d):typeof d=="number"&&$r(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Lr.hasOwnProperty(a)?d!=null&&a==="onScroll"&&de("scroll",e):d!=null&&Oi(e,a,d,i))}switch(n){case"input":Ns(e),$o(e,s,!1);break;case"textarea":Ns(e),zo(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Zt(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Vn(e,!!s.multiple,a,!1):s.defaultValue!=null&&Vn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=al)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)lm(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(M(166));if(n=dn(Yr.current),dn(vt.current),Ts(t)){if(s=t.stateNode,n=t.memoizedProps,s[gt]=t,(a=s.nodeValue!==n)&&(e=Ye,e!==null))switch(e.tag){case 3:Ds(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ds(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[gt]=t,t.stateNode=s}return Ae(t),null;case 13:if(ue(pe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&Ke!==null&&t.mode&1&&!(t.flags&128))wu(),Xn(),t.flags|=98560,a=!1;else if(a=Ts(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(M(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(M(317));a[gt]=t}else Xn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),a=!1}else ut!==null&&(bi(ut),ut=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?ke===0&&(ke=3):xo())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return Zn(),mi(e,t),e===null&&Wr(t.stateNode.containerInfo),Ae(t),null;case 10:return Zi(t.type._context),Ae(t),null;case 17:return He(t.type)&&il(),Ae(t),null;case 19:if(ue(pe),a=t.memoizedState,a===null)return Ae(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)vr(a,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=fl(e),i!==null){for(t.flags|=128,vr(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ae(pe,pe.current&1|2),t.child}e=e.sibling}a.tail!==null&&be()>er&&(t.flags|=128,s=!0,vr(a,!1),t.lanes=4194304)}else{if(!s)if(e=fl(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!me)return Ae(t),null}else 2*be()-a.renderingStartTime>er&&n!==1073741824&&(t.flags|=128,s=!0,vr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=be(),t.sibling=null,n=pe.current,ae(pe,s?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return ho(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Qe&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function dh(e,t){switch(Ki(t),t.tag){case 1:return He(t.type)&&il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zn(),ue(Be),ue(_e),ro(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return no(t),null;case 13:if(ue(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(pe),null;case 4:return Zn(),null;case 10:return Zi(t.type._context),null;case 22:case 23:return ho(),null;case 24:return null;default:return null}}var Os=!1,Me=!1,uh=typeof WeakSet=="function"?WeakSet:Set,U=null;function zn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ye(e,t,s)}else n.current=null}function pi(e,t,n){try{n()}catch(s){ye(e,t,s)}}var Dc=!1;function mh(e,t){if(Xa=rl,e=du(),Gi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,d=-1,u=0,c=0,p=e,h=null;t:for(;;){for(var j;p!==n||l!==0&&p.nodeType!==3||(o=i+l),p!==a||s!==0&&p.nodeType!==3||(d=i+s),p.nodeType===3&&(i+=p.nodeValue.length),(j=p.firstChild)!==null;)h=p,p=j;for(;;){if(p===e)break t;if(h===n&&++u===l&&(o=i),h===a&&++c===s&&(d=i),(j=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=j}n=o===-1||d===-1?null:{start:o,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ja={focusedElem:e,selectionRange:n},rl=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var v=f.memoizedProps,N=f.memoizedState,m=t.stateNode,x=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ct(t.type,v),N);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(w){ye(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return f=Dc,Dc=!1,f}function Mr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&pi(t,n,a)}l=l.next}while(l!==s)}}function Ml(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function fi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function am(e){var t=e.alternate;t!==null&&(e.alternate=null,am(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gt],delete t[Qr],delete t[ei],delete t[Kf],delete t[Yf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function im(e){return e.tag===5||e.tag===3||e.tag===4}function Tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||im(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hi(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=al));else if(s!==4&&(e=e.child,e!==null))for(hi(e,t,n),e=e.sibling;e!==null;)hi(e,t,n),e=e.sibling}function xi(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(xi(e,t,n),e=e.sibling;e!==null;)xi(e,t,n),e=e.sibling}var Pe=null,dt=!1;function _t(e,t,n){for(n=n.child;n!==null;)om(e,t,n),n=n.sibling}function om(e,t,n){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Cl,n)}catch{}switch(n.tag){case 5:Me||zn(n,t);case 6:var s=Pe,l=dt;Pe=null,_t(e,t,n),Pe=s,dt=l,Pe!==null&&(dt?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(dt?(e=Pe,n=n.stateNode,e.nodeType===8?ua(e.parentNode,n):e.nodeType===1&&ua(e,n),Vr(e)):ua(Pe,n.stateNode));break;case 4:s=Pe,l=dt,Pe=n.stateNode.containerInfo,dt=!0,_t(e,t,n),Pe=s,dt=l;break;case 0:case 11:case 14:case 15:if(!Me&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&pi(n,t,i),l=l.next}while(l!==s)}_t(e,t,n);break;case 1:if(!Me&&(zn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){ye(n,t,o)}_t(e,t,n);break;case 21:_t(e,t,n);break;case 22:n.mode&1?(Me=(s=Me)||n.memoizedState!==null,_t(e,t,n),Me=s):_t(e,t,n);break;default:_t(e,t,n)}}function Ic(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uh),t.forEach(function(s){var l=Nh.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function it(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Pe=o.stateNode,dt=!1;break e;case 3:Pe=o.stateNode.containerInfo,dt=!0;break e;case 4:Pe=o.stateNode.containerInfo,dt=!0;break e}o=o.return}if(Pe===null)throw Error(M(160));om(a,i,l),Pe=null,dt=!1;var d=l.alternate;d!==null&&(d.return=null),l.return=null}catch(u){ye(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cm(t,e),t=t.sibling}function cm(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(it(t,e),ht(e),s&4){try{Mr(3,e,e.return),Ml(3,e)}catch(v){ye(e,e.return,v)}try{Mr(5,e,e.return)}catch(v){ye(e,e.return,v)}}break;case 1:it(t,e),ht(e),s&512&&n!==null&&zn(n,n.return);break;case 5:if(it(t,e),ht(e),s&512&&n!==null&&zn(n,n.return),e.flags&32){var l=e.stateNode;try{$r(l,"")}catch(v){ye(e,e.return,v)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Id(l,a),za(o,i);var u=za(o,a);for(i=0;i<d.length;i+=2){var c=d[i],p=d[i+1];c==="style"?Rd(l,p):c==="dangerouslySetInnerHTML"?Md(l,p):c==="children"?$r(l,p):Oi(l,c,p,u)}switch(o){case"input":_a(l,a);break;case"textarea":Ad(l,a);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var j=a.value;j!=null?Vn(l,!!a.multiple,j,!1):h!==!!a.multiple&&(a.defaultValue!=null?Vn(l,!!a.multiple,a.defaultValue,!0):Vn(l,!!a.multiple,a.multiple?[]:"",!1))}l[Qr]=a}catch(v){ye(e,e.return,v)}}break;case 6:if(it(t,e),ht(e),s&4){if(e.stateNode===null)throw Error(M(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(v){ye(e,e.return,v)}}break;case 3:if(it(t,e),ht(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Vr(t.containerInfo)}catch(v){ye(e,e.return,v)}break;case 4:it(t,e),ht(e);break;case 13:it(t,e),ht(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(po=be())),s&4&&Ic(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Me=(u=Me)||c,it(t,e),Me=u):it(t,e),ht(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(U=e,c=e.child;c!==null;){for(p=U=c;U!==null;){switch(h=U,j=h.child,h.tag){case 0:case 11:case 14:case 15:Mr(4,h,h.return);break;case 1:zn(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){s=h,n=h.return;try{t=s,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){ye(s,n,v)}}break;case 5:zn(h,h.return);break;case 22:if(h.memoizedState!==null){Oc(p);continue}}j!==null?(j.return=h,U=j):Oc(p)}c=c.sibling}e:for(c=null,p=e;;){if(p.tag===5){if(c===null){c=p;try{l=p.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=p.stateNode,d=p.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=_d("display",i))}catch(v){ye(e,e.return,v)}}}else if(p.tag===6){if(c===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(v){ye(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;c===p&&(c=null),p=p.return}c===p&&(c=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:it(t,e),ht(e),s&4&&Ic(e);break;case 21:break;default:it(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(im(n)){var s=n;break e}n=n.return}throw Error(M(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&($r(l,""),s.flags&=-33);var a=Tc(e);xi(e,a,l);break;case 3:case 4:var i=s.stateNode.containerInfo,o=Tc(e);hi(e,o,i);break;default:throw Error(M(161))}}catch(d){ye(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ph(e,t,n){U=e,dm(e)}function dm(e,t,n){for(var s=(e.mode&1)!==0;U!==null;){var l=U,a=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||Os;if(!i){var o=l.alternate,d=o!==null&&o.memoizedState!==null||Me;o=Os;var u=Me;if(Os=i,(Me=d)&&!u)for(U=l;U!==null;)i=U,d=i.child,i.tag===22&&i.memoizedState!==null?Mc(l):d!==null?(d.return=i,U=d):Mc(l);for(;a!==null;)U=a,dm(a),a=a.sibling;U=l,Os=o,Me=u}Ac(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,U=a):Ac(e)}}function Ac(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||Ml(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Me)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:ct(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&xc(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xc(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var p=c.dehydrated;p!==null&&Vr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Me||t.flags&512&&fi(t)}catch(h){ye(t,t.return,h)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function Oc(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function Mc(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ml(4,t)}catch(d){ye(t,n,d)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(d){ye(t,l,d)}}var a=t.return;try{fi(t)}catch(d){ye(t,a,d)}break;case 5:var i=t.return;try{fi(t)}catch(d){ye(t,i,d)}}}catch(d){ye(t,t.return,d)}if(t===e){U=null;break}var o=t.sibling;if(o!==null){o.return=t.return,U=o;break}U=t.return}}var fh=Math.ceil,gl=Tt.ReactCurrentDispatcher,uo=Tt.ReactCurrentOwner,rt=Tt.ReactCurrentBatchConfig,ee=0,Ce=null,Ne=null,De=0,Qe=0,Un=nn(0),ke=0,qr=null,gn=0,_l=0,mo=0,_r=null,Ue=null,po=0,er=1/0,Nt=null,yl=!1,gi=null,Kt=null,Ms=!1,Ut=null,vl=0,Rr=0,yi=null,Ys=-1,Xs=0;function $e(){return ee&6?be():Ys!==-1?Ys:Ys=be()}function Yt(e){return e.mode&1?ee&2&&De!==0?De&-De:Jf.transition!==null?(Xs===0&&(Xs=Kd()),Xs):(e=ne,e!==0||(e=window.event,e=e===void 0?16:tu(e.type)),e):1}function pt(e,t,n,s){if(50<Rr)throw Rr=0,yi=null,Error(M(185));ss(e,n,s),(!(ee&2)||e!==Ce)&&(e===Ce&&(!(ee&2)&&(_l|=n),ke===4&&Ft(e,De)),We(e,s),n===1&&ee===0&&!(t.mode&1)&&(er=be()+500,Il&&rn()))}function We(e,t){var n=e.callbackNode;Xp(e,t);var s=nl(e,e===Ce?De:0);if(s===0)n!==null&&Bo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Bo(n),t===1)e.tag===0?Xf(_c.bind(null,e)):bu(_c.bind(null,e)),Gf(function(){!(ee&6)&&rn()}),n=null;else{switch(Yd(s)){case 1:n=$i;break;case 4:n=Gd;break;case 16:n=tl;break;case 536870912:n=Qd;break;default:n=tl}n=ym(n,um.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function um(e,t){if(Ys=-1,Xs=0,ee&6)throw Error(M(327));var n=e.callbackNode;if(Qn()&&e.callbackNode!==n)return null;var s=nl(e,e===Ce?De:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=bl(e,s);else{t=s;var l=ee;ee|=2;var a=pm();(Ce!==e||De!==t)&&(Nt=null,er=be()+500,un(e,t));do try{gh();break}catch(o){mm(e,o)}while(!0);Ji(),gl.current=a,ee=l,Ne!==null?t=0:(Ce=null,De=0,t=ke)}if(t!==0){if(t===2&&(l=Wa(e),l!==0&&(s=l,t=vi(e,l))),t===1)throw n=qr,un(e,0),Ft(e,s),We(e,be()),n;if(t===6)Ft(e,s);else{if(l=e.current.alternate,!(s&30)&&!hh(l)&&(t=bl(e,s),t===2&&(a=Wa(e),a!==0&&(s=a,t=vi(e,a))),t===1))throw n=qr,un(e,0),Ft(e,s),We(e,be()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(M(345));case 2:an(e,Ue,Nt);break;case 3:if(Ft(e,s),(s&130023424)===s&&(t=po+500-be(),10<t)){if(nl(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){$e(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=qa(an.bind(null,e,Ue,Nt),t);break}an(e,Ue,Nt);break;case 4:if(Ft(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-mt(s);a=1<<i,i=t[i],i>l&&(l=i),s&=~a}if(s=l,s=be()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*fh(s/1960))-s,10<s){e.timeoutHandle=qa(an.bind(null,e,Ue,Nt),s);break}an(e,Ue,Nt);break;case 5:an(e,Ue,Nt);break;default:throw Error(M(329))}}}return We(e,be()),e.callbackNode===n?um.bind(null,e):null}function vi(e,t){var n=_r;return e.current.memoizedState.isDehydrated&&(un(e,t).flags|=256),e=bl(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&bi(t)),e}function bi(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function hh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],a=l.getSnapshot;l=l.value;try{if(!ft(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ft(e,t){for(t&=~mo,t&=~_l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),s=1<<n;e[n]=-1,t&=~s}}function _c(e){if(ee&6)throw Error(M(327));Qn();var t=nl(e,0);if(!(t&1))return We(e,be()),null;var n=bl(e,t);if(e.tag!==0&&n===2){var s=Wa(e);s!==0&&(t=s,n=vi(e,s))}if(n===1)throw n=qr,un(e,0),Ft(e,t),We(e,be()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,an(e,Ue,Nt),We(e,be()),null}function fo(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(er=be()+500,Il&&rn())}}function yn(e){Ut!==null&&Ut.tag===0&&!(ee&6)&&Qn();var t=ee;ee|=1;var n=rt.transition,s=ne;try{if(rt.transition=null,ne=1,e)return e()}finally{ne=s,rt.transition=n,ee=t,!(ee&6)&&rn()}}function ho(){Qe=Un.current,ue(Un)}function un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Wf(n)),Ne!==null)for(n=Ne.return;n!==null;){var s=n;switch(Ki(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&il();break;case 3:Zn(),ue(Be),ue(_e),ro();break;case 5:no(s);break;case 4:Zn();break;case 13:ue(pe);break;case 19:ue(pe);break;case 10:Zi(s.type._context);break;case 22:case 23:ho()}n=n.return}if(Ce=e,Ne=e=Xt(e.current,null),De=Qe=t,ke=0,qr=null,mo=_l=gn=0,Ue=_r=null,cn!==null){for(t=0;t<cn.length;t++)if(n=cn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,s.next=i}n.pending=s}cn=null}return e}function mm(e,t){do{var n=Ne;try{if(Ji(),Gs.current=xl,hl){for(var s=fe.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}hl=!1}if(xn=0,Se=we=fe=null,Or=!1,Xr=0,uo.current=null,n===null||n.return===null){ke=1,qr=t,Ne=null;break}e:{var a=e,i=n.return,o=n,d=t;if(t=De,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,c=o,p=c.tag;if(!(c.mode&1)&&(p===0||p===11||p===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var j=jc(i);if(j!==null){j.flags&=-257,wc(j,i,o,a,t),j.mode&1&&Nc(a,u,t),t=j,d=u;var f=t.updateQueue;if(f===null){var v=new Set;v.add(d),t.updateQueue=v}else f.add(d);break e}else{if(!(t&1)){Nc(a,u,t),xo();break e}d=Error(M(426))}}else if(me&&o.mode&1){var N=jc(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),wc(N,i,o,a,t),Yi(qn(d,o));break e}}a=d=qn(d,o),ke!==4&&(ke=2),_r===null?_r=[a]:_r.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=Yu(a,d,t);hc(a,m);break e;case 1:o=d;var x=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Kt===null||!Kt.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=Xu(a,o,t);hc(a,w);break e}}a=a.return}while(a!==null)}hm(n)}catch(E){t=E,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function pm(){var e=gl.current;return gl.current=xl,e===null?xl:e}function xo(){(ke===0||ke===3||ke===2)&&(ke=4),Ce===null||!(gn&268435455)&&!(_l&268435455)||Ft(Ce,De)}function bl(e,t){var n=ee;ee|=2;var s=pm();(Ce!==e||De!==t)&&(Nt=null,un(e,t));do try{xh();break}catch(l){mm(e,l)}while(!0);if(Ji(),ee=n,gl.current=s,Ne!==null)throw Error(M(261));return Ce=null,De=0,ke}function xh(){for(;Ne!==null;)fm(Ne)}function gh(){for(;Ne!==null&&!Up();)fm(Ne)}function fm(e){var t=gm(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?hm(e):Ne=t,uo.current=null}function hm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dh(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,Ne=null;return}}else if(n=ch(n,t,Qe),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);ke===0&&(ke=5)}function an(e,t,n){var s=ne,l=rt.transition;try{rt.transition=null,ne=1,yh(e,t,n,s)}finally{rt.transition=l,ne=s}return null}function yh(e,t,n,s){do Qn();while(Ut!==null);if(ee&6)throw Error(M(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Jp(e,a),e===Ce&&(Ne=Ce=null,De=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ms||(Ms=!0,ym(tl,function(){return Qn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=rt.transition,rt.transition=null;var i=ne;ne=1;var o=ee;ee|=4,uo.current=null,mh(e,n),cm(n,e),$f(Ja),rl=!!Xa,Ja=Xa=null,e.current=n,ph(n),Vp(),ee=o,ne=i,rt.transition=a}else e.current=n;if(Ms&&(Ms=!1,Ut=e,vl=l),a=e.pendingLanes,a===0&&(Kt=null),Wp(n.stateNode),We(e,be()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(yl)throw yl=!1,e=gi,gi=null,e;return vl&1&&e.tag!==0&&Qn(),a=e.pendingLanes,a&1?e===yi?Rr++:(Rr=0,yi=e):Rr=0,rn(),null}function Qn(){if(Ut!==null){var e=Yd(vl),t=rt.transition,n=ne;try{if(rt.transition=null,ne=16>e?16:e,Ut===null)var s=!1;else{if(e=Ut,Ut=null,vl=0,ee&6)throw Error(M(331));var l=ee;for(ee|=4,U=e.current;U!==null;){var a=U,i=a.child;if(U.flags&16){var o=a.deletions;if(o!==null){for(var d=0;d<o.length;d++){var u=o[d];for(U=u;U!==null;){var c=U;switch(c.tag){case 0:case 11:case 15:Mr(8,c,a)}var p=c.child;if(p!==null)p.return=c,U=p;else for(;U!==null;){c=U;var h=c.sibling,j=c.return;if(am(c),c===u){U=null;break}if(h!==null){h.return=j,U=h;break}U=j}}}var f=a.alternate;if(f!==null){var v=f.child;if(v!==null){f.child=null;do{var N=v.sibling;v.sibling=null,v=N}while(v!==null)}}U=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,U=i;else e:for(;U!==null;){if(a=U,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Mr(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,U=m;break e}U=a.return}}var x=e.current;for(U=x;U!==null;){i=U;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,U=y;else e:for(i=x;U!==null;){if(o=U,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ml(9,o)}}catch(E){ye(o,o.return,E)}if(o===i){U=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,U=w;break e}U=o.return}}if(ee=l,rn(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Cl,e)}catch{}s=!0}return s}finally{ne=n,rt.transition=t}}return!1}function Rc(e,t,n){t=qn(n,t),t=Yu(e,t,1),e=Qt(e,t,1),t=$e(),e!==null&&(ss(e,1,t),We(e,t))}function ye(e,t,n){if(e.tag===3)Rc(e,e,n);else for(;t!==null;){if(t.tag===3){Rc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Kt===null||!Kt.has(s))){e=qn(n,e),e=Xu(t,e,1),t=Qt(t,e,1),e=$e(),t!==null&&(ss(t,1,e),We(t,e));break}}t=t.return}}function vh(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(De&n)===n&&(ke===4||ke===3&&(De&130023424)===De&&500>be()-po?un(e,0):mo|=n),We(e,t)}function xm(e,t){t===0&&(e.mode&1?(t=ks,ks<<=1,!(ks&130023424)&&(ks=4194304)):t=1);var n=$e();e=Pt(e,t),e!==null&&(ss(e,t,n),We(e,n))}function bh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xm(e,n)}function Nh(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(M(314))}s!==null&&s.delete(t),xm(e,n)}var gm;gm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Be.current)Ve=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ve=!1,oh(e,t,n);Ve=!!(e.flags&131072)}else Ve=!1,me&&t.flags&1048576&&Nu(t,dl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ks(e,t),e=t.pendingProps;var l=Yn(t,_e.current);Gn(t,n),l=lo(null,t,s,e,l,n);var a=ao();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,He(s)?(a=!0,ol(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,eo(t),l.updater=Ol,t.stateNode=l,l._reactInternals=t,ai(t,s,e,n),t=ci(null,t,s,!0,a,n)):(t.tag=0,me&&a&&Qi(t),Le(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=wh(s),e=ct(s,e),l){case 0:t=oi(null,t,s,e,n);break e;case 1:t=Cc(null,t,s,e,n);break e;case 11:t=kc(null,t,s,e,n);break e;case 14:t=Sc(null,t,s,ct(s.type,e),n);break e}throw Error(M(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:ct(s,l),oi(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:ct(s,l),Cc(e,t,s,l,n);case 3:e:{if(em(t),e===null)throw Error(M(387));s=t.pendingProps,a=t.memoizedState,l=a.element,Eu(e,t),pl(t,s,null,n);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=qn(Error(M(423)),t),t=Ec(e,t,s,n,l);break e}else if(s!==l){l=qn(Error(M(424)),t),t=Ec(e,t,s,n,l);break e}else for(Ke=Gt(t.stateNode.containerInfo.firstChild),Ye=t,me=!0,ut=null,n=Su(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xn(),s===l){t=Dt(e,t,n);break e}Le(e,t,s,n)}t=t.child}return t;case 5:return Pu(t),e===null&&ri(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,Za(s,l)?i=null:a!==null&&Za(s,a)&&(t.flags|=32),qu(e,t),Le(e,t,i,n),t.child;case 6:return e===null&&ri(t),null;case 13:return tm(e,t,n);case 4:return to(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Jn(t,null,s,n):Le(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:ct(s,l),kc(e,t,s,l,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,ae(ul,s._currentValue),s._currentValue=i,a!==null)if(ft(a.value,i)){if(a.children===l.children&&!Be.current){t=Dt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var d=o.firstContext;d!==null;){if(d.context===s){if(a.tag===1){d=St(-1,n&-n),d.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?d.next=d:(d.next=c.next,c.next=d),u.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),si(a.return,n,t),o.lanes|=n;break}d=d.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(M(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),si(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Le(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,Gn(t,n),l=st(l),s=s(l),t.flags|=1,Le(e,t,s,n),t.child;case 14:return s=t.type,l=ct(s,t.pendingProps),l=ct(s.type,l),Sc(e,t,s,l,n);case 15:return Ju(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:ct(s,l),Ks(e,t),t.tag=1,He(s)?(e=!0,ol(t)):e=!1,Gn(t,n),Ku(t,s,l),ai(t,s,l,n),ci(null,t,s,!0,e,n);case 19:return nm(e,t,n);case 22:return Zu(e,t,n)}throw Error(M(156,t.tag))};function ym(e,t){return Wd(e,t)}function jh(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(e,t,n,s){return new jh(e,t,n,s)}function go(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wh(e){if(typeof e=="function")return go(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_i)return 11;if(e===Ri)return 14}return 2}function Xt(e,t){var n=e.alternate;return n===null?(n=nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Js(e,t,n,s,l,a){var i=2;if(s=e,typeof e=="function")go(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case In:return mn(n.children,l,a,t);case Mi:i=8,l|=8;break;case Ta:return e=nt(12,n,t,l|2),e.elementType=Ta,e.lanes=a,e;case Ia:return e=nt(13,n,t,l),e.elementType=Ia,e.lanes=a,e;case Aa:return e=nt(19,n,t,l),e.elementType=Aa,e.lanes=a,e;case Pd:return Rl(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cd:i=10;break e;case Ed:i=9;break e;case _i:i=11;break e;case Ri:i=14;break e;case Rt:i=16,s=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=nt(i,n,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function mn(e,t,n,s){return e=nt(7,e,s,t),e.lanes=n,e}function Rl(e,t,n,s){return e=nt(22,e,s,t),e.elementType=Pd,e.lanes=n,e.stateNode={isHidden:!1},e}function va(e,t,n){return e=nt(6,e,null,t),e.lanes=n,e}function ba(e,t,n){return t=nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kh(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ea(0),this.expirationTimes=ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function yo(e,t,n,s,l,a,i,o,d){return e=new kh(e,t,n,o,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=nt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eo(a),e}function Sh(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function vm(e){if(!e)return qt;e=e._reactInternals;e:{if(bn(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(He(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(He(n))return vu(e,n,t)}return t}function bm(e,t,n,s,l,a,i,o,d){return e=yo(n,s,!0,e,l,a,i,o,d),e.context=vm(null),n=e.current,s=$e(),l=Yt(n),a=St(s,l),a.callback=t??null,Qt(n,a,l),e.current.lanes=l,ss(e,l,s),We(e,s),e}function Ll(e,t,n,s){var l=t.current,a=$e(),i=Yt(l);return n=vm(n),t.context===null?t.context=n:t.pendingContext=n,t=St(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Qt(l,t,i),e!==null&&(pt(e,l,i,a),Ws(e,l,i)),i}function Nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vo(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}function Ch(){return null}var Nm=typeof reportError=="function"?reportError:function(e){console.error(e)};function bo(e){this._internalRoot=e}$l.prototype.render=bo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Ll(e,t,null,null)};$l.prototype.unmount=bo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yn(function(){Ll(null,e,null,null)}),t[Et]=null}};function $l(e){this._internalRoot=e}$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$t.length&&t!==0&&t<$t[n].priority;n++);$t.splice(n,0,e),n===0&&eu(e)}};function No(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $c(){}function Eh(e,t,n,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var u=Nl(i);a.call(u)}}var i=bm(t,s,e,0,null,!1,!1,"",$c);return e._reactRootContainer=i,e[Et]=i.current,Wr(e.nodeType===8?e.parentNode:e),yn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var o=s;s=function(){var u=Nl(d);o.call(u)}}var d=yo(e,0,!1,null,null,!1,!1,"",$c);return e._reactRootContainer=d,e[Et]=d.current,Wr(e.nodeType===8?e.parentNode:e),yn(function(){Ll(t,d,n,s)}),d}function zl(e,t,n,s,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var d=Nl(i);o.call(d)}}Ll(t,i,e,l)}else i=Eh(n,t,e,l,s);return Nl(i)}Xd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Sr(t.pendingLanes);n!==0&&(Fi(t,n|1),We(t,be()),!(ee&6)&&(er=be()+500,rn()))}break;case 13:yn(function(){var s=Pt(e,1);if(s!==null){var l=$e();pt(s,e,1,l)}}),vo(e,1)}};zi=function(e){if(e.tag===13){var t=Pt(e,134217728);if(t!==null){var n=$e();pt(t,e,134217728,n)}vo(e,134217728)}};Jd=function(e){if(e.tag===13){var t=Yt(e),n=Pt(e,t);if(n!==null){var s=$e();pt(n,e,t,s)}vo(e,t)}};Zd=function(){return ne};qd=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};Va=function(e,t,n){switch(t){case"input":if(_a(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Tl(s);if(!l)throw Error(M(90));Td(s),_a(s,l)}}}break;case"textarea":Ad(e,n);break;case"select":t=n.value,t!=null&&Vn(e,!!n.multiple,t,!1)}};Fd=fo;zd=yn;var Ph={usingClientEntryPoint:!1,Events:[as,_n,Tl,Ld,$d,fo]},br={findFiberByHostInstance:on,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dh={bundleType:br.bundleType,version:br.version,rendererPackageName:br.rendererPackageName,rendererConfig:br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bd(e),e===null?null:e.stateNode},findFiberByHostInstance:br.findFiberByHostInstance||Ch,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_s.isDisabled&&_s.supportsFiber)try{Cl=_s.inject(Dh),yt=_s}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ph;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!No(t))throw Error(M(200));return Sh(e,t,null,n)};Je.createRoot=function(e,t){if(!No(e))throw Error(M(299));var n=!1,s="",l=Nm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=yo(e,1,!1,null,null,n,!1,s,l),e[Et]=t.current,Wr(e.nodeType===8?e.parentNode:e),new bo(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Bd(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return yn(e)};Je.hydrate=function(e,t,n){if(!Fl(t))throw Error(M(200));return zl(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!No(e))throw Error(M(405));var s=n!=null&&n.hydratedSources||null,l=!1,a="",i=Nm;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=bm(t,null,e,1,n??null,l,!1,a,i),e[Et]=t.current,Wr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new $l(t)};Je.render=function(e,t,n){if(!Fl(t))throw Error(M(200));return zl(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!Fl(e))throw Error(M(40));return e._reactRootContainer?(yn(function(){zl(null,null,e,!1,function(){e._reactRootContainer=null,e[Et]=null})}),!0):!1};Je.unstable_batchedUpdates=fo;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Fl(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return zl(e,t,n,!1,s)};Je.version="18.3.1-next-f1338f8080-20240426";function jm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jm)}catch(e){console.error(e)}}jm(),jd.exports=Je;var Th=jd.exports,Fc=Th;Pa.createRoot=Fc.createRoot,Pa.hydrateRoot=Fc.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},es.apply(this,arguments)}var Vt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vt||(Vt={}));const zc="popstate";function Ih(e){e===void 0&&(e={});function t(s,l){let{pathname:a,search:i,hash:o}=s.location;return Ni("",{pathname:a,search:i,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:jl(l)}return Oh(t,n,null,e)}function he(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ah(){return Math.random().toString(36).substr(2,8)}function Uc(e,t){return{usr:e.state,key:e.key,idx:t}}function Ni(e,t,n,s){return n===void 0&&(n=null),es({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?lr(t):t,{state:n,key:t&&t.key||s||Ah()})}function jl(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function lr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Oh(e,t,n,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:a=!1}=s,i=l.history,o=Vt.Pop,d=null,u=c();u==null&&(u=0,i.replaceState(es({},i.state,{idx:u}),""));function c(){return(i.state||{idx:null}).idx}function p(){o=Vt.Pop;let N=c(),m=N==null?null:N-u;u=N,d&&d({action:o,location:v.location,delta:m})}function h(N,m){o=Vt.Push;let x=Ni(v.location,N,m);u=c()+1;let y=Uc(x,u),w=v.createHref(x);try{i.pushState(y,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;l.location.assign(w)}a&&d&&d({action:o,location:v.location,delta:1})}function j(N,m){o=Vt.Replace;let x=Ni(v.location,N,m);u=c();let y=Uc(x,u),w=v.createHref(x);i.replaceState(y,"",w),a&&d&&d({action:o,location:v.location,delta:0})}function f(N){let m=l.location.origin!=="null"?l.location.origin:l.location.href,x=typeof N=="string"?N:jl(N);return x=x.replace(/ $/,"%20"),he(m,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,m)}let v={get action(){return o},get location(){return e(l,i)},listen(N){if(d)throw new Error("A history only accepts one active listener");return l.addEventListener(zc,p),d=N,()=>{l.removeEventListener(zc,p),d=null}},createHref(N){return t(l,N)},createURL:f,encodeLocation(N){let m=f(N);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:j,go(N){return i.go(N)}};return v}var Vc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Vc||(Vc={}));function Mh(e,t,n){return n===void 0&&(n="/"),_h(e,t,n)}function _h(e,t,n,s){let l=typeof t=="string"?lr(t):t,a=tr(l.pathname||"/",n);if(a==null)return null;let i=wm(e);Rh(i);let o=null;for(let d=0;o==null&&d<i.length;++d){let u=Qh(a);o=Wh(i[d],u)}return o}function wm(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let l=(a,i,o)=>{let d={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};d.relativePath.startsWith("/")&&(he(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let u=Jt([s,d.relativePath]),c=n.concat(d);a.children&&a.children.length>0&&(he(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wm(a.children,t,c,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Bh(u,a.index),routesMeta:c})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))l(a,i);else for(let d of km(a.path))l(a,i,d)}),t}function km(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return l?[a,""]:[a];let i=km(s.join("/")),o=[];return o.push(...i.map(d=>d===""?a:[a,d].join("/"))),l&&o.push(...i),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function Rh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Hh(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Lh=/^:[\w-]+$/,$h=3,Fh=2,zh=1,Uh=10,Vh=-2,Bc=e=>e==="*";function Bh(e,t){let n=e.split("/"),s=n.length;return n.some(Bc)&&(s+=Vh),t&&(s+=Fh),n.filter(l=>!Bc(l)).reduce((l,a)=>l+(Lh.test(a)?$h:a===""?zh:Uh),s)}function Hh(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function Wh(e,t,n){let{routesMeta:s}=e,l={},a="/",i=[];for(let o=0;o<s.length;++o){let d=s[o],u=o===s.length-1,c=a==="/"?t:t.slice(a.length)||"/",p=ji({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},c),h=d.route;if(!p)return null;Object.assign(l,p.params),i.push({params:l,pathname:Jt([a,p.pathname]),pathnameBase:Zh(Jt([a,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(a=Jt([a,p.pathnameBase]))}return i}function ji(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Gh(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:s.reduce((u,c,p)=>{let{paramName:h,isOptional:j}=c;if(h==="*"){let v=o[p]||"";i=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const f=o[p];return j&&!f?u[h]=void 0:u[h]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function Gh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),jo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,d)=>(s.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function Qh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function tr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const Kh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yh=e=>Kh.test(e);function Xh(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:l=""}=typeof e=="string"?lr(e):e,a;if(n)if(Yh(n))a=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),jo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?a=Hc(n.substring(1),"/"):a=Hc(n,t)}else a=t;return{pathname:a,search:qh(s),hash:ex(l)}}function Hc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Na(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jh(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wo(e,t){let n=Jh(e);return t?n.map((s,l)=>l===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function ko(e,t,n,s){s===void 0&&(s=!1);let l;typeof e=="string"?l=lr(e):(l=es({},e),he(!l.pathname||!l.pathname.includes("?"),Na("?","pathname","search",l)),he(!l.pathname||!l.pathname.includes("#"),Na("#","pathname","hash",l)),he(!l.search||!l.search.includes("#"),Na("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,o;if(i==null)o=n;else{let p=t.length-1;if(!s&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),p-=1;l.pathname=h.join("/")}o=p>=0?t[p]:"/"}let d=Xh(l,o),u=i&&i!=="/"&&i.endsWith("/"),c=(a||i===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(u||c)&&(d.pathname+="/"),d}const Jt=e=>e.join("/").replace(/\/\/+/g,"/"),Zh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ex=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Sm=["post","put","patch","delete"];new Set(Sm);const nx=["get",...Sm];new Set(nx);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ts.apply(this,arguments)}const Ul=g.createContext(null),Cm=g.createContext(null),It=g.createContext(null),Vl=g.createContext(null),bt=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Em=g.createContext(null);function rx(e,t){let{relative:n}=t===void 0?{}:t;ar()||he(!1);let{basename:s,navigator:l}=g.useContext(It),{hash:a,pathname:i,search:o}=Bl(e,{relative:n}),d=i;return s!=="/"&&(d=i==="/"?s:Jt([s,i])),l.createHref({pathname:d,search:o,hash:a})}function ar(){return g.useContext(Vl)!=null}function sn(){return ar()||he(!1),g.useContext(Vl).location}function Pm(e){g.useContext(It).static||g.useLayoutEffect(e)}function at(){let{isDataRoute:e}=g.useContext(bt);return e?yx():sx()}function sx(){ar()||he(!1);let e=g.useContext(Ul),{basename:t,future:n,navigator:s}=g.useContext(It),{matches:l}=g.useContext(bt),{pathname:a}=sn(),i=JSON.stringify(wo(l,n.v7_relativeSplatPath)),o=g.useRef(!1);return Pm(()=>{o.current=!0}),g.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){s.go(u);return}let p=ko(u,JSON.parse(i),a,c.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Jt([t,p.pathname])),(c.replace?s.replace:s.push)(p,c.state,c)},[t,s,i,a,e])}const lx=g.createContext(null);function ax(e){let t=g.useContext(bt).outlet;return t&&g.createElement(lx.Provider,{value:e},t)}function Dm(){let{matches:e}=g.useContext(bt),t=e[e.length-1];return t?t.params:{}}function Bl(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=g.useContext(It),{matches:l}=g.useContext(bt),{pathname:a}=sn(),i=JSON.stringify(wo(l,s.v7_relativeSplatPath));return g.useMemo(()=>ko(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function ix(e,t){return ox(e,t)}function ox(e,t,n,s){ar()||he(!1);let{navigator:l}=g.useContext(It),{matches:a}=g.useContext(bt),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let u=sn(),c;if(t){var p;let N=typeof t=="string"?lr(t):t;d==="/"||(p=N.pathname)!=null&&p.startsWith(d)||he(!1),c=N}else c=u;let h=c.pathname||"/",j=h;if(d!=="/"){let N=d.replace(/^\//,"").split("/");j="/"+h.replace(/^\//,"").split("/").slice(N.length).join("/")}let f=Mh(e,{pathname:j}),v=px(f&&f.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:Jt([d,l.encodeLocation?l.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:Jt([d,l.encodeLocation?l.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,s);return t&&v?g.createElement(Vl.Provider,{value:{location:ts({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Vt.Pop}},v):v}function cx(){let e=gx(),t=tx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:l},n):null,null)}const dx=g.createElement(cx,null);class ux extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(bt.Provider,{value:this.props.routeContext},g.createElement(Em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mx(e){let{routeContext:t,match:n,children:s}=e,l=g.useContext(Ul);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(bt.Provider,{value:t},s)}function px(e,t,n,s){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let c=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);c>=0||he(!1),i=i.slice(0,Math.min(i.length,c+1))}let d=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let c=0;c<i.length;c++){let p=i[c];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=c),p.route.id){let{loaderData:h,errors:j}=n,f=p.route.loader&&h[p.route.id]===void 0&&(!j||j[p.route.id]===void 0);if(p.route.lazy||f){d=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,p,h)=>{let j,f=!1,v=null,N=null;n&&(j=o&&p.route.id?o[p.route.id]:void 0,v=p.route.errorElement||dx,d&&(u<0&&h===0?(vx("route-fallback"),f=!0,N=null):u===h&&(f=!0,N=p.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,h+1)),x=()=>{let y;return j?y=v:f?y=N:p.route.Component?y=g.createElement(p.route.Component,null):p.route.element?y=p.route.element:y=c,g.createElement(mx,{match:p,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:y})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?g.createElement(ux,{location:n.location,revalidation:n.revalidation,component:v,error:j,children:x(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):x()},null)}var Tm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Tm||{}),Im=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Im||{});function fx(e){let t=g.useContext(Ul);return t||he(!1),t}function hx(e){let t=g.useContext(Cm);return t||he(!1),t}function xx(e){let t=g.useContext(bt);return t||he(!1),t}function Am(e){let t=xx(),n=t.matches[t.matches.length-1];return n.route.id||he(!1),n.route.id}function gx(){var e;let t=g.useContext(Em),n=hx(),s=Am();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function yx(){let{router:e}=fx(Tm.UseNavigateStable),t=Am(Im.UseNavigateStable),n=g.useRef(!1);return Pm(()=>{n.current=!0}),g.useCallback(function(l,a){a===void 0&&(a={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,ts({fromRouteId:t},a)))},[e,t])}const Wc={};function vx(e,t,n){Wc[e]||(Wc[e]=!0)}function bx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function So(e){let{to:t,replace:n,state:s,relative:l}=e;ar()||he(!1);let{future:a,static:i}=g.useContext(It),{matches:o}=g.useContext(bt),{pathname:d}=sn(),u=at(),c=ko(t,wo(o,a.v7_relativeSplatPath),d,l==="path"),p=JSON.stringify(c);return g.useEffect(()=>u(JSON.parse(p),{replace:n,state:s,relative:l}),[u,p,l,n,s]),null}function Nx(e){return ax(e.context)}function ve(e){he(!1)}function jx(e){let{basename:t="/",children:n=null,location:s,navigationType:l=Vt.Pop,navigator:a,static:i=!1,future:o}=e;ar()&&he(!1);let d=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:d,navigator:a,static:i,future:ts({v7_relativeSplatPath:!1},o)}),[d,o,a,i]);typeof s=="string"&&(s=lr(s));let{pathname:c="/",search:p="",hash:h="",state:j=null,key:f="default"}=s,v=g.useMemo(()=>{let N=tr(c,d);return N==null?null:{location:{pathname:N,search:p,hash:h,state:j,key:f},navigationType:l}},[d,c,p,h,j,f,l]);return v==null?null:g.createElement(It.Provider,{value:u},g.createElement(Vl.Provider,{children:n,value:v}))}function wx(e){let{children:t,location:n}=e;return ix(wi(t),n)}new Promise(()=>{});function wi(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(s,l)=>{if(!g.isValidElement(s))return;let a=[...t,l];if(s.type===g.Fragment){n.push.apply(n,wi(s.props.children,a));return}s.type!==ve&&he(!1),!s.props.index||!s.props.children||he(!1);let i={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=wi(s.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wl.apply(this,arguments)}function Om(e,t){if(e==null)return{};var n={},s=Object.keys(e),l,a;for(a=0;a<s.length;a++)l=s[a],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function kx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Sx(e,t){return e.button===0&&(!t||t==="_self")&&!kx(e)}function ki(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(l=>[n,l]):[[n,s]])},[]))}function Cx(e,t){let n=ki(e);return t&&t.forEach((s,l)=>{n.has(l)||t.getAll(l).forEach(a=>{n.append(l,a)})}),n}const Ex=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Px=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Dx="6";try{window.__reactRouterVersion=Dx}catch{}const Tx=g.createContext({isTransitioning:!1}),Ix="startTransition",Gc=yp[Ix];function Ax(e){let{basename:t,children:n,future:s,window:l}=e,a=g.useRef();a.current==null&&(a.current=Ih({window:l,v5Compat:!0}));let i=a.current,[o,d]=g.useState({action:i.action,location:i.location}),{v7_startTransition:u}=s||{},c=g.useCallback(p=>{u&&Gc?Gc(()=>d(p)):d(p)},[d,u]);return g.useLayoutEffect(()=>i.listen(c),[i,c]),g.useEffect(()=>bx(s),[s]),g.createElement(jx,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:s})}const Ox=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q=g.forwardRef(function(t,n){let{onClick:s,relative:l,reloadDocument:a,replace:i,state:o,target:d,to:u,preventScrollReset:c,viewTransition:p}=t,h=Om(t,Ex),{basename:j}=g.useContext(It),f,v=!1;if(typeof u=="string"&&Mx.test(u)&&(f=u,Ox))try{let y=new URL(window.location.href),w=u.startsWith("//")?new URL(y.protocol+u):new URL(u),E=tr(w.pathname,j);w.origin===y.origin&&E!=null?u=E+w.search+w.hash:v=!0}catch{}let N=rx(u,{relative:l}),m=Rx(u,{replace:i,state:o,target:d,preventScrollReset:c,relative:l,viewTransition:p});function x(y){s&&s(y),y.defaultPrevented||m(y)}return g.createElement("a",wl({},h,{href:f||N,onClick:v||a?s:x,ref:n,target:d}))}),Qc=g.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:l=!1,className:a="",end:i=!1,style:o,to:d,viewTransition:u,children:c}=t,p=Om(t,Px),h=Bl(d,{relative:p.relative}),j=sn(),f=g.useContext(Cm),{navigator:v,basename:N}=g.useContext(It),m=f!=null&&Lx(h)&&u===!0,x=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,y=j.pathname,w=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;l||(y=y.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&N&&(w=tr(w,N)||w);const E=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let T=y===x||!i&&y.startsWith(x)&&y.charAt(E)==="/",C=w!=null&&(w===x||!i&&w.startsWith(x)&&w.charAt(x.length)==="/"),D={isActive:T,isPending:C,isTransitioning:m},_=T?s:void 0,O;typeof a=="function"?O=a(D):O=[a,T?"active":null,C?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let S=typeof o=="function"?o(D):o;return g.createElement(Q,wl({},p,{"aria-current":_,className:O,ref:n,style:S,to:d,viewTransition:u}),typeof c=="function"?c(D):c)});var Si;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Si||(Si={}));var Kc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Kc||(Kc={}));function _x(e){let t=g.useContext(Ul);return t||he(!1),t}function Rx(e,t){let{target:n,replace:s,state:l,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,d=at(),u=sn(),c=Bl(e,{relative:i});return g.useCallback(p=>{if(Sx(p,n)){p.preventDefault();let h=s!==void 0?s:jl(u)===jl(c);d(e,{replace:h,state:l,preventScrollReset:a,relative:i,viewTransition:o})}},[u,d,c,s,l,n,e,a,i,o])}function Mm(e){let t=g.useRef(ki(e)),n=g.useRef(!1),s=sn(),l=g.useMemo(()=>Cx(s.search,n.current?null:t.current),[s.search]),a=at(),i=g.useCallback((o,d)=>{const u=ki(typeof o=="function"?o(l):o);n.current=!0,a("?"+u,d)},[a,l]);return[l,i]}function Lx(e,t){t===void 0&&(t={});let n=g.useContext(Tx);n==null&&he(!1);let{basename:s}=_x(Si.useViewTransitionState),l=Bl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=tr(n.currentLocation.pathname,s)||n.currentLocation.pathname,i=tr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ji(l.pathname,i)!=null||ji(l.pathname,a)!=null}const _m=[{value:"America/New_York",label:"Eastern (New York, Boston, Miami)",abbr:"ET"},{value:"America/Chicago",label:"Central (Chicago, Houston, Dallas)",abbr:"CT"},{value:"America/Denver",label:"Mountain (Denver, Phoenix, Salt Lake City)",abbr:"MT"},{value:"America/Phoenix",label:"Arizona (Phoenix  no daylight saving)",abbr:"MST"},{value:"America/Los_Angeles",label:"Pacific (Los Angeles, Seattle, San Francisco)",abbr:"PT"},{value:"America/Anchorage",label:"Alaska (Anchorage)",abbr:"AKT"},{value:"Pacific/Honolulu",label:"Hawaii (Honolulu)",abbr:"HT"}],$x="America/New_York",Rm="gumgauge-timezone";function Yc(){try{const e=localStorage.getItem(Rm);if(e&&_m.some(t=>t.value===e))return e}catch{}return $x}function Fx(e){try{localStorage.setItem(Rm,e)}catch{}}const Lm=g.createContext(null);function zx({children:e}){const[t,n]=g.useState(Yc);g.useEffect(()=>{n(Yc())},[]);const s=l=>{Fx(l),n(l)};return r.jsx(Lm.Provider,{value:{timezone:t,setTimezone:s},children:e})}function os(){const e=g.useContext(Lm);if(!e)throw new Error("useTimezoneContext must be used within TimezoneProvider");return e}const Co="gumgauge-audit";let $m;function ja(e){$m=e}function Fm(){try{const e=localStorage.getItem(Co);return e?JSON.parse(e):[]}catch{return[]}}function Ux(e){const t=e.slice(-2e3);localStorage.setItem(Co,JSON.stringify(t))}function Nn(e){const t=Fm();t.push({...e,id:crypto.randomUUID(),actor:e.actor??$m??"System"}),Ux(t)}function zm(e){let t=Fm();return e!=null&&e.entityType&&(t=t.filter(n=>n.entityType===e.entityType)),e!=null&&e.entityId&&(t=t.filter(n=>n.entityId===e.entityId)),t=t.reverse(),e!=null&&e.limit&&(t=t.slice(0,e.limit)),t}function Vx(){try{localStorage.setItem(Co,JSON.stringify([]))}catch{}}const Um="gumgauge-staff";function ir(){try{const e=localStorage.getItem(Um);return e?JSON.parse(e):[]}catch{return[]}}function Eo(e){localStorage.setItem(Um,JSON.stringify(e))}function Er(e){return ir().find(t=>t.id===e)}function Bx(e,t){return ir().find(s=>{var l;return((l=s.loginEmail)==null?void 0:l.trim().toLowerCase())===e.trim().toLowerCase()&&s.password===t})}function Hx(e){const t=ir(),n=new Date().toISOString(),s={...e,id:crypto.randomUUID(),createdAt:n,updatedAt:n};return t.push(s),Eo(t),Nn({timestamp:n,action:"staff.create",entityType:"staff",entityId:s.id,details:`${s.firstName} ${s.lastName}`}),s}function Wx(e,t){const n=ir(),s=n.findIndex(a=>a.id===e);if(s===-1)return null;const l=new Date().toISOString();return n[s]={...n[s],...t,updatedAt:l},Eo(n),Nn({timestamp:l,action:"staff.update",entityType:"staff",entityId:e}),n[s]}function Gx(e){const t=ir(),n=t.find(l=>l.id===e),s=t.filter(l=>l.id!==e);return s.length===t.length?!1:(Eo(s),Nn({timestamp:new Date().toISOString(),action:"staff.delete",entityType:"staff",entityId:e,details:n?`${n.firstName} ${n.lastName}`:void 0}),!0)}const en="gumgauge-admin-session",Qx="gumgauge",Nr="gumgauge-signed-in-staff-id",Kx=15*60*1e3;function Yx(){try{return sessionStorage.getItem(en)==="1"}catch{return!1}}const Vm=g.createContext(null);function Xx({children:e}){const[t,n]=g.useState(()=>{try{return sessionStorage.getItem(Nr)}catch{return null}}),[s,l]=g.useState(null);g.useEffect(()=>{if(!t){l(null);return}const u=Er(t);l(u||null),u||(sessionStorage.removeItem(Nr),n(null))},[t]),g.useEffect(()=>{if(!t)return;let u;const c=()=>{clearTimeout(u),u=setTimeout(()=>{n(null),l(null),ja(void 0);try{sessionStorage.removeItem(Nr)}catch{}},Kx)};c();const p=["mousedown","keydown","scroll","touchstart"];return p.forEach(h=>window.addEventListener(h,c)),()=>{clearTimeout(u),p.forEach(h=>window.removeEventListener(h,c))}},[t]);const a=(u,c)=>{const p=Bx(u.trim(),c);if(p){n(p.id),ja(`${p.firstName} ${p.lastName}`);try{sessionStorage.setItem(Nr,p.id)}catch{}return!0}return!1},i=()=>{n(null),l(null),ja(void 0);try{sessionStorage.removeItem(Nr)}catch{}},o=Yx(),d=!!s||o;return r.jsx(Vm.Provider,{value:{staff:s,isSignedIn:d,isAdmin:o,login:a,logout:i},children:e})}function cs(){const e=g.useContext(Vm);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const Xc={sm:"h-8",md:"h-10",lg:"h-14",xl:"h-32 sm:h-40 md:h-48"},Jx={sm:"text-lg",md:"text-xl",lg:"text-2xl",xl:"text-3xl"};function Po({className:e="",showText:t=!1,size:n="md",variant:s="light"}){const[l,a]=pn.useState(!1),i=s==="dark"?"text-white":"text-navy";return r.jsxs("div",{className:`flex items-center gap-2 bg-transparent ${e}`,children:[l?r.jsx("div",{className:`${Xc[n]} min-w-[2.5rem] flex items-center justify-center rounded-lg px-2 ${s==="dark"?"bg-white/20":"bg-navy"}`,"aria-hidden":!0,children:r.jsx("span",{className:"text-white font-bold text-sm",children:"GG"})}):r.jsx("img",{src:"/logo.png",alt:"GumGauge",className:`${Xc[n]} w-auto object-contain flex-shrink-0 bg-transparent`,onError:()=>a(!0)}),t&&r.jsx("span",{className:`font-semibold ${i} ${Jx[n]}`,children:"GumGauge"})]})}const Zx=["January","February","March","April","May","June","July","August","September","October","November","December"];function X(e){if(!e)return"";const[t,n,s]=e.split("-").map(Number);return!n||n<1||n>12?e:`${Zx[n-1]} ${s}, ${t}`}function wa(e){return new Intl.DateTimeFormat("en-CA",{timeZone:e,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date)}function ka(e){const t=new Date,n=new Intl.DateTimeFormat("en-US",{timeZone:e,month:"long",day:"numeric",year:"numeric"}).format(t),s=new Intl.DateTimeFormat("en-US",{timeZone:e,hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0}).format(t);return{date:n,time:s,full:`${n}  ${s}`}}function Ci(e,t){const n=new Date(e),s=new Intl.DateTimeFormat("en-US",{timeZone:t,month:"long",day:"numeric",year:"numeric"}).format(n),l=new Intl.DateTimeFormat("en-US",{timeZone:t,hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0}).format(n);return`${s}  ${l}`}function Bm(e){const[t,n]=g.useState(()=>ka(e));return g.useEffect(()=>{n(ka(e));const s=setInterval(()=>n(ka(e)),1e3);return()=>clearInterval(s)},[e]),t}function Do(e){const[t,n]=g.useState(()=>wa(e));return g.useEffect(()=>{n(wa(e));const s=setInterval(()=>n(wa(e)),6e4);return()=>clearInterval(s)},[e]),t}const Hm="gumgauge-clinic";function Wm(){try{const e=localStorage.getItem(Hm);return e?JSON.parse(e):null}catch{return null}}function Hl(){return Wm()}function qx(e){const t=Wm(),n=new Date().toISOString(),s={id:(t==null?void 0:t.id)??crypto.randomUUID(),name:e.name,address:e.address??(t==null?void 0:t.address),city:e.city??(t==null?void 0:t.city),state:e.state??(t==null?void 0:t.state),zip:e.zip??(t==null?void 0:t.zip),phone:e.phone??(t==null?void 0:t.phone),timezone:e.timezone??(t==null?void 0:t.timezone),registeredAt:(t==null?void 0:t.registeredAt)??n,deviceCount:e.deviceCount??(t==null?void 0:t.deviceCount)??1};try{localStorage.setItem(Hm,JSON.stringify(s))}catch{}return s}const Wl=[{label:"Clinical",positions:["Dentist","Pediatric Dentist","Dental Hygienist","Dental Assistant","Certified Dental Assistant (CDA)","Sterilization Technician"]},{label:"Front office",positions:["Front Desk / Receptionist","Patient Coordinator","Billing / Insurance Coordinator","Office Manager","Practice Manager"]},{label:"Specialists",positions:["Orthodontist","Endodontist","Periodontist","Oral Surgeon"]},{label:"Support",positions:["Dental Lab Technician"]}];Wl.flatMap(e=>[...e.positions]);const Gm=["Active","On leave","Inactive"],To=["Dentist","Pediatric Dentist","Orthodontist","Endodontist","Periodontist","Oral Surgeon","Dental Hygienist"],eg=["Dentist","Pediatric Dentist","Orthodontist","Endodontist","Periodontist","Oral Surgeon"],Qm="gumgauge-patients";function je(){try{const e=localStorage.getItem(Qm);return e?JSON.parse(e):[]}catch{return[]}}function Gl(e){localStorage.setItem(Qm,JSON.stringify(e))}function W(e){return je().find(t=>t.id===e)}function tg(e){const t=je(),n=new Date().toISOString(),s={...e,id:crypto.randomUUID(),createdAt:n,updatedAt:n};return t.push(s),Gl(t),Nn({timestamp:n,action:"patient.create",entityType:"patient",entityId:s.id,details:`${s.firstName} ${s.lastName}`}),s}function te(e,t){const n=je(),s=n.findIndex(a=>a.id===e);if(s===-1)return null;const l=new Date().toISOString();return n[s]={...n[s],...t,updatedAt:l},Gl(n),Nn({timestamp:l,action:"patient.update",entityType:"patient",entityId:e}),n[s]}function ng(e){const t=je(),n=t.find(l=>l.id===e),s=t.filter(l=>l.id!==e);return s.length===t.length?!1:(Gl(s),Nn({timestamp:new Date().toISOString(),action:"patient.delete",entityType:"patient",entityId:e,details:n?`${n.firstName} ${n.lastName}`:void 0}),!0)}function rg(){const e=je(),t=new Date().toISOString(),n=e.map(s=>({...s,visitHistory:[],currentVisitStartedAt:void 0,currentVisitNotes:void 0,currentVisitUseVoiceNotes:void 0,updatedAt:t}));Gl(n)}function sg(){const e=at(),[t,n]=g.useState(""),[s,l]=g.useState(!1),[a,i]=g.useState([]),o=g.useRef(null),d=g.useRef(null);return g.useEffect(()=>{const u=c=>{var p;(c.ctrlKey||c.metaKey)&&c.key==="k"&&(c.preventDefault(),(p=d.current)==null||p.focus(),l(!0))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[]),g.useEffect(()=>{if(!t.trim()){i([]);return}const u=t.trim().toLowerCase(),p=je().filter(h=>`${h.firstName} ${h.lastName}`.toLowerCase().includes(u)||h.dateOfBirth&&h.dateOfBirth.includes(u)||h.phone&&h.phone.replace(/\D/g,"").includes(u.replace(/\D/g,""))||h.email&&h.email.toLowerCase().includes(u));i(p.slice(0,10))},[t]),g.useEffect(()=>{const u=c=>{o.current&&!o.current.contains(c.target)&&l(!1)};return document.addEventListener("click",u),()=>document.removeEventListener("click",u)},[]),r.jsxs("div",{ref:o,className:"relative px-3 pb-2",children:[r.jsx("label",{className:"sr-only",htmlFor:"global-search",children:"Search patients"}),r.jsx("input",{ref:d,id:"global-search",type:"search",placeholder:"Search patients (Ctrl+K)",value:t,onChange:u=>{n(u.target.value),l(!0)},onFocus:()=>l(!0),onKeyDown:u=>{u.key==="Escape"&&l(!1)},className:"w-full px-3 py-2 text-sm rounded-lg bg-navy-light/50 border border-navy-light text-white placeholder:text-sky-light/70 focus:outline-none focus:ring-1 focus:ring-sky"}),s&&(t.trim()||a.length>0)&&r.jsx("div",{className:"absolute left-3 right-3 top-full mt-1 z-50 bg-white border border-sky/40 rounded-lg shadow-xl max-h-64 overflow-auto",children:a.length===0?r.jsx("p",{className:"p-3 text-sm text-navy/60",children:"No patients match."}):r.jsx("ul",{className:"py-1",children:a.map(u=>r.jsx("li",{children:r.jsxs("button",{type:"button",onClick:()=>{e(`/dashboard/patients/${u.id}`),n(""),l(!1)},className:"w-full text-left px-3 py-2 text-sm text-navy hover:bg-sky/10 flex justify-between gap-2",children:[r.jsxs("span",{className:"font-medium",children:[u.firstName," ",u.lastName]}),r.jsx("span",{className:"text-navy/60 truncate",children:u.dateOfBirth})]})},u.id))})})]})}const Jc=[{to:"/dashboard",label:"Dashboard"},{to:"/dashboard/patients",label:"Patients"},{to:"/dashboard/billing",label:"Billing"},{to:"/dashboard/staff",label:"Staff"},{to:"/dashboard/appointments",label:"Appointments"},{to:"/dashboard/device-scan",label:"Device Scan"},{to:"/dashboard/recall",label:"Recall"},{to:"/dashboard/audit",label:"Audit log"},{to:"/dashboard/clinic",label:"Clinic"}];function lg(){const e=at(),t=Hl(),{timezone:n,setTimezone:s}=os(),{staff:l,isSignedIn:a,isAdmin:i,logout:o}=cs(),{full:d}=Bm(n);return r.jsxs("div",{className:"flex min-h-screen bg-white",children:[r.jsxs("aside",{className:"w-56 flex-shrink-0 bg-navy flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-navy-light bg-transparent",children:[r.jsx(Po,{size:"md"}),(t==null?void 0:t.name)&&r.jsx("p",{className:"text-sky-light text-xs mt-2 truncate",title:t.name,children:t.name})]}),r.jsx(sg,{}),r.jsx("nav",{className:"flex-1 p-3 space-y-1",children:(()=>{const u=typeof sessionStorage<"u"&&sessionStorage.getItem(en)==="1",c=l&&To.includes(l.position)?[...Jc,{to:"/dashboard/my-patients",label:"My patients"}]:Jc;return u?[...c,{to:"/dashboard/clinic-log",label:"Clinic Log"}]:c})().map(({to:u,label:c})=>r.jsx(Qc,{to:u,className:({isActive:p})=>`block px-4 py-3 rounded-lg text-sm font-medium transition-colors ${p?"bg-sky/20 text-white":"text-sky-light hover:bg-navy-light hover:text-white"}`,children:c},u))}),r.jsxs("div",{className:"p-3 border-t border-navy-light space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sky-light/80 text-xs mb-1 px-1",children:"Time zone"}),r.jsx("select",{value:n,onChange:u=>s(u.target.value),className:"w-full px-2 py-1.5 text-xs rounded bg-navy-light/50 text-white border border-navy-light focus:outline-none focus:ring-1 focus:ring-sky",children:_m.map(u=>r.jsx("option",{value:u.value,children:u.label},u.value))})]}),r.jsx("p",{className:"text-sky-light/90 text-xs px-1 leading-tight",title:d,children:d}),a&&l?r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-sky-light text-xs px-1 font-medium",children:["Signed in as ",l.firstName," ",l.lastName]}),r.jsx("button",{type:"button",onClick:()=>{o(),e("/",{replace:!0})},className:"w-full mt-2 px-4 py-2 text-xs font-medium rounded-lg bg-white/10 text-sky-light hover:bg-white/20 transition-colors",children:"Sign out"})]}):i?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-sky-light text-xs px-1 font-medium",children:"Demo mode (Admin)"}),r.jsx("button",{type:"button",onClick:()=>{try{sessionStorage.removeItem(en)}catch{}e("/",{replace:!0})},className:"w-full mt-2 px-4 py-2 text-xs font-medium rounded-lg bg-white/10 text-sky-light hover:bg-white/20 transition-colors",children:"Log out (Admin)"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Qc,{to:"/signin",className:"block w-full mt-2 px-4 py-2 text-xs font-medium rounded-lg bg-white/10 text-sky-light hover:bg-white/20 transition-colors text-center",children:"Sign in"}),r.jsx("button",{type:"button",onClick:()=>e("/",{replace:!0}),className:"w-full mt-2 px-4 py-2 text-xs font-medium rounded-lg bg-white/10 text-sky-light hover:bg-white/20 transition-colors",children:"Log out"})]}),r.jsx("p",{className:"text-sky-light/80 text-xs px-4",children:"GumGauge Dental"})]})]}),r.jsx("main",{className:"flex-1 overflow-auto bg-sky-light/30",children:r.jsx(Nx,{})})]})}function ag(){const e=at(),[t,n]=g.useState(!1),s=()=>{n(!0),setTimeout(()=>e("/dashboard",{replace:!0}),400)},l=()=>{try{sessionStorage.setItem(en,"1")}catch{}e("/dashboard",{replace:!0})};return r.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-navy relative",children:[r.jsx("div",{className:"absolute top-6 right-6",children:r.jsx(Q,{to:"/admin",className:"px-4 py-2 text-sky-light text-sm font-medium hover:text-white border border-white/30 rounded-lg hover:bg-white/10",children:"Admin Log-In"})}),r.jsxs("div",{className:"splash-glimmer-wrapper flex flex-col items-center gap-8",children:[r.jsx("div",{className:"splash-logo-glimmer",children:r.jsx(Po,{size:"xl",variant:"dark"})}),r.jsxs("h1",{className:"splash-tagline-wrapper text-2xl sm:text-3xl md:text-4xl font-semibold text-center tracking-tight",children:[r.jsx("span",{className:"splash-tagline-outline",children:"GumGauge  The Future of Dental Care"}),r.jsx("span",{className:"splash-tagline-fill",children:"GumGauge  The Future of Dental Care"})]})]}),r.jsxs("div",{className:"mt-12 flex flex-col sm:flex-row flex-wrap items-center justify-center gap-4",children:[r.jsx("button",{type:"button",onClick:s,disabled:t,className:"px-10 py-4 bg-white text-navy font-semibold text-lg rounded-xl border-2 border-black shadow-lg shadow-black/20 hover:bg-sky-light hover:shadow-xl hover:shadow-black/25 hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-navy active:scale-[0.98] transition-all duration-200 disabled:opacity-80 disabled:hover:translate-y-0",children:"Start System"}),r.jsx("button",{type:"button",onClick:l,className:"px-10 py-4 bg-amber-400 text-navy font-semibold text-lg rounded-xl border-2 border-amber-500 shadow-lg hover:bg-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-400/50 focus:ring-offset-2 focus:ring-offset-navy active:scale-[0.98] transition-all duration-200",children:"Demo"}),r.jsx(Q,{to:"/signin",className:"px-10 py-4 bg-white/10 text-white font-medium text-lg rounded-xl border-2 border-white/40 hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-navy transition-all inline-block text-center",children:"Sign in"})]})]})}function ig(){const e=at(),[t]=Mm(),n=t.get("returnTo")||"/dashboard",{login:s}=cs(),[l,a]=g.useState(""),[i,o]=g.useState(""),[d,u]=g.useState(""),c=p=>{if(p.preventDefault(),u(""),!l.trim()||!i){u("Please enter your login email and password.");return}s(l.trim(),i)?e(n.startsWith("/")?n:`/${n}`,{replace:!0}):u("Invalid login email or password. Please try again.")};return r.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-navy p-4",children:r.jsxs("div",{className:"w-full max-w-sm",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx(Po,{size:"lg",variant:"dark"})}),r.jsx("h1",{className:"text-xl font-semibold text-white text-center mb-2",children:"Sign in"}),r.jsx("p",{className:"text-sky-light/90 text-sm text-center mb-6",children:"For employed staff. Enter your assigned login credentials."}),r.jsxs("form",{onSubmit:c,className:"bg-white/10 rounded-xl border border-white/20 p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sky-light/90 text-sm mb-1",children:"Login email or username"}),r.jsx("input",{type:"text",autoComplete:"username",value:l,onChange:p=>a(p.target.value),placeholder:"e.g. jane@practice.com",className:"w-full px-3 py-2 rounded-lg border border-sky/60 bg-white text-navy"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sky-light/90 text-sm mb-1",children:"Password"}),r.jsx("input",{type:"password",autoComplete:"current-password",value:i,onChange:p=>o(p.target.value),placeholder:"",className:"w-full px-3 py-2 rounded-lg border border-sky/60 bg-white text-navy"})]}),d&&r.jsx("p",{className:"text-amber-200 text-sm bg-amber-900/30 px-3 py-2 rounded-lg",role:"alert",children:d}),r.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-white text-navy font-medium rounded-lg hover:bg-sky-light border-2 border-black",children:"Sign in"})]}),r.jsx("p",{className:"mt-4 text-center",children:r.jsx(Q,{to:"/",className:"text-sky-light hover:text-white text-sm font-medium",children:" Back to Start System"})})]})})}function Zc(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function og(){const e=Hl(),{timezone:t}=os(),n=Do(t),{full:s}=Bm(t),[l,a]=g.useState(()=>je());g.useEffect(()=>{a(je())},[]);const i=g.useMemo(()=>l.reduce((v,N)=>v+(N.paymentHistory??[]).filter(m=>m.date===n).reduce((m,x)=>m+x.amount,0),0),[l,n]),o=n.slice(0,7),d=g.useMemo(()=>l.reduce((v,N)=>v+(N.paymentHistory??[]).filter(m=>m.date.startsWith(o)).reduce((m,x)=>m+x.amount,0),0),[l,o]),u=g.useMemo(()=>{const v=new Date;return l.filter(N=>{const m=N.recallIntervalMonths??6,x=N.lastCleaningDate;if(!x)return!1;const y=new Date(x+"T12:00:00");return y.setMonth(y.getMonth()+m),y<=v}).length},[l]),c=g.useMemo(()=>l.filter(v=>v.createdAt.startsWith(o)).length,[l,o]),p=g.useMemo(()=>{const v=l.flatMap(y=>(y.treatmentPlans??[]).map(w=>({...w,patientId:y.id}))),N=v.filter(y=>y.status==="Accepted").length,m=v.filter(y=>y.status==="Declined").length,x=N+m;return{total:v.length,accepted:N,declined:m,presented:x,acceptancePct:x>0?Math.round(N/x*100):0}},[l]),h=l.filter(v=>v.currentVisitStartedAt).sort((v,N)=>(N.currentVisitStartedAt??"").localeCompare(v.currentVisitStartedAt??"")),j=l.filter(v=>v.dateOfAppointment===n).sort((v,N)=>(v.appointmentTime||"00:00").localeCompare(N.appointmentTime||"00:00")),f=l.filter(v=>v.dateOfNextAppointment&&v.dateOfNextAppointment>=n).sort((v,N)=>{const m=v.dateOfNextAppointment.localeCompare(N.dateOfNextAppointment);return m!==0?m:(v.nextAppointmentTime||"00:00").localeCompare(N.nextAppointmentTime||"00:00")}).slice(0,5);return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[r.jsx("h1",{className:"text-2xl font-semibold text-navy",children:"Dashboard"}),(e==null?void 0:e.name)&&r.jsx("p",{className:"text-navy/70 text-sm font-medium",children:e.name})]}),r.jsx("p",{className:"text-navy/70 mb-1",children:s}),r.jsx("p",{className:"text-navy/50 text-sm mb-6",children:"Live  based on selected time zone"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("p",{className:"text-xs text-navy/70 uppercase",children:"Total patients"}),r.jsx("p",{className:"text-2xl font-semibold text-navy mt-1",children:l.length})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-green-200 p-4",children:[r.jsx("p",{className:"text-xs text-green-800/80 uppercase",children:"Visits in progress"}),r.jsx("p",{className:"text-2xl font-semibold text-green-800 mt-1",children:h.length})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("p",{className:"text-xs text-navy/70 uppercase",children:"Today's appointments"}),r.jsx("p",{className:"text-2xl font-semibold text-navy mt-1",children:j.length})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("p",{className:"text-xs text-navy/70 uppercase",children:"Production (today)"}),r.jsx("p",{className:"text-xl font-semibold text-navy mt-1",children:Zc(i)})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("p",{className:"text-xs text-navy/70 uppercase",children:"Production (month)"}),r.jsx("p",{className:"text-xl font-semibold text-navy mt-1",children:Zc(d)})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("p",{className:"text-xs text-navy/70 uppercase",children:"Recall due"}),r.jsx("p",{className:"text-2xl font-semibold text-navy mt-1",children:u}),r.jsx(Q,{to:"/dashboard/recall",className:"text-xs text-sky-dark mt-1 inline-block hover:underline",children:"View recall"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("p",{className:"text-xs text-navy/70 uppercase",children:"New patients (this month)"}),r.jsx("p",{className:"text-2xl font-semibold text-navy mt-1",children:c})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("p",{className:"text-xs text-navy/70 uppercase",children:"Case acceptance"}),r.jsxs("p",{className:"text-2xl font-semibold text-navy mt-1",children:[p.acceptancePct,"%"]}),r.jsxs("p",{className:"text-xs text-navy/60 mt-0.5",children:[p.accepted," accepted / ",p.presented," presented"]})]})]}),r.jsx("div",{className:"mb-6",children:r.jsx(Q,{to:"/dashboard/patients/new",className:"px-4 py-2 bg-navy text-white rounded-lg font-medium hover:bg-navy-light inline-block",children:"+ Add patient"})}),r.jsxs("div",{className:"bg-green-50 rounded-xl shadow-sm border-2 border-green-200 p-6 mb-6",children:[r.jsx("h2",{className:"text-lg font-medium text-green-900 mb-1",children:"Visits in progress"}),r.jsx("p",{className:"text-sm text-green-800/70 mb-4",children:"Patients currently in the office  visible to all dentists and front office staff."}),h.length===0?r.jsx("p",{className:"text-green-800/70",children:"No visits in progress."}):r.jsx("ul",{className:"space-y-2",children:h.map(v=>r.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-x-4 gap-y-1 py-2 border-b border-green-200 last:border-0",children:[r.jsxs("span",{className:"text-green-900 font-medium",children:[v.firstName," ",v.lastName]}),r.jsxs("span",{className:"text-green-800/80 text-sm",children:["Started ",v.currentVisitStartedAt&&Ci(v.currentVisitStartedAt,t)]}),r.jsx(Q,{to:`/dashboard/patients/${v.id}`,className:"text-green-700 text-sm font-medium hover:underline shrink-0",children:"Open chart"})]},v.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-6 mb-6",children:[r.jsx("h2",{className:"text-lg font-medium text-navy mb-4",children:"Today's appointments"}),j.length===0?r.jsx("p",{className:"text-navy/60",children:"No appointments today."}):r.jsx("ul",{className:"space-y-2",children:j.map(v=>r.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-x-4 gap-y-1 py-2 border-b border-sky/20 last:border-0",children:[r.jsxs("span",{className:"text-navy",children:[v.firstName," ",v.lastName,v.appointmentTime&&r.jsx("span",{className:"text-navy/70 text-sm ml-2",children:v.appointmentTime}),v.currentVisitStartedAt&&r.jsx("span",{className:"ml-2 inline-flex items-center rounded bg-green-100 px-2 py-0.5 text-xs font-medium text-green-800",children:"In progress"})]}),r.jsxs("span",{className:"text-navy/70 text-sm",children:[v.appointmentType&&r.jsx("span",{children:v.appointmentType}),v.appointmentType&&v.appointmentDoctor&&"  ",v.appointmentDoctor&&r.jsxs("span",{children:["with ",v.appointmentDoctor]}),!v.appointmentType&&!v.appointmentDoctor&&""]}),r.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[!v.currentVisitStartedAt&&r.jsx(Q,{to:`/dashboard/patients/${v.id}?startVisit=1`,className:"px-3 py-1.5 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 inline-block",children:"Start visit"}),r.jsx(Q,{to:`/dashboard/patients/${v.id}`,className:"text-sky-dark text-sm font-medium hover:underline",children:"Chart"})]})]},v.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-6",children:[r.jsx("h2",{className:"text-lg font-medium text-navy mb-4",children:"Upcoming next appointments"}),f.length===0?r.jsx("p",{className:"text-navy/60",children:"No upcoming next appointments."}):r.jsx("ul",{className:"space-y-2",children:f.map(v=>r.jsxs("li",{className:"flex justify-between items-center py-2 border-b border-sky/20 last:border-0",children:[r.jsxs("span",{className:"text-navy",children:[v.firstName," ",v.lastName]}),r.jsxs("span",{className:"text-navy/70 text-sm",children:[X(v.dateOfNextAppointment),v.nextAppointmentTime?` ${v.nextAppointmentTime}`:""]}),r.jsx(Q,{to:`/dashboard/patients/${v.id}`,className:"text-sky-dark text-sm font-medium hover:underline",children:"View chart"})]},v.id))})]})]})}function Km(e,t,n){const s=u=>{const c=String(u);return c.includes(",")||c.includes('"')||c.includes(`
`)?`"${c.replace(/"/g,'""')}"`:c},l=u=>u.map(s).join(","),a=[l(t),...n.map(l)].join(`\r
`),i=new Blob([a],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(i),d=document.createElement("a");d.href=o,d.download=e,d.click(),URL.revokeObjectURL(o)}const cg=[{value:"name-asc",label:"Name (A  Z)"},{value:"name-desc",label:"Name (Z  A)"},{value:"dob-asc",label:"DOB (oldest first)"},{value:"dob-desc",label:"DOB (newest first)"},{value:"apptDate-asc",label:"Appt date (earliest first)"},{value:"apptDate-desc",label:"Appt date (latest first)"},{value:"apptTime-asc",label:"Appt time (earliest first)"},{value:"apptTime-desc",label:"Appt time (latest first)"},{value:"nextApptDate-asc",label:"Next appt date (earliest first)"},{value:"nextApptDate-desc",label:"Next appt date (latest first)"}];function dg(e,t,n){const s=n==="asc"?1:-1;return[...e].sort((l,a)=>{let i=0;switch(t){case"name":{const o=`${l.firstName} ${l.lastName}`.toLowerCase(),d=`${a.firstName} ${a.lastName}`.toLowerCase();i=o.localeCompare(d);break}case"dob":i=(l.dateOfBirth||"").localeCompare(a.dateOfBirth||"");break;case"apptDate":i=(l.dateOfAppointment||"").localeCompare(a.dateOfAppointment||"");break;case"apptTime":{const o=l.appointmentTime||"00:00",d=a.appointmentTime||"00:00";i=o.localeCompare(d)||(l.dateOfAppointment||"").localeCompare(a.dateOfAppointment||"");break}case"nextApptDate":i=(l.dateOfNextAppointment||"").localeCompare(a.dateOfNextAppointment||"");break;case"nextApptTime":{const o=l.nextAppointmentTime||"00:00",d=a.nextAppointmentTime||"00:00";i=o.localeCompare(d)||(l.dateOfNextAppointment||"").localeCompare(a.dateOfNextAppointment||"");break}}return i*s})}function ug(){const[e,t]=g.useState(""),[n,s]=g.useState("name-asc"),l=g.useMemo(()=>je(),[]),a=g.useMemo(()=>l.filter(u=>`${u.firstName} ${u.lastName}`.toLowerCase().includes(e.toLowerCase())||u.email&&u.email.toLowerCase().includes(e.toLowerCase())),[l,e]),[i,o]=n.split("-"),d=g.useMemo(()=>dg(a,i,o),[a,i,o]);return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsx("h1",{className:"text-2xl font-semibold text-navy",children:"Patients"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{const u=["First name","Last name","DOB","Phone","Email","Appt date","Appt time","Next appt date"],c=d.map(p=>[p.firstName,p.lastName,p.dateOfBirth??"",p.phone??"",p.email??"",p.dateOfAppointment??"",p.appointmentTime??"",p.dateOfNextAppointment??""]);Km(`patients-${new Date().toISOString().slice(0,10)}.csv`,u,c)},className:"inline-flex items-center justify-center px-4 py-2 border border-sky/60 rounded-lg font-medium text-navy hover:bg-sky/10",children:"Export CSV"}),r.jsx(Q,{to:"/dashboard/patients/new",className:"inline-flex items-center justify-center px-4 py-2 bg-navy text-white rounded-lg font-medium hover:bg-navy-light transition-colors",children:"+ Add patient"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[r.jsx("input",{type:"search",placeholder:"Search by name or email...",value:e,onChange:u=>t(u.target.value),className:"flex-1 max-w-md px-4 py-2 border border-sky/60 rounded-lg bg-white text-navy placeholder-navy/50 focus:outline-none focus:ring-2 focus:ring-sky focus:border-transparent"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm text-navy/70 whitespace-nowrap",children:"Sort by"}),r.jsx("select",{value:n,onChange:u=>s(u.target.value),className:"px-3 py-2 border border-sky/60 rounded-lg bg-white text-navy min-w-[200px]",children:cg.map(u=>r.jsx("option",{value:u.value,children:u.label},u.value))})]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 overflow-hidden",children:d.length===0?r.jsx("div",{className:"p-8 text-center text-navy/60",children:l.length===0?"No patients yet. Add your first patient above.":"No patients match your search."}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-navy/5 border-b border-sky/40",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"Name"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"DOB"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"Allergies"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"Appointment"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"Next"}),r.jsx("th",{className:"w-24"})]})}),r.jsx("tbody",{children:d.map(u=>r.jsxs("tr",{className:"border-b border-sky/20 hover:bg-sky/10",children:[r.jsxs("td",{className:"py-3 px-4 font-medium text-navy",children:[u.firstName," ",u.lastName]}),r.jsx("td",{className:"py-3 px-4 text-navy/80",children:X(u.dateOfBirth)}),r.jsx("td",{className:"py-3 px-4",children:u.allergies?r.jsx("span",{className:"text-amber-700 bg-amber-100 text-xs px-2 py-0.5 rounded",title:u.allergies,children:u.allergies.length>20?`${u.allergies.slice(0,20)}`:u.allergies}):r.jsx("span",{className:"text-navy/50",children:""})}),r.jsxs("td",{className:"py-3 px-4 text-navy/80",children:[X(u.dateOfAppointment),u.appointmentTime?` ${u.appointmentTime}`:""]}),r.jsx("td",{className:"py-3 px-4 text-navy/80",children:u.dateOfNextAppointment?X(u.dateOfNextAppointment)+(u.nextAppointmentTime?` ${u.nextAppointmentTime}`:""):""}),r.jsx("td",{className:"py-3 px-4",children:r.jsx(Q,{to:`/dashboard/patients/${u.id}`,className:"text-sky-dark font-medium text-sm hover:underline",children:"Chart"})})]},u.id))})]})})]})}const qc=["X-ray","Panoramic X-ray","Bitewing","Periapical","Radiograph","CBCT (Cone Beam CT)","CT scan","MRI","Ultrasound","Intraoral photo","Extraoral photo","Photograph","GumGauge Scan","Other"],Ym=["Checkup","Cleaning","Emergency","Extraction","Filling","Follow-up","GumGauge Scan","New patient","Root canal","Whitening","Other"],qe=["MB","B","DB","ML","L","DL"];function mg(e){return e<=350?"Healthy":e<=530?"Moderate":"Unhealthy"}function pg(e){const t=Math.max(0,Math.min(1023,e));return Math.round(100-t/1023*100)}const fg=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],hg=[17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32];function ed(e){return e==="Healthy"?"#22c55e":e==="Moderate"?"#eab308":e==="Unhealthy"?"#dc2626":"#94a3b8"}function Xm({exams:e,selectedExamId:t,onSelectExamId:n,selectedTooth:s,onSelectTooth:l,showDateDropdown:a=!0}){const i=g.useMemo(()=>e.find(u=>u.id===t)??e[e.length-1]??null,[e,t]),o=g.useMemo(()=>i?new Map(i.teeth.map(u=>[u.tooth,u])):new Map,[i]),d=s!=null?o.get(s):null;return e.length===0?r.jsx("div",{className:"rounded-xl border border-sky/40 bg-sky/5 p-4 text-center text-navy/70 text-sm",children:"No GumGauge scans yet. Run a scan and add readings to the chart to see results here."}):r.jsxs("div",{className:"space-y-4",children:[a&&r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("label",{className:"text-sm font-medium text-navy",children:"Scan date"}),r.jsx("select",{value:t??(i==null?void 0:i.id)??"",onChange:u=>{n(u.target.value||null),l(null)},className:"px-3 py-2 border border-sky/60 rounded-lg bg-white text-sm",children:e.map(u=>r.jsx("option",{value:u.id,children:X(u.scanDate)},u.id))})]}),r.jsx("p",{className:"text-xs text-navy/60",children:"Click a tooth to see its light penetration % and health. Colors: green = Healthy, amber = Moderate, red = Unhealthy."}),r.jsx("div",{className:"flex flex-col items-center",children:r.jsxs("svg",{viewBox:"0 0 320 140",className:"w-full max-w-md h-auto",style:{maxHeight:"220px"},children:[r.jsxs("g",{transform:"translate(10, 10)",children:[r.jsx("text",{x:"0",y:"-2",className:"text-[10px] fill-navy/70",children:"Upper (1-16)"}),fg.map((u,c)=>{const p=o.get(u),h=ed(p==null?void 0:p.healthResult),j=s===u,f=c%8*38+2,v=Math.floor(c/8)*32;return r.jsxs("g",{children:[r.jsx("rect",{x:f,y:v,width:34,height:26,rx:4,fill:h,stroke:j?"#0f172a":"#64748b",strokeWidth:j?2.5:1,opacity:.9,className:"cursor-pointer",onClick:()=>l(s===u?null:u)}),r.jsx("text",{x:f+17,y:v+16,textAnchor:"middle",fontSize:"10",fill:"#fff",fontWeight:"600",children:u})]},u)})]}),r.jsxs("g",{transform:"translate(10, 88)",children:[r.jsx("text",{x:"0",y:"-2",className:"text-[10px] fill-navy/70",children:"Lower (17-32)"}),hg.map((u,c)=>{const p=o.get(u),h=ed(p==null?void 0:p.healthResult),j=s===u,f=c%8*38+2,v=Math.floor(c/8)*32;return r.jsxs("g",{children:[r.jsx("rect",{x:f,y:v,width:34,height:26,rx:4,fill:h,stroke:j?"#0f172a":"#64748b",strokeWidth:j?2.5:1,opacity:.9,className:"cursor-pointer",onClick:()=>l(s===u?null:u)}),r.jsx("text",{x:f+17,y:v+16,textAnchor:"middle",fontSize:"10",fill:"#fff",fontWeight:"600",children:u})]},u)})]})]})}),d!=null&&s!=null&&r.jsxs("div",{className:"rounded-lg border-2 border-navy/30 bg-white p-3 text-sm",children:[r.jsxs("p",{className:"font-medium text-navy",children:["Tooth ",s]}),r.jsxs("p",{className:"text-navy/80",children:["Light penetration: ",r.jsx("strong",{children:d.lightPenetrationPercent!=null?`${d.lightPenetrationPercent}%`:""})]}),r.jsxs("p",{className:"text-navy/80",children:["Health: ",r.jsx("strong",{className:d.healthResult==="Unhealthy"?"text-red-600":d.healthResult==="Moderate"?"text-amber-700":"",children:d.healthResult??""})]})]})]})}const td=[32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,1,2,3,4,5,6,7,8,9,10];function xg({exams:e,gumGaugeExams:t=[],onSaveExam:n,onDeleteExam:s,readOnly:l}){const[a,i]=g.useState("numeric"),[o,d]=g.useState([]),[u,c]=g.useState(!1),[p,h]=g.useState(new Date().toISOString().slice(0,10)),[j,f]=g.useState(td.map(S=>({tooth:S,pd:[...Array(6)],bleeding:Array(6).fill(!1),suppuration:Array(6).fill(!1)}))),[v,N]=g.useState(""),m=(S,I,R)=>{f(H=>H.map(K=>K.tooth===S?{...K,[I]:R}:K))},x=()=>{const S=j.map(I=>{var R,H,K;return{...I,pd:(R=I.pd)==null?void 0:R.map(Y=>Y==null?void 0:Number(Y)),gm:(H=I.gm)==null?void 0:H.map(Y=>Y==null?void 0:Number(Y)),cal:(K=I.cal)==null?void 0:K.map(Y=>Y==null?void 0:Number(Y))}});n({examDate:p,teeth:S,notes:v||void 0}),c(!1),h(new Date().toISOString().slice(0,10)),f(td.map(I=>({tooth:I,pd:[...Array(6)],bleeding:Array(6).fill(!1),suppuration:Array(6).fill(!1)}))),N("")},y=e.filter(S=>o.includes(S.id)),w=e.length>0?e[e.length-1]:null,[E,T]=g.useState(null),[C,D]=g.useState(null),_=t.length>0?t.find(S=>S.id===E)??t[t.length-1]:null,O=_?new Map(_.teeth.map(S=>[S.tooth,S])):null;return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium text-navy",children:"View:"}),r.jsx("button",{type:"button",onClick:()=>i("numeric"),className:`px-3 py-1.5 rounded-lg text-sm font-medium ${a==="numeric"?"bg-navy text-white":"bg-sky/20 text-navy"}`,children:"Numeric"}),r.jsx("button",{type:"button",onClick:()=>i("graphic"),className:`px-3 py-1.5 rounded-lg text-sm font-medium ${a==="graphic"?"bg-navy text-white":"bg-sky/20 text-navy"}`,children:"Graphic"}),e.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-sm text-navy/70",children:"Compare:"}),r.jsx("select",{multiple:!0,value:o,onChange:S=>d(Array.from(S.target.selectedOptions,I=>I.value)),className:"border border-sky/60 rounded-lg px-2 py-1 text-sm max-w-[200px]",children:e.map(S=>r.jsx("option",{value:S.id,children:X(S.examDate)},S.id))})]}),!l&&r.jsx("button",{type:"button",onClick:()=>c(!0),className:"ml-auto px-3 py-1.5 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700",children:"+ New exam"})]}),u&&r.jsxs("div",{className:"border-2 border-sky/40 rounded-xl p-4 bg-sky/5 space-y-4",children:[r.jsx("h4",{className:"font-medium text-navy",children:"New periodontal exam"}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsx("label",{className:"text-sm text-navy/70",children:"Exam date"}),r.jsx("input",{type:"date",value:p,onChange:S=>h(S.target.value),className:"px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsx("p",{className:"text-xs text-navy/60",children:"PD = Pocket depth (mm), B = Bleeding. Enter values per site (MB, B, DB, ML, L, DL)."}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"overflow-x-auto border border-sky/30 rounded-lg p-2 bg-white",children:[r.jsx("h5",{className:"text-sm font-medium text-navy mb-2",children:"Teeth 116"}),r.jsxs("table",{className:"text-xs border border-sky/40 w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-sky/10",children:[r.jsx("th",{className:"px-2 py-1 border border-sky/30",children:"Tooth"}),qe.map(S=>r.jsxs("th",{className:"px-1 py-1 border border-sky/30",children:["PD ",S]},S)),qe.map(S=>r.jsxs("th",{className:"px-1 py-1 border border-sky/30",children:["B ",S]},`b-${S}`))]})}),r.jsx("tbody",{children:j.filter(S=>S.tooth>=1&&S.tooth<=16).sort((S,I)=>S.tooth-I.tooth).map(S=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-2 py-1 border border-sky/30 font-medium",children:S.tooth}),qe.map((I,R)=>{var H;return r.jsx("td",{className:"px-1 py-0 border border-sky/30",children:r.jsx("input",{type:"number",min:0,max:15,className:"w-10 px-0.5 py-0.5 border rounded",value:((H=S.pd)==null?void 0:H[R])??"",onChange:K=>{const Y=K.target.value===""?void 0:Number(K.target.value),ge=[...S.pd??Array(6).fill(void 0)];ge[R]=Y,m(S.tooth,"pd",ge)}})},I)}),qe.map((I,R)=>{var H;return r.jsx("td",{className:"px-1 py-0 border border-sky/30",children:r.jsx("input",{type:"checkbox",checked:((H=S.bleeding)==null?void 0:H[R])??!1,onChange:K=>{const Y=[...S.bleeding??Array(6).fill(!1)];Y[R]=K.target.checked,m(S.tooth,"bleeding",Y)}})},`b-${I}`)})]},S.tooth))})]})]}),r.jsxs("div",{className:"overflow-x-auto border border-sky/30 rounded-lg p-2 bg-white",children:[r.jsx("h5",{className:"text-sm font-medium text-navy mb-2",children:"Teeth 1732"}),r.jsxs("table",{className:"text-xs border border-sky/40 w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-sky/10",children:[r.jsx("th",{className:"px-2 py-1 border border-sky/30",children:"Tooth"}),qe.map(S=>r.jsxs("th",{className:"px-1 py-1 border border-sky/30",children:["PD ",S]},S)),qe.map(S=>r.jsxs("th",{className:"px-1 py-1 border border-sky/30",children:["B ",S]},`b-${S}`))]})}),r.jsx("tbody",{children:j.filter(S=>S.tooth>=17&&S.tooth<=32).sort((S,I)=>S.tooth-I.tooth).map(S=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-2 py-1 border border-sky/30 font-medium",children:S.tooth}),qe.map((I,R)=>{var H;return r.jsx("td",{className:"px-1 py-0 border border-sky/30",children:r.jsx("input",{type:"number",min:0,max:15,className:"w-10 px-0.5 py-0.5 border rounded",value:((H=S.pd)==null?void 0:H[R])??"",onChange:K=>{const Y=K.target.value===""?void 0:Number(K.target.value),ge=[...S.pd??Array(6).fill(void 0)];ge[R]=Y,m(S.tooth,"pd",ge)}})},I)}),qe.map((I,R)=>{var H;return r.jsx("td",{className:"px-1 py-0 border border-sky/30",children:r.jsx("input",{type:"checkbox",checked:((H=S.bleeding)==null?void 0:H[R])??!1,onChange:K=>{const Y=[...S.bleeding??Array(6).fill(!1)];Y[R]=K.target.checked,m(S.tooth,"bleeding",Y)}})},`b-${I}`)})]},S.tooth))})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Notes"}),r.jsx("textarea",{value:v,onChange:S=>N(S.target.value),rows:2,className:"w-full px-3 py-2 border border-sky/60 rounded-lg text-sm"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 bg-navy text-white rounded-lg text-sm font-medium",children:"Save exam"}),r.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 border border-navy/30 rounded-lg text-sm",children:"Cancel"})]})]}),a==="numeric"&&(y.length>0||w)&&r.jsx("div",{className:"overflow-x-auto",children:(y.length>0?y:w?[w]:[]).map(S=>r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium text-navy",children:X(S.examDate)}),!l&&s&&r.jsx("button",{type:"button",onClick:()=>s(S.id),className:"text-xs text-red-600 hover:underline",children:"Delete"})]}),r.jsxs("table",{className:"text-xs border border-sky/40 w-full",children:[r.jsxs("thead",{children:[r.jsxs("tr",{className:"bg-sky/10",children:[r.jsx("th",{className:"px-2 py-1 border border-sky/30",children:"Tooth"}),qe.map(I=>r.jsx("th",{className:"px-1 py-1 border border-sky/30",colSpan:2,children:I},I))]}),r.jsxs("tr",{className:"bg-sky/5",children:[r.jsx("th",{className:"px-2 py-1 border border-sky/30"}),qe.map(I=>r.jsxs(pn.Fragment,{children:[r.jsx("th",{className:"px-1 py-1 border border-sky/30",children:"PD"}),r.jsx("th",{className:"px-1 py-1 border border-sky/30",children:"B"})]},I))]})]}),r.jsx("tbody",{children:S.teeth.slice(0,32).map(I=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-2 py-1 border border-sky/30 font-medium",children:I.tooth}),qe.map((R,H)=>{var K,Y;return r.jsxs(pn.Fragment,{children:[r.jsx("td",{className:"px-1 py-1 border border-sky/30",children:((K=I.pd)==null?void 0:K[H])??""}),r.jsx("td",{className:"px-1 py-1 border border-sky/30",children:(Y=I.bleeding)!=null&&Y[H]?"":""})]},R)})]},I.tooth))})]}),S.notes&&r.jsx("p",{className:"text-xs text-navy/70 mt-1",children:S.notes})]},S.id))}),a==="graphic"&&w&&r.jsxs("div",{className:"border border-sky/40 rounded-lg p-4 bg-white",children:[r.jsxs("p",{className:"text-sm font-medium text-navy mb-2",children:["Graphic view  ",X(w.examDate)]}),r.jsx("div",{className:"grid grid-cols-8 gap-1 text-center",children:w.teeth.slice(0,32).map(S=>r.jsxs("div",{className:"border border-sky/30 rounded p-1 bg-sky/5",children:[r.jsx("span",{className:"text-xs font-medium",children:S.tooth}),r.jsx("div",{className:"flex justify-center gap-0.5 mt-0.5",children:(S.pd??[]).slice(0,6).map((I,R)=>r.jsx("span",{className:`text-[10px] w-4 ${I!==void 0&&I>=5?"text-red-600 font-medium":"text-navy/70"}`,title:qe[R],children:I??""},R))}),(S.bleeding??[]).some(Boolean)&&r.jsx("span",{className:"text-red-500 text-[10px]",children:"B"})]},S.tooth))}),r.jsx("p",{className:"text-xs text-navy/60 mt-2",children:"Pocket depths (mm) by site. Red = 5+ mm. B = bleeding."})]}),_&&O&&r.jsxs("div",{className:"border border-green-200 rounded-xl p-4 bg-green-50/80 space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("h4",{className:"text-sm font-semibold text-navy",children:"GumGauge device results (auto-filled from scan)"}),t.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("label",{className:"text-xs text-navy/70",children:"Scan date:"}),r.jsx("select",{value:E??_.id,onChange:S=>T(S.target.value||null),className:"px-2 py-1 border border-sky/60 rounded-lg bg-white text-sm",children:t.map(S=>r.jsx("option",{value:S.id,children:X(S.scanDate)},S.id))})]})]}),r.jsxs("p",{className:"text-xs text-navy/70",children:[t.length===1&&`Scan date: ${X(_.scanDate)}  `,"Light penetration % and health evaluation from device. Use with perio chart above."]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"overflow-x-auto border border-sky/30 rounded-lg p-2 bg-white",children:[r.jsx("h5",{className:"text-xs font-medium text-navy mb-2",children:"Teeth 116"}),r.jsxs("table",{className:"text-xs w-full border border-sky/40",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-sky/10",children:[r.jsx("th",{className:"px-2 py-1 border border-sky/30",children:"Tooth"}),r.jsx("th",{className:"px-2 py-1 border border-sky/30",children:"Light %"}),r.jsx("th",{className:"px-2 py-1 border border-sky/30",children:"Health"})]})}),r.jsx("tbody",{children:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].map(S=>{const I=O.get(S);return r.jsxs("tr",{children:[r.jsx("td",{className:"px-2 py-1 border border-sky/30 font-medium",children:S}),r.jsx("td",{className:"px-2 py-1 border border-sky/30",children:(I==null?void 0:I.lightPenetrationPercent)!=null?`${I.lightPenetrationPercent}%`:""}),r.jsx("td",{className:`px-2 py-1 border border-sky/30 ${(I==null?void 0:I.healthResult)==="Unhealthy"?"text-red-600 font-medium":(I==null?void 0:I.healthResult)==="Moderate"?"text-amber-700":""}`,children:(I==null?void 0:I.healthResult)??""})]},S)})})]})]}),r.jsxs("div",{className:"overflow-x-auto border border-sky/30 rounded-lg p-2 bg-white",children:[r.jsx("h5",{className:"text-xs font-medium text-navy mb-2",children:"Teeth 1732"}),r.jsxs("table",{className:"text-xs w-full border border-sky/40",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-sky/10",children:[r.jsx("th",{className:"px-2 py-1 border border-sky/30",children:"Tooth"}),r.jsx("th",{className:"px-2 py-1 border border-sky/30",children:"Light %"}),r.jsx("th",{className:"px-2 py-1 border border-sky/30",children:"Health"})]})}),r.jsx("tbody",{children:[17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32].map(S=>{const I=O.get(S);return r.jsxs("tr",{children:[r.jsx("td",{className:"px-2 py-1 border border-sky/30 font-medium",children:S}),r.jsx("td",{className:"px-2 py-1 border border-sky/30",children:(I==null?void 0:I.lightPenetrationPercent)!=null?`${I.lightPenetrationPercent}%`:""}),r.jsx("td",{className:`px-2 py-1 border border-sky/30 ${(I==null?void 0:I.healthResult)==="Unhealthy"?"text-red-600 font-medium":(I==null?void 0:I.healthResult)==="Moderate"?"text-amber-700":""}`,children:(I==null?void 0:I.healthResult)??""})]},S)})})]})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-green-200",children:[r.jsx("p",{className:"text-xs font-medium text-navy mb-2",children:"Interactive view  click a tooth to see details"}),r.jsx(Xm,{exams:t,selectedExamId:E??(_==null?void 0:_.id)??null,onSelectExamId:T,selectedTooth:C,onSelectTooth:D,showDateDropdown:!1})]})]}),e.length===0&&!u&&r.jsx("p",{className:"text-navy/60 text-sm",children:"No periodontal exams yet. Add an exam to record pocket depths, bleeding, and compare over time."})]})}const Rs=[{id:"new-patient",name:"New patient exam",placeholder:`Chief complaint:
Medical history reviewed:
Clinical findings:
Treatment discussed:
Plan:`},{id:"prophy",name:"Prophylaxis",placeholder:`Prophy completed. Findings:
Patient education:
Next recall:`},{id:"srp",name:"Scaling and root planing",placeholder:`Areas treated:
Anesthesia:
Post-op instructions:
Follow-up:`},{id:"emergency",name:"Emergency visit",placeholder:`Chief complaint:
Clinical findings:
Treatment rendered:
Disposition:`},{id:"restorative",name:"Restorative",placeholder:`Tooth/teeth:
Procedure:
Materials:
Notes:`},{id:"extraction",name:"Extraction",placeholder:`Tooth:
Indication:
Anesthesia:
Technique:
Post-op instructions:`},{id:"custom",name:"Free form",placeholder:"Enter clinical note..."}];function gg({notes:e,onAdd:t,onDelete:n,readOnly:s}){const[l,a]=g.useState(!1),[i,o]=g.useState(Rs[0].id),[d,u]=g.useState(""),[c,p]=g.useState(new Date().toISOString().slice(0,10)),h=Rs.find(v=>v.id===i),j=()=>{t({date:c,templateId:i==="custom"?void 0:i,content:d,author:void 0}),a(!1),u(""),p(new Date().toISOString().slice(0,10))},f=()=>{h!=null&&h.placeholder&&u(h.placeholder)};return r.jsxs("div",{className:"space-y-4",children:[!s&&r.jsx("div",{className:"flex flex-wrap items-center gap-2",children:r.jsx("button",{type:"button",onClick:()=>a(!0),className:"px-3 py-1.5 bg-navy text-white rounded-lg text-sm font-medium hover:bg-navy-light",children:"+ Add progress note"})}),l&&r.jsxs("div",{className:"border-2 border-sky/40 rounded-xl p-4 bg-sky/5 space-y-3",children:[r.jsx("h4",{className:"font-medium text-navy",children:"New clinical / progress note"}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-navy/70 mb-1",children:"Date"}),r.jsx("input",{type:"date",value:c,onChange:v=>p(v.target.value),className:"px-3 py-2 border border-sky/60 rounded-lg text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-navy/70 mb-1",children:"Template"}),r.jsx("select",{value:i,onChange:v=>{o(v.target.value),u("")},className:"px-3 py-2 border border-sky/60 rounded-lg bg-white text-sm",children:Rs.map(v=>r.jsx("option",{value:v.id,children:v.name},v.id))})]}),(h==null?void 0:h.placeholder)&&r.jsx("button",{type:"button",onClick:f,className:"self-end px-3 py-2 border border-sky/60 rounded-lg text-sm",children:"Load template"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-navy/70 mb-1",children:"Content"}),r.jsx("textarea",{value:d,onChange:v=>u(v.target.value),rows:8,placeholder:h==null?void 0:h.placeholder,className:"w-full px-3 py-2 border border-sky/60 rounded-lg text-sm resize-y"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-navy text-white rounded-lg text-sm font-medium",children:"Save note"}),r.jsx("button",{type:"button",onClick:()=>{a(!1),u("")},className:"px-4 py-2 border border-navy/30 rounded-lg text-sm",children:"Cancel"})]})]}),r.jsx("ul",{className:"space-y-3",children:[...e].reverse().map(v=>{var N;return r.jsxs("li",{className:"border border-sky/30 rounded-lg p-3 bg-white",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[r.jsx("span",{className:"text-sm font-medium text-navy",children:X(v.date)}),v.templateId&&r.jsx("span",{className:"text-xs text-navy/60",children:((N=Rs.find(m=>m.id===v.templateId))==null?void 0:N.name)??v.templateId}),!s&&n&&r.jsx("button",{type:"button",onClick:()=>n(v.id),className:"text-xs text-red-600 hover:underline",children:"Delete"})]}),r.jsx("pre",{className:"text-sm text-navy/90 whitespace-pre-wrap font-sans",children:v.content})]},v.id)})}),e.length===0&&!l&&r.jsx("p",{className:"text-navy/60 text-sm",children:"No clinical notes yet."})]})}const ns=[{code:"D0120",description:"Periodic oral evaluation",defaultFee:75},{code:"D0150",description:"Comprehensive oral evaluation",defaultFee:150},{code:"D0210",description:"Intraoral - complete series of radiographs",defaultFee:185},{code:"D0220",description:"Intraoral - periapical first film",defaultFee:35},{code:"D0274",description:"Bitewing - 4 films",defaultFee:95},{code:"D1110",description:"Prophylaxis - adult",defaultFee:125},{code:"D1120",description:"Prophylaxis - child",defaultFee:95},{code:"D1351",description:"Dental sealant - per tooth",defaultFee:55},{code:"D2140",description:"Amalgam - 1 surface, primary",defaultFee:135},{code:"D2150",description:"Amalgam - 2 surfaces, primary",defaultFee:155},{code:"D2160",description:"Amalgam - 3 surfaces, primary",defaultFee:175},{code:"D2330",description:"Resin - 1 surface, anterior",defaultFee:185},{code:"D2391",description:"Resin - 1 surface, posterior",defaultFee:195},{code:"D2392",description:"Resin - 2 surfaces, posterior",defaultFee:225},{code:"D2393",description:"Resin - 3 surfaces, posterior",defaultFee:265},{code:"D2740",description:"Crown - porcelain/ceramic",defaultFee:1295},{code:"D2750",description:"Crown - porcelain fused to metal",defaultFee:1195},{code:"D2790",description:"Crown - full cast noble metal",defaultFee:1095},{code:"D3110",description:"Pulp cap - direct",defaultFee:95},{code:"D3220",description:"Therapeutic pulpotomy",defaultFee:195},{code:"D3310",description:"Endodontic therapy - anterior",defaultFee:995},{code:"D3320",description:"Endodontic therapy - bicuspid",defaultFee:1095},{code:"D3330",description:"Endodontic therapy - molar",defaultFee:1295},{code:"D4210",description:"Gingivectomy - 4 or more teeth",defaultFee:395},{code:"D4341",description:"Scaling and root planing - per quadrant",defaultFee:285},{code:"D7240",description:"Extraction - erupted tooth",defaultFee:195},{code:"D9230",description:"Analgesia - nitrous oxide",defaultFee:85},{code:"D9248",description:"Non-intravenous conscious sedation",defaultFee:295}];function yg(e){var t;return(t=ns.find(n=>n.code===e))==null?void 0:t.defaultFee}function Ls(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function vg({plans:e,patientName:t,onAddPlan:n,onUpdatePlan:s,onDeletePlan:l,onAssignToBilling:a,readOnly:i}){const[o,d]=g.useState(!1),[u,c]=g.useState([]),[p,h]=g.useState("Draft"),[j,f]=g.useState(""),v=()=>{c(C=>[...C,{id:crypto.randomUUID(),name:"",procedures:[{description:"",estimatedFee:void 0}],notes:""}])},N=(C,D)=>{c(_=>_.map(O=>O.id===C?{...O,...D}:O))},m=(C,D,_)=>{c(O=>O.map(S=>S.id===C?{...S,procedures:S.procedures.map((I,R)=>R===D?{...I,..._}:I)}:S))},x=C=>{c(D=>D.map(_=>_.id===C?{..._,procedures:[..._.procedures,{description:"",estimatedFee:void 0}]}:_))},y=(C,D)=>{c(_=>_.map(O=>O.id===C?{...O,procedures:O.procedures.filter((S,I)=>I!==D)}:O))},w=()=>{u.length!==0&&(n({createdAt:new Date().toISOString(),phases:u,status:p,notes:j||void 0}),d(!1),c([]),h("Draft"),f(""))},E=C=>{const D=C.phases.map(O=>`<div class="phase"><h3>${O.name}</h3><table><thead><tr><th>Code</th><th>Description</th><th>Est. fee</th></tr></thead><tbody>${O.procedures.map(S=>`<tr><td>${S.code??""}</td><td>${S.description}</td><td>${S.estimatedFee!=null?Ls(S.estimatedFee):""}</td></tr>`).join("")}</tbody></table>${O.notes?`<p>${O.notes}</p>`:""}</div>`).join(""),_=C.phases.flatMap(O=>O.procedures).reduce((O,S)=>O+(S.estimatedFee??0),0);return`<h2>Treatment Plan  ${t}</h2><p>Created ${X(C.createdAt)}</p>${D}${C.notes?`<p>${C.notes}</p>`:""}<p><strong>Total estimated: ${Ls(_)}</strong></p>`},T=C=>{const D=window.open("","_blank");D&&(D.document.write(`
      <!DOCTYPE html><html><head><title>Treatment Plan - ${t}</title>
      <style>body{font-family:sans-serif;padding:2rem;max-width:800px;margin:0 auto} table{width:100%;border-collapse:collapse} th,td{border:1px solid #ccc;padding:8px;text-align:left} th{background:#f0f0f0} .phase{margin-top:1.5rem} h2{margin-top:0} h3{margin-top:1rem}</style>
      </head><body>${E(C)}</body></html>
    `),D.document.close(),D.print(),D.close())};return r.jsxs("div",{className:"space-y-4",children:[!i&&r.jsx("div",{className:"flex flex-wrap items-center gap-2",children:r.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-3 py-1.5 bg-navy text-white rounded-lg text-sm font-medium hover:bg-navy-light",children:"+ New treatment plan"})}),o&&r.jsxs("div",{className:"border-2 border-sky/40 rounded-xl p-4 bg-sky/5 space-y-4",children:[r.jsx("h4",{className:"font-medium text-navy",children:"New treatment plan"}),u.length===0?r.jsx("button",{type:"button",onClick:v,className:"px-3 py-2 bg-sky/20 text-navy rounded-lg text-sm font-medium",children:"+ Add phase"}):u.map(C=>r.jsxs("div",{className:"border border-sky/30 rounded-lg p-3 bg-white",children:[r.jsx("input",{type:"text",value:C.name,onChange:D=>N(C.id,{name:D.target.value}),placeholder:"Phase name (e.g. Phase 1: Emergency)",className:"w-full px-3 py-2 border border-sky/60 rounded-lg text-sm mb-2"}),r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-sky/10",children:[r.jsx("th",{className:"px-2 py-1 text-left",children:"Code"}),r.jsx("th",{className:"px-2 py-1 text-left",children:"Description"}),r.jsx("th",{className:"px-2 py-1 text-right",children:"Est. fee"}),r.jsx("th",{className:"w-8"})]})}),r.jsx("tbody",{children:C.procedures.map((D,_)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-2 py-1",children:r.jsxs("select",{value:D.code??"",onChange:O=>{const S=O.target.value,I=ns.find(R=>R.code===S);m(C.id,_,{code:S||void 0,description:I?I.description:D.description,estimatedFee:S?yg(S)??D.estimatedFee:D.estimatedFee})},className:"w-28 px-2 py-1 border rounded bg-white text-sm",children:[r.jsx("option",{value:"",children:""}),ns.map(O=>r.jsxs("option",{value:O.code,children:[O.code," ",O.description,O.defaultFee!=null?`  $${O.defaultFee}`:""]},O.code))]})}),r.jsx("td",{className:"px-2 py-1",children:r.jsx("input",{type:"text",value:D.description,onChange:O=>m(C.id,_,{description:O.target.value}),placeholder:"Procedure",className:"w-full px-2 py-1 border rounded"})}),r.jsx("td",{className:"px-2 py-1 text-right",children:r.jsx("input",{type:"number",min:0,step:.01,value:D.estimatedFee??"",onChange:O=>m(C.id,_,{estimatedFee:O.target.value===""?void 0:Number(O.target.value)}),placeholder:"0",className:"w-24 px-2 py-1 border rounded text-right"})}),r.jsx("td",{children:r.jsx("button",{type:"button",onClick:()=>y(C.id,_),className:"text-red-600 text-xs",children:""})})]},_))})]}),r.jsx("button",{type:"button",onClick:()=>x(C.id),className:"mt-1 text-sm text-sky-dark font-medium",children:"+ Add procedure"})]},C.id)),u.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onClick:v,className:"px-3 py-2 border border-sky/60 rounded-lg text-sm",children:"+ Add another phase"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-navy/70 mb-1",children:"Status"}),r.jsxs("select",{value:p,onChange:C=>h(C.target.value),className:"px-3 py-2 border border-sky/60 rounded-lg text-sm",children:[r.jsx("option",{value:"Draft",children:"Draft"}),r.jsx("option",{value:"Accepted",children:"Accepted"}),r.jsx("option",{value:"In progress",children:"In progress"}),r.jsx("option",{value:"Completed",children:"Completed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-navy/70 mb-1",children:"Notes"}),r.jsx("textarea",{value:j,onChange:C=>f(C.target.value),rows:2,className:"w-full px-3 py-2 border border-sky/60 rounded-lg text-sm"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-navy text-white rounded-lg text-sm font-medium",children:"Save plan"}),r.jsx("button",{type:"button",onClick:()=>{d(!1),c([])},className:"px-4 py-2 border border-navy/30 rounded-lg text-sm",children:"Cancel"})]})]})]}),e.map(C=>r.jsxs("div",{className:"border border-sky/40 rounded-xl p-4 bg-white",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-3",children:[r.jsxs("span",{className:"text-sm font-medium text-navy",children:[X(C.createdAt),"  ",C.status??"Draft"]}),r.jsxs("div",{className:"flex gap-2",children:[!i&&r.jsxs("select",{value:C.status??"Draft",onChange:D=>{const _=D.target.value,O=new Date().toISOString();_==="Accepted"?s(C.id,{status:"Accepted",acceptedAt:O}):_==="Declined"?s(C.id,{status:"Declined",declinedAt:O}):s(C.id,{status:_})},className:"px-2 py-1 border border-sky/60 rounded text-sm",children:[r.jsx("option",{value:"Draft",children:"Draft"}),r.jsx("option",{value:"Accepted",children:"Accepted"}),r.jsx("option",{value:"Declined",children:"Declined"}),r.jsx("option",{value:"In progress",children:"In progress"}),r.jsx("option",{value:"Completed",children:"Completed"})]}),r.jsx("button",{type:"button",onClick:()=>T(C),className:"px-3 py-1.5 border border-sky/60 rounded-lg text-sm font-medium",children:"Print / Email"}),!i&&a&&r.jsx("button",{type:"button",onClick:()=>a(C),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700",children:"Assign to Billing"}),!i&&l&&r.jsx("button",{type:"button",onClick:()=>l(C.id),className:"text-xs text-red-600 hover:underline",children:"Delete"})]})]}),r.jsxs("div",{className:"treatment-plan-print",children:[r.jsxs("h2",{className:"text-lg font-semibold text-navy mb-1",children:["Treatment Plan  ",t]}),r.jsxs("p",{className:"text-sm text-navy/70 mb-4",children:["Created ",X(C.createdAt)]}),C.phases.map(D=>r.jsxs("div",{className:"phase",children:[r.jsx("h3",{className:"font-medium text-navy mt-4 mb-2",children:D.name}),r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-sky/10",children:[r.jsx("th",{className:"px-2 py-1 text-left border border-sky/30",children:"Code"}),r.jsx("th",{className:"px-2 py-1 text-left border border-sky/30",children:"Description"}),r.jsx("th",{className:"px-2 py-1 text-right border border-sky/30",children:"Est. fee"})]})}),r.jsx("tbody",{children:D.procedures.map((_,O)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-2 py-1 border border-sky/30",children:_.code??""}),r.jsx("td",{className:"px-2 py-1 border border-sky/30",children:_.description}),r.jsx("td",{className:"px-2 py-1 text-right border border-sky/30",children:_.estimatedFee!=null?Ls(_.estimatedFee):""})]},O))})]}),D.notes&&r.jsx("p",{className:"text-xs text-navy/70 mt-1",children:D.notes})]},D.id)),C.notes&&r.jsx("p",{className:"text-sm text-navy/80 mt-4",children:C.notes}),r.jsxs("p",{className:"text-xs text-navy/60 mt-4",children:["Total estimated: ",Ls(C.phases.flatMap(D=>D.procedures).reduce((D,_)=>D+(_.estimatedFee??0),0))]})]})]},C.id)),e.length===0&&!o&&r.jsx("p",{className:"text-navy/60 text-sm",children:"No formal treatment plans yet."})]})}function Re({id:e,title:t,subtitle:n,children:s,defaultOpen:l=!0,badge:a}){const[i,o]=g.useState(()=>{try{const u=`gumgauge-chart-section-${e}`,c=localStorage.getItem(u);return c!==null?c==="1":l}catch{return l}}),d=()=>{const u=!i;o(u);try{localStorage.setItem(`gumgauge-chart-section-${e}`,u?"1":"0")}catch{}};return r.jsxs("section",{className:"border-b border-sky/20 last:border-0",children:[r.jsx("button",{type:"button",onClick:d,className:"w-full flex items-center justify-between gap-2 py-3 text-left focus:outline-none focus:ring-2 focus:ring-sky/50 focus:ring-inset rounded-lg","aria-expanded":i,"aria-controls":`section-${e}`,id:`section-toggle-${e}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`inline-block transition-transform ${i?"rotate-90":""}`,"aria-hidden":!0,children:""}),r.jsx("h2",{className:"text-sm font-semibold text-navy uppercase tracking-wide",children:t}),a!=null&&r.jsx("span",{className:"text-xs text-navy/60 font-normal normal-case",children:a})]})}),n&&i&&r.jsx("p",{className:"text-xs text-navy/60 mb-2 pl-6 -mt-1",children:n}),r.jsx("div",{id:`section-${e}`,role:"region","aria-labelledby":`section-toggle-${e}`,className:i?"pb-4":"hidden",children:s})]})}const Dn=["UnitedHealthcare","Anthem (Elevance Health)","Kaiser Permanente","Centene Corporation","Humana","CVS Health (Aetna)","Cigna","Health Care Service Corporation (HCSC)","Molina Healthcare","Independence Health Group","Blue Cross Blue Shield of Michigan","Highmark","Blue Shield of California","Florida Blue","Capital Health Plan","UPMC Health Plan","CareFirst BlueCross BlueShield","EmblemHealth","Health Net","Oscar Health"],Ge="Other",Sa=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition);function bg(e){const[t,n]=g.useState(!1),[s,l]=g.useState(""),[a,i]=g.useState(null),o=g.useRef(null),d=g.useRef(e==null?void 0:e.onFinalTranscript);d.current=e==null?void 0:e.onFinalTranscript;const u=!!Sa,c=g.useCallback(()=>{const h=o.current;if(h){try{h.stop()}catch{}o.current=null}n(!1),l("")},[]),p=g.useCallback(()=>{if(!Sa){i("Speech recognition is not supported in this browser. Try Chrome or Edge.");return}i(null);const h=new Sa;h.continuous=!0,h.interimResults=!0,h.lang=e==null?void 0:e.lang,h.maxAlternatives=1,h.onresult=j=>{var N;let f="",v="";for(let m=j.resultIndex;m<j.results.length;m++){const x=j.results[m],y=((N=x[0])==null?void 0:N.transcript)??"";x.isFinal?v+=y:f+=y}f&&l(f),v&&d.current&&d.current(v)},h.onend=()=>{n(!1),l(""),o.current=null},h.onerror=j=>{j.error==="not-allowed"?i("Microphone access was denied."):j.error==="no-speech"?i(null):i(j.message||"Speech recognition error."),n(!1),l(""),o.current=null};try{h.start(),o.current=h,n(!0)}catch(j){i(j instanceof Error?j.message:"Could not start recognition.")}},[e==null?void 0:e.lang]);return g.useEffect(()=>()=>{const h=o.current;if(h){try{h.abort()}catch{}o.current=null}},[]),{isSupported:u,isListening:t,interimTranscript:s,error:a,start:p,stop:c}}function Ng(e){if(!e.trim())return"";const n=e.trim().split(/\n|[.!?]+/).map(a=>a.trim()).filter(a=>a.length>8),s=new Set,l=[];for(const a of n){const i=a.slice(0,50).toLowerCase();s.has(i)||(s.add(i),l.push(" "+a.replace(/^[\s\-]+/,"")))}return l.join(`
`)}const jg=["Amoxicillin","Amoxicillin-Clavulanate","Azithromycin","Clindamycin","Ibuprofen","Acetaminophen","Naproxen","Hydrocodone-Acetaminophen","Tramadol","Penicillin VK","Metronidazole","Chlorhexidine gluconate","Fluoride toothpaste","Other"];function wg({prescriptions:e,patientName:t,patientDob:n,defaultPrescriberName:s="",defaultPrescriberCredentials:l="DDS",defaultDeaNumber:a="",signedInStaffId:i,onAdd:o,onDelete:d,readOnly:u=!1}){const[c,p]=g.useState(!1),[h,j]=g.useState("Other"),[f,v]=g.useState(""),[N,m]=g.useState(""),[x,y]=g.useState(""),[w,E]=g.useState(""),[T,C]=g.useState("0"),[D,_]=g.useState(s),[O,S]=g.useState(l),[I,R]=g.useState(a),[H,K]=g.useState(""),Y=h==="Other"?f:h,ge=()=>{const A=parseInt(w,10),J=parseInt(T,10);!Y.trim()||!x.trim()||Number.isNaN(A)||A<1||(o({date:new Date().toISOString().slice(0,10),medication:Y.trim(),strength:N.trim()||void 0,sig:x.trim(),quantity:A,refills:Number.isNaN(J)||J<0?0:J,prescriberName:D.trim()||"Prescriber",prescriberCredentials:O.trim()||void 0,deaNumber:I.trim()||void 0,prescribedByStaffId:i,note:H.trim()||void 0}),p(!1),j("Other"),v(""),m(""),y(""),E(""),C("0"),_(s),S(l),R(a),K(""))},$=A=>{const J=A.strength?`${A.medication} ${A.strength}`:A.medication;return`
      <div class="rx-block" style="margin-top:1.5rem; padding:1rem; border:1px solid #333;">
        <p style="margin:0 0 0.5rem 0;"><strong>Patient:</strong> ${t} &nbsp; <strong>DOB:</strong> ${X(n)}</p>
        <p style="margin:0 0 0.5rem 0;"><strong>Date:</strong> ${X(A.date)}</p>
        <p style="margin:0 0 0.5rem 0; font-size:1.1em;"><strong>${J}</strong></p>
        <p style="margin:0 0 0.5rem 0;"><strong>Sig:</strong> ${A.sig}</p>
        <p style="margin:0 0 0.5rem 0;"><strong>Quantity:</strong> ${A.quantity} &nbsp; <strong>Refills:</strong> ${A.refills}</p>
        <p style="margin:0.5rem 0 0 0;">_________________________</p>
        <p style="margin:0; font-size:0.95em;">${A.prescriberName}${A.prescriberCredentials?`, ${A.prescriberCredentials}`:""}</p>
        ${A.deaNumber?`<p style="margin:0; font-size:0.85em;">DEA: ${A.deaNumber}</p>`:""}
      </div>`},B=A=>{const J=window.open("","_blank");J&&(J.document.write(`
      <!DOCTYPE html><html><head><title>Prescription - ${t}</title>
      <style>
        body { font-family: Georgia, serif; padding: 2rem; max-width: 600px; margin: 0 auto; }
        .rx-block { font-size: 14px; }
      </style></head><body>
      <h2 style="margin-top:0;">Prescription</h2>
      ${$(A)}
      </body></html>
    `),J.document.close(),J.print(),J.close())};return r.jsxs("div",{className:"space-y-4",children:[!u&&r.jsx("div",{className:"flex flex-wrap items-center gap-2",children:r.jsx("button",{type:"button",onClick:()=>p(!0),className:"px-3 py-1.5 bg-navy text-white rounded-lg text-sm font-medium hover:bg-navy-light",children:"+ New prescription"})}),c&&r.jsxs("div",{className:"border-2 border-sky/40 rounded-xl p-4 bg-sky/5 space-y-4",children:[r.jsx("h4",{className:"font-medium text-navy",children:"New prescription"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Medication *"}),r.jsx("select",{value:h,onChange:A=>j(A.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white",children:jg.map(A=>r.jsx("option",{value:A,children:A},A))}),h==="Other"&&r.jsx("input",{type:"text",value:f,onChange:A=>v(A.target.value),placeholder:"Type medication name",className:"w-full mt-1 px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Strength / form"}),r.jsx("input",{type:"text",value:N,onChange:A=>m(A.target.value),placeholder:"e.g. 500mg capsule",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Sig (directions for use) *"}),r.jsx("input",{type:"text",value:x,onChange:A=>y(A.target.value),placeholder:"e.g. Take 1 tablet by mouth twice daily for 7 days",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Quantity *"}),r.jsx("input",{type:"number",min:1,value:w,onChange:A=>E(A.target.value),placeholder:"e.g. 30",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Refills"}),r.jsx("input",{type:"number",min:0,value:T,onChange:A=>C(A.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Prescriber name *"}),r.jsx("input",{type:"text",value:D,onChange:A=>_(A.target.value),placeholder:"e.g. Dr. Smith",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Credentials"}),r.jsx("input",{type:"text",value:O,onChange:A=>S(A.target.value),placeholder:"e.g. DDS",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"DEA number (if controlled)"}),r.jsx("input",{type:"text",value:I,onChange:A=>R(A.target.value),placeholder:"Optional",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Note (optional)"}),r.jsx("input",{type:"text",value:H,onChange:A=>K(A.target.value),placeholder:"e.g. Take with food",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:ge,className:"px-4 py-2 bg-navy text-white rounded-lg text-sm font-medium",children:"Sign & save prescription"}),r.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 border border-navy/30 rounded-lg text-sm",children:"Cancel"})]})]}),e.length===0&&!c&&r.jsx("p",{className:"text-navy/60 text-sm",children:"No prescriptions on file."}),e.map(A=>r.jsxs("div",{className:"border border-sky/40 rounded-xl p-4 bg-white",children:[r.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2 mb-2",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-navy",children:[A.medication,A.strength?` ${A.strength}`:""]}),r.jsxs("p",{className:"text-sm text-navy/70",children:[X(A.date),"  ",A.prescriberName,A.prescriberCredentials?`, ${A.prescriberCredentials}`:""]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>B(A),className:"px-3 py-1.5 border border-sky/60 rounded-lg text-sm font-medium hover:bg-sky/10",children:"Print"}),!u&&d&&r.jsx("button",{type:"button",onClick:()=>d(A.id),className:"text-xs text-red-600 hover:underline",children:"Delete"})]})]}),r.jsxs("p",{className:"text-sm text-navy/80",children:[r.jsx("strong",{children:"Sig:"})," ",A.sig]}),r.jsxs("p",{className:"text-sm text-navy/70",children:["Quantity: ",A.quantity,"  Refills: ",A.refills]}),A.note&&r.jsx("p",{className:"text-xs text-navy/60 mt-1",children:A.note})]},A.id))]})}function kg({allergies:e,medicalConditions:t,currentMedications:n}){const s=e==null?void 0:e.trim(),l=t==null?void 0:t.trim(),a=n==null?void 0:n.trim();return!s&&!l&&!a?null:r.jsxs("div",{className:"mb-6 rounded-xl border-2 border-amber-400 bg-amber-50 p-4 shadow-sm",children:[r.jsxs("h3",{className:"text-sm font-semibold uppercase tracking-wide text-amber-900 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-amber-500","aria-hidden":!0}),"Medical alerts"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[s&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-amber-900",children:"Allergies:"}),r.jsx("span",{className:"ml-1 text-amber-800",children:e})]}),l&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-amber-900",children:"Conditions:"}),r.jsx("span",{className:"ml-1 text-amber-800",children:t})]}),a&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-amber-900",children:"Current medications:"}),r.jsx("span",{className:"ml-1 text-amber-800",children:n})]})]})]})}const jr={Sound:"bg-sky/30 border-sky/50",Caries:"bg-red-400 border-red-600","Existing Restoration":"bg-blue-200 border-blue-500",Missing:"bg-navy/30 border-navy/50",Planned:"bg-amber-300 border-amber-500",Implant:"bg-purple-200 border-purple-500",Crown:"bg-blue-100 border-blue-400","Root Canal":"bg-green-200 border-green-500",Extraction:"bg-navy/20 border-navy/40",Other:"bg-sky/20 border-sky/40"},Ca=["Sound","Caries","Existing Restoration","Missing","Planned","Crown","Root Canal","Implant","Extraction","Other"];function nd(e,t){return e.find(n=>n.tooth===t&&!n.surface)}function Sg({conditions:e,onChange:t,readOnly:n}){const[s,l]=g.useState(null),[a,i]=g.useState(!1),o=(p,h,j="Planned")=>{const f=e.find(m=>m.tooth===p&&!m.surface),v=e.filter(m=>m.tooth!==p||m.surface),N=new Date().toISOString();t(f?[...v,{...f,condition:h,status:j,completedAt:j==="Completed"?N:void 0}]:[...v,{id:crypto.randomUUID(),tooth:p,condition:h,status:j,addedAt:N,completedAt:j==="Completed"?N:void 0}]),l(null)},d=p=>{t(e.filter(h=>h.tooth!==p)),l(null)},u=Array.from({length:16},(p,h)=>1+h),c=Array.from({length:16},(p,h)=>17+h);return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-navy/70",children:"Upper (116)"}),r.jsx("div",{className:"flex gap-1 flex-wrap",children:u.map(p=>{const h=nd(e,p),j=s===p;return r.jsxs("div",{className:"relative",children:[r.jsx("button",{type:"button",onClick:()=>n?null:l(j?null:p),className:`w-8 h-8 rounded border-2 text-xs font-medium flex items-center justify-center transition-colors ${h?jr[h.condition]:"bg-white border-sky/40 text-navy/60"} ${j?"ring-2 ring-navy ring-offset-1":""}`,title:h?`${p}: ${h.condition} (${h.status})`:`Tooth ${p}`,children:p}),j&&!n&&r.jsxs("div",{className:"absolute left-0 top-full mt-1 z-10 bg-white border border-sky/40 rounded-lg shadow-lg p-2 min-w-[180px]",children:[r.jsxs("p",{className:"text-xs text-navy/70 mb-1",children:["Tooth ",p]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:Ca.map(f=>r.jsx("button",{type:"button",onClick:()=>o(p,f),className:`px-2 py-1 text-xs rounded border ${jr[f]}`,children:f},f))}),r.jsxs("div",{className:"flex gap-1 mt-2",children:[r.jsx("button",{type:"button",onClick:()=>o(p,(h==null?void 0:h.condition)??"Sound","Completed"),className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded",children:"Mark completed"}),h&&r.jsx("button",{type:"button",onClick:()=>d(p),className:"px-2 py-1 text-xs text-red-600 hover:bg-red-50 rounded",children:"Clear"})]})]})]},p)})})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:"text-xs font-medium text-navy/70",children:"Lower (1732)"}),r.jsx("div",{className:"flex gap-1 flex-wrap",children:c.map(p=>{const h=nd(e,p),j=s===p;return r.jsxs("div",{className:"relative",children:[r.jsx("button",{type:"button",onClick:()=>n?null:l(j?null:p),className:`w-8 h-8 rounded border-2 text-xs font-medium flex items-center justify-center transition-colors ${h?jr[h.condition]:"bg-white border-sky/40 text-navy/60"} ${j?"ring-2 ring-navy ring-offset-1":""}`,title:h?`${p}: ${h.condition} (${h.status})`:`Tooth ${p}`,children:p}),j&&!n&&r.jsxs("div",{className:"absolute left-0 top-full mt-1 z-10 bg-white border border-sky/40 rounded-lg shadow-lg p-2 min-w-[180px]",children:[r.jsxs("p",{className:"text-xs text-navy/70 mb-1",children:["Tooth ",p]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:Ca.map(f=>r.jsx("button",{type:"button",onClick:()=>o(p,f),className:`px-2 py-1 text-xs rounded border ${jr[f]}`,children:f},f))}),r.jsxs("div",{className:"flex gap-1 mt-2",children:[r.jsx("button",{type:"button",onClick:()=>o(p,(h==null?void 0:h.condition)??"Sound","Completed"),className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded",children:"Mark completed"}),h&&r.jsx("button",{type:"button",onClick:()=>d(p),className:"px-2 py-1 text-xs text-red-600 hover:bg-red-50 rounded",children:"Clear"})]})]})]},p)})})]}),r.jsx("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-sky/20",children:Ca.map(p=>r.jsxs("span",{className:`inline-flex items-center gap-1 text-xs ${jr[p]} px-2 py-0.5 rounded`,children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-current opacity-70"}),p]},p))})]})}const En=10,Pn=3;function le({label:e,value:t,editing:n,formValue:s,onChange:l,type:a="text",placeholder:i,rows:o,preWrap:d,required:u}){return r.jsxs("div",{className:o?"md:col-span-2":"",children:[e?r.jsxs("label",{className:"block text-sm text-navy/70 mb-1",children:[e,u&&r.jsx("span",{className:"text-red-500 ml-0.5","aria-label":"required",children:"*"})]}):null,n?a==="textarea"?r.jsx("textarea",{value:s,onChange:c=>l(c.target.value),rows:o??3,placeholder:i,className:"w-full px-3 py-2 border border-sky/60 rounded-lg resize-y"}):r.jsx("input",{type:a,value:s,onChange:c=>l(c.target.value),placeholder:i,className:"w-full px-3 py-2 border border-sky/60 rounded-lg"}):r.jsx("p",{className:`text-navy ${d?"whitespace-pre-wrap":""}`,children:t||""})]})}function Cg(){var hs,xs,gs,ys,kn,Sn;const{id:e}=Dm(),[t,n]=Mm(),s=at(),{timezone:l}=os(),{staff:a,isSignedIn:i}=cs(),o=i&&a&&eg.includes(a.position),u=`/dashboard/patients/${e}`+(t.toString()?`?${t.toString()}`:""),[c,p]=g.useState(W(e||"")),[h,j]=g.useState(!1),[f,v]=g.useState(c||null),[N,m]=g.useState(!1),[x,y]=g.useState(null),w=g.useRef(null),[E,T]=g.useState(""),[C,D]=g.useState(!1),[_,O]=g.useState(!1),[S,I]=g.useState(!1),[R,H]=g.useState(!1),[K,Y]=g.useState(""),[ge,$]=g.useState("X-ray"),B=g.useRef(null);if(g.useEffect(()=>{const b=W(e||"");p(b),v(b||null),b!=null&&b.insuranceProvider&&b.insuranceProvider!==Ge&&!Dn.includes(b.insuranceProvider)?T(b.insuranceProvider):T("")},[e]),g.useEffect(()=>{if(!h||!f)return;f.insuranceProvider&&!Dn.includes(f.insuranceProvider)&&T(f.insuranceProvider||"")},[h,f==null?void 0:f.insuranceProvider]),g.useEffect(()=>{t.get("startVisit")==="1"&&c&&!c.currentVisitStartedAt&&(D(!0),n(b=>{const F=new URLSearchParams(b);return F.delete("startVisit"),F},{replace:!0}))},[c==null?void 0:c.id,c==null?void 0:c.currentVisitStartedAt,t,n]),g.useEffect(()=>{c!=null&&c.id&&Nn({timestamp:new Date().toISOString(),action:"chart.view",entityType:"patient",entityId:c.id,details:`${c.firstName} ${c.lastName}`})},[c==null?void 0:c.id]),!c)return r.jsxs("div",{className:"p-8",children:[r.jsx("p",{className:"text-navy/70",children:"Patient not found."}),r.jsx(Q,{to:"/dashboard/patients",className:"text-sky-dark font-medium mt-2 inline-block hover:underline",children:"Back to patients"})]});const A=()=>{if(!f)return;const b={...f};b.insuranceProvider===Ge&&(b.insuranceProvider=E.trim()||void 0);const F=se=>se===""||se===void 0?void 0:Number(se);b.appointmentDurationMinutes=F(b.appointmentDurationMinutes),b.nextAppointmentDurationMinutes=F(b.nextAppointmentDurationMinutes),b.recallIntervalMonths=F(b.recallIntervalMonths),b.balanceDue=F(b.balanceDue),b.insuranceDeductibleRemaining=F(b.insuranceDeductibleRemaining),b.insuranceDeductibleAnnual=F(b.insuranceDeductibleAnnual),te(c.id,b),p(W(c.id)),v(W(c.id)),j(!1)},J=()=>{ng(c.id),s("/dashboard/patients",{replace:!0})},L=(b,F)=>{f&&v({...f,[b]:F})},P=(f==null?void 0:f.patientImages)??c.patientImages??[],V=b=>{f&&v({...f,patientImages:b})},[G,re]=g.useState(""),[ie,At]=g.useState("X-ray"),jn=b=>{var oe;const F=(oe=b.target.files)==null?void 0:oe[0];if(b.target.value="",!F||!f)return;if(P.length>=En){alert(`Maximum ${En} images per patient. Remove one to add another.`);return}if(F.size>Pn*1024*1024){alert(`File is too large. Please use an image under ${Pn} MB.`);return}const se=new FileReader;se.onload=()=>{const k=se.result,Z=G.trim()||F.name.replace(/\.[^.]+$/,"")||"Image",ce={id:crypto.randomUUID(),label:Z,type:ie,dataUrl:k,dateAdded:new Date().toISOString()};V([...P,ce]),re("")},se.readAsDataURL(F)},or=b=>{V(P.filter(F=>F.id!==b))},ds=b=>{var k;const F=(k=b.target.files)==null?void 0:k[0];if(b.target.value="",!F||!c)return;const se=c.patientImages??[];if(se.length>=En){alert(`Maximum ${En} images per patient. Remove one to add another.`);return}if(F.size>Pn*1024*1024){alert(`File is too large. Please use an image under ${Pn} MB.`);return}const oe=new FileReader;oe.onload=()=>{const Z=oe.result,ce=K.trim()||F.name.replace(/\.[^.]+$/,"")||"Image",Ee={id:crypto.randomUUID(),label:ce,type:ge,dataUrl:Z,dateAdded:new Date().toISOString()};te(c.id,{patientImages:[...se,Ee]}),p(W(c.id)),v(W(c.id)),H(!1),Y("")},oe.readAsDataURL(F)},us=()=>D(!0),ms=()=>{if(!c)return;const b=_&&S;te(c.id,{currentVisitStartedAt:new Date().toISOString(),currentVisitUseVoiceNotes:b||void 0,currentVisitNotes:b?"":void 0}),p(W(c.id)),v(W(c.id)),D(!1),O(!1),I(!1)},ps=()=>{if(!c||!c.currentVisitStartedAt)return;const b=new Date().toISOString(),F=Math.round((new Date(b).getTime()-new Date(c.currentVisitStartedAt).getTime())/6e4),se={startedAt:c.currentVisitStartedAt,endedAt:b,durationMinutes:F,clinicalSummary:c.currentVisitNotes||void 0,voiceNotesConsent:c.currentVisitUseVoiceNotes||void 0},oe=[...c.visitHistory||[],se];te(c.id,{currentVisitStartedAt:void 0,currentVisitUseVoiceNotes:void 0,currentVisitNotes:void 0,visitHistory:oe}),p(W(c.id)),v(W(c.id))},z=b=>{c!=null&&c.id&&(te(c.id,{currentVisitNotes:b}),p(W(c.id)),v(W(c.id)))},cr=b=>{if(!(c!=null&&c.id)||!b.trim())return;const F=W(c.id);if(!F)return;const se=F.currentVisitNotes??"",oe=se?`${se} ${b.trim()}`:b.trim();te(c.id,{currentVisitNotes:oe}),p(W(c.id)),v(W(c.id))},{isSupported:fs,isListening:Ot,interimTranscript:Mt,error:wn,start:dr,stop:Ql}=bg({onFinalTranscript:cr,lang:"en-US"}),Kl=()=>{const b=(c==null?void 0:c.currentVisitNotes)??"";if(!b.trim())return;const F=Ng(b);if(!F)return;const se=`

--- Clinical summary ---
`,oe=b.includes("--- Clinical summary ---")?b.replace(/\n\n--- Clinical summary ---[\s\S]*$/,"").trim():b;z(oe+se+F)};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx(Q,{to:"/dashboard/patients",className:"text-sky-dark text-sm font-medium hover:underline mb-2 inline-block",children:" Patients"}),r.jsxs("h1",{className:"text-2xl font-semibold text-navy",children:["Patient chart: ",c.firstName," ",c.lastName]})]}),r.jsx("div",{className:"flex gap-2",children:h?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:A,className:"px-4 py-2 bg-navy text-white rounded-lg font-medium hover:bg-navy-light",children:"Save"}),r.jsx("button",{onClick:()=>{v(c),j(!1),m(!1)},className:"px-4 py-2 border border-navy/30 rounded-lg",children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-navy text-white rounded-lg font-medium hover:bg-navy-light",children:"Edit"}),o?N?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:J,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-medium",children:"Confirm delete"}),r.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 border border-navy/30 rounded-lg",children:"Cancel"})]}):r.jsx("button",{onClick:()=>m(!0),className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg font-medium hover:bg-red-50",children:"Delete"}):r.jsx("span",{className:"px-4 py-2 text-navy/50 text-sm",title:"Only a dentist from the clinic can delete a patient chart. Sign in as a dentist.",children:"Delete (dentist only)"})]})})]}),r.jsx(kg,{allergies:c.allergies,medicalConditions:c.medicalConditions,currentMedications:c.currentMedications}),r.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-2",children:[r.jsx(Q,{to:`/dashboard/billing?patient=${c.id}`,className:"px-3 py-1.5 border border-sky/60 rounded-lg text-sm font-medium text-navy hover:bg-sky/10",children:"Send statement"}),r.jsx(Q,{to:`/dashboard/appointments?patient=${c.id}`,className:"px-3 py-1.5 border border-sky/60 rounded-lg text-sm font-medium text-navy hover:bg-sky/10",children:"Schedule next"}),r.jsx(Q,{to:"/dashboard/recall",className:"px-3 py-1.5 border border-sky/60 rounded-lg text-sm font-medium text-navy hover:bg-sky/10",children:"Recall list"}),i&&r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onClick:()=>{const b=new Date().toISOString().slice(0,10);te(c.id,{lastRecallReminderSent:b}),p(W(c.id)),v(W(c.id))},className:"px-3 py-1.5 border border-sky/60 rounded-lg text-sm font-medium text-navy hover:bg-sky/10",children:"Send recall reminder"}),r.jsx("button",{type:"button",onClick:()=>{const b=new Date().toISOString().slice(0,10);te(c.id,{lastAppointmentReminderSent:b}),p(W(c.id)),v(W(c.id))},className:"px-3 py-1.5 border border-sky/60 rounded-lg text-sm font-medium text-navy hover:bg-sky/10",children:"Send appointment reminder"})]})]}),c.currentVisitStartedAt&&r.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-3 rounded-xl border-2 border-green-500 bg-green-50 px-4 py-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-green-800",children:"Visit in progress"}),r.jsxs("span",{className:"ml-2 text-green-700 text-sm",children:[" started at ",Ci(c.currentVisitStartedAt,l)]})]}),i?r.jsx("button",{type:"button",onClick:ps,className:"px-4 py-2 bg-green-700 text-white rounded-lg font-medium hover:bg-green-800",children:"End visit"}):r.jsx(Q,{to:`/signin?returnTo=${encodeURIComponent(u)}`,className:"px-4 py-2 bg-green-700 text-white rounded-lg font-medium hover:bg-green-800 inline-block",children:"Sign in to end visit"})]}),!c.currentVisitStartedAt&&r.jsx("div",{className:"mb-6",children:i?r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onClick:us,className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",children:"Start visit"}),r.jsx("p",{className:"mt-1 text-sm text-navy/60",children:"Mark that this patient is in the office for their appointment."})]}):r.jsxs("p",{className:"text-navy/80",children:[r.jsx(Q,{to:`/signin?returnTo=${encodeURIComponent(u)}`,className:"text-sky-dark font-medium hover:underline",children:"Sign in"})," ","to start a patient visit or record treatment."]})}),c.currentVisitStartedAt&&c.currentVisitUseVoiceNotes&&r.jsxs("div",{className:"mb-6 rounded-xl border-2 border-sky/40 bg-sky/5 p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-navy uppercase tracking-wide mb-1",children:"Visit session  AI voice notes"}),r.jsx("p",{className:"text-xs text-navy/60 mb-3",children:"Patient identity is not stored with recordings. Notes are linked only to this visit for clinical use."}),fs?r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[Ot?r.jsxs("button",{type:"button",onClick:Ql,className:"px-4 py-2 bg-navy text-white rounded-lg text-sm font-medium hover:bg-navy-light flex items-center gap-2",children:[r.jsx("span",{className:"inline-flex h-2 w-2 rounded-full bg-red-400 animate-pulse","aria-hidden":!0}),"Stop recording"]}):r.jsxs("button",{type:"button",onClick:dr,className:"px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 flex items-center gap-2",children:[r.jsx("span",{className:"inline-flex h-2 w-2 rounded-full bg-white","aria-hidden":!0}),"Start recording"]}),r.jsx("button",{type:"button",onClick:Kl,disabled:!(c.currentVisitNotes??"").trim(),className:"px-4 py-2 bg-sky-dark text-white rounded-lg text-sm font-medium hover:bg-navy disabled:opacity-50 disabled:cursor-not-allowed",children:"Generate bullet points"}),Ot&&r.jsx("span",{className:"text-sm text-navy/70",children:"Listening (speak into your microphone)"})]}):r.jsx("p",{className:"text-amber-700 text-sm mb-2",children:"Microphone speech recognition is not supported in this browser. Use Chrome or Edge, or type notes below."}),wn&&r.jsx("p",{className:"text-red-600 text-sm mb-2",role:"alert",children:wn}),Mt&&r.jsx("p",{className:"text-sm text-navy/60 italic mb-2",children:Mt}),r.jsx("textarea",{value:c.currentVisitNotes??"",onChange:b=>z(b.target.value),onBlur:b=>z(b.target.value),rows:8,placeholder:"Transcript will appear here as you speak, or type notes manually. Click Generate bullet points for a concise clinical summary.",className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white resize-y text-sm"})]}),C&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"start-visit-title",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-sky/40 p-6 max-w-md w-full",children:[r.jsx("h2",{id:"start-visit-title",className:"text-lg font-semibold text-navy mb-4",children:"Start visit"}),r.jsx("p",{className:"text-sm text-navy/70 mb-4",children:"Choose options before starting the visit."}),r.jsxs("label",{className:"flex items-start gap-2 mb-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:_,onChange:b=>O(b.target.checked),className:"mt-1 rounded border-sky/60"}),r.jsx("span",{className:"text-sm text-navy",children:"Use AI voice notes with patient consent (records conversation for clinical notes)"})]}),_&&r.jsxs("label",{className:"flex items-start gap-2 mb-4 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:S,onChange:b=>I(b.target.checked),className:"mt-1 rounded border-sky/60"}),r.jsx("span",{className:"text-sm text-navy",children:"Patient has given consent to record this conversation. Anonymity is maintained for the recording."})]}),r.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[r.jsx("button",{type:"button",onClick:()=>{D(!1),O(!1),I(!1)},className:"px-4 py-2 border border-navy/30 rounded-lg font-medium",children:"Cancel"}),r.jsx("button",{type:"button",onClick:ms,className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",children:"Start visit"})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-6 space-y-1",children:[r.jsx(Re,{id:"demographics",title:"Demographics",defaultOpen:!0,children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(le,{label:"First name",value:c.firstName,editing:!!h&&!!f,formValue:(f==null?void 0:f.firstName)??"",onChange:b=>L("firstName",b),required:!0}),r.jsx(le,{label:"Last name",value:c.lastName,editing:!!h&&!!f,formValue:(f==null?void 0:f.lastName)??"",onChange:b=>L("lastName",b),required:!0}),r.jsx(le,{label:"Date of birth",value:X(c.dateOfBirth),editing:!!h&&!!f,formValue:(f==null?void 0:f.dateOfBirth)??"",type:"date",onChange:b=>L("dateOfBirth",b),required:!0}),r.jsx(le,{label:"Phone",value:c.phone??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.phone)??"",onChange:b=>L("phone",b)}),r.jsx(le,{label:"Email",value:c.email??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.email)??"",type:"email",onChange:b=>L("email",b)}),r.jsx(le,{label:"Address",value:c.address??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.address)??"",onChange:b=>L("address",b)})]})}),r.jsx(Re,{id:"medical",title:"Medical history",subtitle:"Relevant for treatment safety (e.g. drug allergies, conditions affecting care)",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(le,{label:"Allergies",value:c.allergies??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.allergies)??"",placeholder:"e.g. Penicillin, latex",onChange:b=>L("allergies",b)}),r.jsx(le,{label:"Medical conditions",value:c.medicalConditions??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.medicalConditions)??"",placeholder:"e.g. Diabetes, hypertension",onChange:b=>L("medicalConditions",b)}),r.jsx(le,{label:"Current medications",value:c.currentMedications??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.currentMedications)??"",placeholder:"List current medications",onChange:b=>L("currentMedications",b)}),r.jsx(le,{label:"Emergency contact name",value:c.emergencyContactName??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.emergencyContactName)??"",onChange:b=>L("emergencyContactName",b)}),r.jsx(le,{label:"Emergency contact phone",value:c.emergencyContactPhone??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.emergencyContactPhone)??"",onChange:b=>L("emergencyContactPhone",b)})]})}),r.jsx(Re,{id:"insurance",title:"Insurance",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:f?"md:col-span-2":"",children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Insurance provider"}),h&&f?r.jsxs(r.Fragment,{children:[r.jsxs("select",{value:Dn.includes(f.insuranceProvider)?f.insuranceProvider:Ge,onChange:b=>{const F=b.target.value;L("insuranceProvider",F),F!==Ge&&T("")},className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white",children:[r.jsx("option",{value:"",children:"Select provider"}),Dn.map(b=>r.jsx("option",{value:b,children:b},b)),r.jsx("option",{value:Ge,children:Ge})]}),(f.insuranceProvider===Ge||f.insuranceProvider&&!Dn.includes(f.insuranceProvider))&&r.jsxs("div",{className:"mt-3",children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Custom provider name (free response)"}),r.jsx("input",{type:"text",autoComplete:"off",value:f.insuranceProvider===Ge?E:f.insuranceProvider||"",onChange:b=>{const F=b.target.value;f.insuranceProvider===Ge?T(F):L("insuranceProvider",F)},placeholder:"Type your insurance provider name here",className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white text-navy"})]})]}):r.jsx("p",{className:"text-navy",children:c.insuranceProvider||""})]}),r.jsx(le,{label:"Plan name",value:c.insurancePlan??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.insurancePlan)??"",onChange:b=>L("insurancePlan",b)}),r.jsx(le,{label:"Member ID",value:c.insuranceMemberId??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.insuranceMemberId)??"",onChange:b=>L("insuranceMemberId",b)}),r.jsx(le,{label:"Group number",value:c.insuranceGroupNumber??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.insuranceGroupNumber)??"",onChange:b=>L("insuranceGroupNumber",b)})]})}),r.jsx(Re,{id:"appointments",title:"Appointments",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(le,{label:"Date of appointment",value:X(c.dateOfAppointment)+(c.appointmentTime?` ${c.appointmentTime}`:""),editing:!!h&&!!f,formValue:(f==null?void 0:f.dateOfAppointment)??"",type:"date",onChange:b=>L("dateOfAppointment",b)}),r.jsx(le,{label:"Appointment time",value:c.appointmentTime??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.appointmentTime)??"",type:"time",onChange:b=>L("appointmentTime",b)}),r.jsx(le,{label:"Date of next appointment",value:c.dateOfNextAppointment?X(c.dateOfNextAppointment):"",editing:!!h&&!!f,formValue:(f==null?void 0:f.dateOfNextAppointment)??"",type:"date",onChange:b=>L("dateOfNextAppointment",b)}),r.jsx(le,{label:"Next appointment time",value:c.nextAppointmentTime??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.nextAppointmentTime)??"",type:"time",onChange:b=>L("nextAppointmentTime",b)}),r.jsxs("div",{className:(f==null?void 0:f.appointmentType)==="Other"?"md:col-span-2":"",children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Appointment type"}),h&&f?r.jsxs(r.Fragment,{children:[r.jsxs("select",{value:f.appointmentType??"",onChange:b=>L("appointmentType",b.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white",children:[r.jsx("option",{value:"",children:""}),Ym.map(b=>r.jsx("option",{value:b,children:b},b))]}),f.appointmentType==="Other"&&r.jsxs("div",{className:"mt-2",children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Describe appointment type (free response)"}),r.jsx("input",{type:"text",value:f.appointmentTypeOther??"",onChange:b=>L("appointmentTypeOther",b.target.value),placeholder:"e.g. Implant consultation, TMJ follow-up",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]}):r.jsx("p",{className:"text-navy",children:c.appointmentType==="Other"&&c.appointmentTypeOther?`Other (${c.appointmentTypeOther})`:c.appointmentType||""})]}),r.jsx(le,{label:"Doctor (performing appointment)",value:c.appointmentDoctor??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.appointmentDoctor)??"",placeholder:"e.g. Dr. Smith",onChange:b=>L("appointmentDoctor",b)}),r.jsx(le,{label:"Duration (minutes)",value:c.appointmentDurationMinutes!=null?String(c.appointmentDurationMinutes):"",editing:!!h&&!!f,formValue:(f==null?void 0:f.appointmentDurationMinutes)!=null?String(f.appointmentDurationMinutes):"",placeholder:"e.g. 60",onChange:b=>L("appointmentDurationMinutes",b===""?"":b)}),r.jsx(le,{label:"Room / operatory",value:c.appointmentRoom??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.appointmentRoom)??"",placeholder:"e.g. Op 1",onChange:b=>L("appointmentRoom",b)}),r.jsx(le,{label:"Next appointment duration (min)",value:c.nextAppointmentDurationMinutes!=null?String(c.nextAppointmentDurationMinutes):"",editing:!!h&&!!f,formValue:(f==null?void 0:f.nextAppointmentDurationMinutes)!=null?String(f.nextAppointmentDurationMinutes):"",placeholder:"e.g. 30",onChange:b=>L("nextAppointmentDurationMinutes",b===""?"":b)}),r.jsx(le,{label:"Next appointment room",value:c.nextAppointmentRoom??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.nextAppointmentRoom)??"",placeholder:"e.g. Op 2",onChange:b=>L("nextAppointmentRoom",b)}),r.jsx(le,{label:"Recall / recurring (months)",value:c.recallIntervalMonths!=null?String(c.recallIntervalMonths):"",editing:!!h&&!!f,formValue:(f==null?void 0:f.recallIntervalMonths)!=null?String(f.recallIntervalMonths):"",placeholder:"e.g. 6 for 6-month prophy",onChange:b=>L("recallIntervalMonths",b===""?"":b)})]})}),r.jsxs(Re,{id:"images",title:"Images & imaging",badge:P.length>0?`${P.length} file${P.length!==1?"s":""}`:void 0,subtitle:"X-rays, radiographs, CT, MRI, photos. Upload from your device (stored with this chart).",children:[h&&f&&r.jsxs("div",{className:"mb-4 p-4 bg-sky/10 rounded-lg border border-sky/30",children:[r.jsx("p",{className:"text-sm font-medium text-navy mb-2",children:"Add image"}),r.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[r.jsxs("div",{className:"min-w-[160px]",children:[r.jsx("label",{className:"block text-xs text-navy/70 mb-1",children:"Label"}),r.jsx("input",{type:"text",value:G,onChange:b=>re(b.target.value),placeholder:"e.g. Panoramic X-ray Jan 2026",className:"w-full px-3 py-2 border border-sky/60 rounded-lg text-sm"})]}),r.jsxs("div",{className:"min-w-[120px]",children:[r.jsx("label",{className:"block text-xs text-navy/70 mb-1",children:"Type"}),r.jsx("select",{value:ie,onChange:b=>At(b.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white text-sm",children:qc.map(b=>r.jsx("option",{value:b,children:b},b))})]}),r.jsxs("div",{children:[r.jsx("input",{ref:w,type:"file",accept:"image/*",onChange:jn,className:"hidden"}),r.jsx("button",{type:"button",onClick:()=>{var b;return(b=w.current)==null?void 0:b.click()},className:"px-4 py-2 bg-navy text-white rounded-lg text-sm font-medium hover:bg-navy-light",children:"Choose file"})]})]}),r.jsxs("p",{className:"text-xs text-navy/50 mt-2",children:["Max ",En," images, under ",Pn," MB each."]})]}),!h&&P.length<En&&r.jsx("button",{type:"button",onClick:()=>H(!0),className:"mb-3 px-4 py-2 bg-sky/20 text-navy rounded-lg text-sm font-medium hover:bg-sky/30 border border-sky/40",children:"+ Add image"}),P.length===0?r.jsxs("p",{className:"text-navy/60",children:["No images attached. ",h&&f?"Use the form above to upload.":"Click Add image above to upload without editing the whole chart."]}):r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:P.map(b=>r.jsxs("div",{className:"border border-sky/40 rounded-lg overflow-hidden bg-navy/5",children:[r.jsx("button",{type:"button",onClick:()=>y(b),className:"block w-full aspect-square p-1 focus:outline-none focus:ring-2 focus:ring-sky",children:r.jsx("img",{src:b.dataUrl,alt:b.label,className:"w-full h-full object-contain"})}),r.jsxs("div",{className:"p-2",children:[r.jsx("p",{className:"text-sm font-medium text-navy truncate",title:b.label,children:b.label}),r.jsx("span",{className:"text-xs text-navy/60 capitalize",children:b.type}),r.jsxs("div",{className:"flex gap-1 mt-1",children:[r.jsx("button",{type:"button",onClick:()=>y(b),className:"text-xs text-sky-dark font-medium hover:underline",children:"View"}),h&&f&&r.jsx("button",{type:"button",onClick:()=>or(b.id),className:"text-xs text-red-600 font-medium hover:underline",children:"Remove"})]})]})]},b.id))})]}),r.jsx(Re,{id:"clinical",title:"Clinical",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(le,{label:"Chief complaint",value:c.chiefComplaint??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.chiefComplaint)??"",placeholder:"Reason for visit",onChange:b=>L("chiefComplaint",b)}),r.jsx(le,{label:"Last cleaning date",value:c.lastCleaningDate?X(c.lastCleaningDate):"",editing:!!h&&!!f,formValue:(f==null?void 0:f.lastCleaningDate)??"",type:"date",onChange:b=>L("lastCleaningDate",b)}),r.jsx(le,{label:"Treatment plan",value:c.treatmentPlan??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.treatmentPlan)??"",type:"textarea",rows:3,preWrap:!0,placeholder:"Planned treatment",onChange:b=>L("treatmentPlan",b)})]})}),r.jsx(Re,{id:"dentist-notes",title:"Dentist's notes",children:r.jsx(le,{label:"",value:c.dentistNotes??"",editing:!!h&&!!f,formValue:(f==null?void 0:f.dentistNotes)??"",type:"textarea",rows:6,preWrap:!0,placeholder:"Clinical notes, procedures performed, charting notes, etc.",onChange:b=>L("dentistNotes",b)})}),r.jsx(Re,{id:"perio",title:"Perio charting",subtitle:"Pocket depths (PD), bleeding; numeric and graphic views. GumGauge device results (light %, health) auto-fill from Device Scan and show below.",children:r.jsx(xg,{exams:c.perioExams??[],gumGaugeExams:c.gumGaugeExams??[],onSaveExam:b=>{const F={...b,id:crypto.randomUUID()};te(c.id,{perioExams:[...c.perioExams??[],F]}),p(W(c.id)),v(W(c.id))},onDeleteExam:b=>{te(c.id,{perioExams:(c.perioExams??[]).filter(F=>F.id!==b)}),p(W(c.id)),v(W(c.id))},readOnly:!i})}),r.jsx(Re,{id:"restorative",title:"Restorative chart",subtitle:"Tooth-by-tooth conditions: caries, existing restorations, missing, planned. Click a tooth to set or change.",children:r.jsx(Sg,{conditions:c.toothConditions??[],onChange:b=>{te(c.id,{toothConditions:b}),p(W(c.id)),v(W(c.id))},readOnly:!i})}),r.jsx(Re,{id:"clinical-notes",title:"Clinical notes / progress notes",subtitle:"Structured clinical notes with optional templates.",children:r.jsx(gg,{notes:c.clinicalNotes??[],onAdd:b=>{const F={...b,id:crypto.randomUUID(),createdAt:new Date().toISOString()};te(c.id,{clinicalNotes:[...c.clinicalNotes??[],F]}),p(W(c.id)),v(W(c.id))},onDelete:b=>{te(c.id,{clinicalNotes:(c.clinicalNotes??[]).filter(F=>F.id!==b)}),p(W(c.id)),v(W(c.id))},readOnly:!i})}),r.jsx(Re,{id:"prescriptions",title:"Prescriptions",badge:(hs=c.prescriptions)!=null&&hs.length?`${c.prescriptions.length} Rx`:void 0,subtitle:"Write prescriptions with sig, quantity, refills. Printable like a real Rx.",children:r.jsx(wg,{prescriptions:c.prescriptions??[],patientName:`${c.firstName} ${c.lastName}`,patientDob:c.dateOfBirth,defaultPrescriberName:a?`Dr. ${a.firstName} ${a.lastName}`:void 0,defaultPrescriberCredentials:"DDS",signedInStaffId:a==null?void 0:a.id,onAdd:b=>{const F={...b,id:crypto.randomUUID(),signedAt:new Date().toISOString()};te(c.id,{prescriptions:[...c.prescriptions??[],F]}),p(W(c.id)),v(W(c.id))},onDelete:b=>{te(c.id,{prescriptions:(c.prescriptions??[]).filter(F=>F.id!==b)}),p(W(c.id)),v(W(c.id))},readOnly:!i})}),r.jsxs(Re,{id:"billing",title:"Billing",subtitle:"Balance, deductible, payment history. For full billing (payment methods, send to insurance) use the Billing tab.",children:[r.jsx("div",{className:"mb-3",children:r.jsx(Q,{to:"/dashboard/billing",className:"text-sky-dark font-medium text-sm hover:underline",children:"Open Billing tab "})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Balance due"}),h&&f?r.jsx("input",{type:"number",min:0,step:.01,value:f.balanceDue??"",onChange:b=>L("balanceDue",b.target.value===""?"":b.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"}):r.jsx("p",{className:"text-navy",children:c.balanceDue!=null?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c.balanceDue):""})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Insurance deductible (remaining / annual)"}),h&&f?r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx("input",{type:"number",min:0,step:.01,value:f.insuranceDeductibleRemaining!=null?String(f.insuranceDeductibleRemaining):"",onChange:b=>L("insuranceDeductibleRemaining",b.target.value===""?"":b.target.value),placeholder:"Remaining",className:"w-24 px-3 py-2 border border-sky/60 rounded-lg"}),r.jsx("span",{className:"text-navy/60",children:"/"}),r.jsx("input",{type:"number",min:0,step:.01,value:f.insuranceDeductibleAnnual!=null?String(f.insuranceDeductibleAnnual):"",onChange:b=>L("insuranceDeductibleAnnual",b.target.value===""?"":b.target.value),placeholder:"Annual",className:"w-24 px-3 py-2 border border-sky/60 rounded-lg"})]}):r.jsx("p",{className:"text-navy",children:c.insuranceDeductibleRemaining!=null&&c.insuranceDeductibleAnnual!=null?`${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c.insuranceDeductibleRemaining)} / ${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c.insuranceDeductibleAnnual)}`:""})]})]}),(((xs=c.paymentHistory)==null?void 0:xs.length)??0)>0&&r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"text-xs font-medium text-navy/80 mb-1",children:"Payment history"}),r.jsx("ul",{className:"space-y-1 text-sm",children:(c.paymentHistory??[]).map(b=>r.jsxs("li",{className:"flex justify-between text-navy/80",children:[r.jsxs("span",{children:[X(b.date),b.note?`  ${b.note}`:""]}),r.jsx("span",{className:"font-medium",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b.amount)})]},b.id))})]}),h&&f&&r.jsx("button",{type:"button",onClick:()=>{const b=prompt("Payment amount (e.g. 150)");if(b===null||b==="")return;const F=Number(b);if(Number.isNaN(F)||F<=0)return;const se=prompt("Note (optional)"),oe={id:crypto.randomUUID(),date:new Date().toISOString().slice(0,10),amount:F,note:se??void 0},k=[...f.paymentHistory??[],oe],Z=f.balanceDue??0;te(c.id,{paymentHistory:k,balanceDue:Math.max(0,Z-F)}),p(W(c.id)),v(W(c.id))},className:"mt-2 px-3 py-2 border border-green-600 text-green-700 rounded-lg text-sm font-medium hover:bg-green-50",children:"+ Record payment"})]}),r.jsxs(Re,{id:"documents",title:"Documents",badge:(gs=c.documents)!=null&&gs.length?`${c.documents.length}`:void 0,subtitle:"Consent forms, referrals, lab slips, insurance documents.",children:[r.jsx("ul",{className:"space-y-2 mb-3",children:(c.documents??[]).map(b=>r.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 py-2 border-b border-sky/20 last:border-0",children:[r.jsxs("span",{className:"text-navy font-medium",children:[b.type,": ",b.title]}),r.jsx("span",{className:"text-sm text-navy/70",children:X(b.date)}),i&&r.jsx("button",{type:"button",onClick:()=>{te(c.id,{documents:(c.documents??[]).filter(F=>F.id!==b.id)}),p(W(c.id)),v(W(c.id))},className:"text-xs text-red-600 hover:underline",children:"Remove"})]},b.id))}),i&&r.jsx("button",{type:"button",onClick:()=>{const b=prompt("Type (Consent, Referral, Lab, Insurance, Other)","Consent"),F=prompt("Title",""),se=prompt("Date (YYYY-MM-DD)",new Date().toISOString().slice(0,10));if(!F||!se)return;const k=b&&["Consent","Referral","Lab","Insurance","Other"].includes(b)?b:"Other",Z={id:crypto.randomUUID(),type:k,title:F,date:se,addedAt:new Date().toISOString()};te(c.id,{documents:[...c.documents??[],Z]}),p(W(c.id)),v(W(c.id))},className:"px-3 py-2 border border-sky/60 rounded-lg text-sm font-medium text-navy hover:bg-sky/10",children:"+ Add document"})]}),r.jsx(Re,{id:"treatment-plans",title:"Treatment plans",subtitle:"Formal plans with phases, procedures, and estimated costs (prices auto-fill from procedure codes). Printable.",children:r.jsx(vg,{plans:c.treatmentPlans??[],patientName:`${c.firstName} ${c.lastName}`,onAddPlan:b=>{const F={...b,id:crypto.randomUUID()};te(c.id,{treatmentPlans:[...c.treatmentPlans??[],F]}),p(W(c.id)),v(W(c.id))},onUpdatePlan:(b,F)=>{const se=(c.treatmentPlans??[]).map(oe=>oe.id===b?{...oe,...F}:oe);te(c.id,{treatmentPlans:se}),p(W(c.id)),v(W(c.id))},onDeletePlan:b=>{te(c.id,{treatmentPlans:(c.treatmentPlans??[]).filter(F=>F.id!==b)}),p(W(c.id)),v(W(c.id))},onAssignToBilling:b=>{const F=c.dateOfAppointment||new Date().toISOString().slice(0,10),se=new Date().toISOString(),oe=b.phases.flatMap(ce=>ce.procedures.filter(Ee=>Ee.description.trim()||Ee.estimatedFee!=null&&Ee.estimatedFee>0).map(Ee=>({id:crypto.randomUUID(),appointmentDate:F,procedureCode:Ee.code,description:Ee.description||"Procedure",amount:Ee.estimatedFee??0,status:"Pending",addedAt:se})));if(oe.length===0)return;const k=c.invoiceLines??[],Z=oe.reduce((ce,Ee)=>ce+Ee.amount,0);te(c.id,{invoiceLines:[...k,...oe],balanceDue:(c.balanceDue??0)+Z}),p(W(c.id)),v(W(c.id))},readOnly:!i})}),(((ys=c.visitHistory)==null?void 0:ys.length)??0)>0&&r.jsx(Re,{id:"visit-history",title:"Visit history",badge:`${((kn=c.visitHistory)==null?void 0:kn.length)??0} visit${(((Sn=c.visitHistory)==null?void 0:Sn.length)??0)!==1?"s":""}`,subtitle:"Time in office for past visits (catalogued when you end a visit).",children:r.jsx("ul",{className:"space-y-2",children:[...c.visitHistory??[]].reverse().map((b,F)=>r.jsxs("li",{className:"py-2 border-b border-sky/20 last:border-0 text-sm",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1",children:[r.jsx("span",{className:"text-navy/80",children:Ci(b.startedAt,l)}),r.jsx("span",{className:"text-navy font-medium",children:b.durationMinutes>=60?`${Math.floor(b.durationMinutes/60)} hr ${b.durationMinutes%60} min`:`${b.durationMinutes} min`}),b.voiceNotesConsent&&r.jsx("span",{className:"text-xs text-sky-dark bg-sky/20 px-1.5 py-0.5 rounded",children:"Voice notes"})]}),b.clinicalSummary&&r.jsx("p",{className:"mt-1 text-navy/70 whitespace-pre-wrap text-xs",children:b.clinicalSummary})]},F))})})]}),R&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"add-image-title",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-sky/40 p-6 max-w-md w-full",children:[r.jsx("h2",{id:"add-image-title",className:"text-lg font-semibold text-navy mb-4",children:"Add image"}),r.jsx("p",{className:"text-sm text-navy/70 mb-4",children:"Add an image without editing the whole chart."}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Label"}),r.jsx("input",{type:"text",value:K,onChange:b=>Y(b.target.value),placeholder:"e.g. Panoramic X-ray Jan 2026",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Type"}),r.jsx("select",{value:ge,onChange:b=>$(b.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white",children:qc.map(b=>r.jsx("option",{value:b,children:b},b))})]}),r.jsxs("div",{children:[r.jsx("input",{ref:B,type:"file",accept:"image/*",onChange:ds,className:"hidden"}),r.jsx("button",{type:"button",onClick:()=>{var b;return(b=B.current)==null?void 0:b.click()},className:"px-4 py-2 bg-navy text-white rounded-lg text-sm font-medium hover:bg-navy-light",children:"Choose file"}),r.jsxs("span",{className:"ml-2 text-xs text-navy/60",children:["Max ",Pn," MB"]})]})]}),r.jsx("div",{className:"flex gap-3 justify-end mt-6",children:r.jsx("button",{type:"button",onClick:()=>{H(!1),Y("")},className:"px-4 py-2 border border-navy/30 rounded-lg font-medium",children:"Cancel"})})]})}),x&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4",onClick:()=>y(null),role:"dialog","aria-modal":"true","aria-label":"View image",children:r.jsxs("div",{className:"relative max-w-full max-h-full",onClick:b=>b.stopPropagation(),children:[r.jsx("img",{src:x.dataUrl,alt:x.label,className:"max-w-full max-h-[90vh] object-contain rounded shadow-lg"}),r.jsx("p",{className:"text-white text-center mt-2 text-sm",children:x.label}),r.jsx("button",{type:"button",onClick:()=>y(null),className:"absolute -top-10 right-0 px-3 py-1 bg-white text-navy rounded font-medium hover:bg-gray-100",children:"Close"})]})})]})}const Eg={firstName:"",lastName:"",dateOfBirth:"",phone:"",email:"",address:"",allergies:"",medicalConditions:"",currentMedications:"",emergencyContactName:"",emergencyContactPhone:"",insuranceProvider:"",insuranceOther:"",insurancePlan:"",appointmentTypeOther:"",insuranceMemberId:"",insuranceGroupNumber:"",dateOfAppointment:new Date().toISOString().slice(0,10),appointmentTime:"",dateOfNextAppointment:"",nextAppointmentTime:"",appointmentType:"",appointmentDoctor:"",chiefComplaint:"",treatmentPlan:"",lastCleaningDate:"",dentistNotes:""};function Pg(){const e=at(),[t,n]=g.useState(Eg),s=(o,d)=>{n(u=>({...u,[o]:d}))},l=o=>o.trim()?o.trim():void 0,a=o=>{o.preventDefault();const d=tg({firstName:t.firstName,lastName:t.lastName,dateOfBirth:t.dateOfBirth,phone:l(t.phone),email:l(t.email),address:l(t.address),allergies:l(t.allergies),medicalConditions:l(t.medicalConditions),currentMedications:l(t.currentMedications),emergencyContactName:l(t.emergencyContactName),emergencyContactPhone:l(t.emergencyContactPhone),insuranceProvider:l(t.insuranceProvider===Ge?t.insuranceOther:t.insuranceProvider),insurancePlan:l(t.insurancePlan),insuranceMemberId:l(t.insuranceMemberId),insuranceGroupNumber:l(t.insuranceGroupNumber),dateOfAppointment:t.dateOfAppointment,dateOfNextAppointment:t.dateOfNextAppointment||"",appointmentTime:l(t.appointmentTime),nextAppointmentTime:l(t.nextAppointmentTime),appointmentType:l(t.appointmentType),appointmentTypeOther:t.appointmentType==="Other"?l(t.appointmentTypeOther):void 0,appointmentDoctor:l(t.appointmentDoctor),chiefComplaint:l(t.chiefComplaint),treatmentPlan:l(t.treatmentPlan),lastCleaningDate:l(t.lastCleaningDate),dentistNotes:t.dentistNotes});e(`/dashboard/patients/${d.id}`,{replace:!0})},i=(o,d)=>r.jsxs("section",{children:[r.jsx("h2",{className:"text-sm font-semibold text-navy uppercase tracking-wide mb-3",children:o}),d]});return r.jsxs("div",{className:"p-8",children:[r.jsx(Q,{to:"/dashboard/patients",className:"text-sky-dark text-sm font-medium hover:underline mb-4 inline-block",children:" Patients"}),r.jsx("h1",{className:"text-2xl font-semibold text-navy mb-6",children:"New patient"}),r.jsxs("form",{onSubmit:a,className:"bg-white rounded-xl shadow-sm border border-sky/40 p-6 space-y-6 max-w-2xl",children:[i("Demographics",r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"First name *"}),r.jsx("input",{required:!0,value:t.firstName,onChange:o=>s("firstName",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Last name *"}),r.jsx("input",{required:!0,value:t.lastName,onChange:o=>s("lastName",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Date of birth *"}),r.jsx("input",{required:!0,type:"date",value:t.dateOfBirth,onChange:o=>s("dateOfBirth",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Phone"}),r.jsx("input",{value:t.phone,onChange:o=>s("phone",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:t.email,onChange:o=>s("email",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Address"}),r.jsx("input",{value:t.address,onChange:o=>s("address",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]})),i("Medical history",r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-xs text-navy/60 mb-2",children:"Allergies, conditions, and medications relevant to dental treatment"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Allergies"}),r.jsx("input",{value:t.allergies,onChange:o=>s("allergies",o.target.value),placeholder:"e.g. Penicillin, latex",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Medical conditions"}),r.jsx("input",{value:t.medicalConditions,onChange:o=>s("medicalConditions",o.target.value),placeholder:"e.g. Diabetes, hypertension",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Current medications"}),r.jsx("input",{value:t.currentMedications,onChange:o=>s("currentMedications",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Emergency contact name"}),r.jsx("input",{value:t.emergencyContactName,onChange:o=>s("emergencyContactName",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Emergency contact phone"}),r.jsx("input",{value:t.emergencyContactPhone,onChange:o=>s("emergencyContactPhone",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]})]})),i("Insurance",r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Insurance provider"}),r.jsxs("select",{value:t.insuranceProvider,onChange:o=>s("insuranceProvider",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white",children:[r.jsx("option",{value:"",children:"Select provider"}),Dn.map(o=>r.jsx("option",{value:o,children:o},o)),r.jsx("option",{value:Ge,children:Ge})]}),t.insuranceProvider===Ge&&r.jsxs("div",{className:"mt-3",children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Custom provider name"}),r.jsx("input",{type:"text",autoComplete:"off",value:t.insuranceOther,onChange:o=>s("insuranceOther",o.target.value),placeholder:"Type insurance provider name",className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white text-navy"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Plan name"}),r.jsx("input",{value:t.insurancePlan,onChange:o=>s("insurancePlan",o.target.value),placeholder:"Select plan",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Member ID"}),r.jsx("input",{value:t.insuranceMemberId,onChange:o=>s("insuranceMemberId",o.target.value),placeholder:"Member ID",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Group number"}),r.jsx("input",{value:t.insuranceGroupNumber,onChange:o=>s("insuranceGroupNumber",o.target.value),placeholder:"Group number",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]})),i("Appointments",r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Date of appointment *"}),r.jsx("input",{required:!0,type:"date",value:t.dateOfAppointment,onChange:o=>s("dateOfAppointment",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Appointment time"}),r.jsx("input",{type:"time",value:t.appointmentTime,onChange:o=>s("appointmentTime",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Date of next appointment"}),r.jsx("input",{type:"date",value:t.dateOfNextAppointment,onChange:o=>s("dateOfNextAppointment",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Next appointment time"}),r.jsx("input",{type:"time",value:t.nextAppointmentTime,onChange:o=>s("nextAppointmentTime",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Appointment type"}),r.jsxs("select",{value:t.appointmentType,onChange:o=>s("appointmentType",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white",children:[r.jsx("option",{value:"",children:""}),Ym.map(o=>r.jsx("option",{value:o,children:o},o))]}),t.appointmentType==="Other"&&r.jsxs("div",{className:"mt-2",children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Describe appointment type (free response)"}),r.jsx("input",{type:"text",value:t.appointmentTypeOther,onChange:o=>s("appointmentTypeOther",o.target.value),placeholder:"e.g. Implant consultation, TMJ follow-up",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Doctor (performing appointment)"}),r.jsx("input",{value:t.appointmentDoctor,onChange:o=>s("appointmentDoctor",o.target.value),placeholder:"e.g. Dr. Smith",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]})),i("Clinical",r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Chief complaint"}),r.jsx("input",{value:t.chiefComplaint,onChange:o=>s("chiefComplaint",o.target.value),placeholder:"Reason for visit",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Last cleaning date"}),r.jsx("input",{type:"date",value:t.lastCleaningDate,onChange:o=>s("lastCleaningDate",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Treatment plan"}),r.jsx("textarea",{value:t.treatmentPlan,onChange:o=>s("treatmentPlan",o.target.value),rows:3,placeholder:"Planned treatment",className:"w-full px-3 py-2 border border-sky/60 rounded-lg resize-y"})]})]})),i("Dentist's notes",r.jsx("textarea",{value:t.dentistNotes,onChange:o=>s("dentistNotes",o.target.value),rows:4,placeholder:"Clinical notes, procedures performed, charting notes, etc.",className:"w-full px-3 py-2 border border-sky/60 rounded-lg resize-y"})),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"submit",className:"px-4 py-2 bg-navy text-white rounded-lg font-medium hover:bg-navy-light",children:"Save patient"}),r.jsx(Q,{to:"/dashboard/patients",className:"px-4 py-2 border border-navy/30 rounded-lg font-medium inline-block",children:"Cancel"})]})]})]})}const rd="09:00",sd=60;function Dg(e){const t=[];return e.forEach(n=>{const s=`${n.firstName} ${n.lastName}`;n.dateOfAppointment&&t.push({id:`apt-${n.id}-${n.dateOfAppointment}`,patientId:n.id,date:n.dateOfAppointment,time:n.appointmentTime??rd,durationMinutes:n.appointmentDurationMinutes??sd,type:"appointment",appointmentType:n.appointmentType,provider:n.appointmentDoctor,room:n.appointmentRoom,patientName:s,status:n.appointmentStatus}),n.dateOfNextAppointment&&t.push({id:`next-${n.id}-${n.dateOfNextAppointment}`,patientId:n.id,date:n.dateOfNextAppointment,time:n.nextAppointmentTime??rd,durationMinutes:n.nextAppointmentDurationMinutes??sd,type:"next",appointmentType:n.appointmentType,provider:n.appointmentDoctor,room:n.nextAppointmentRoom,patientName:s})}),t}function $s(e){const[t,n]=e.split(":").map(Number);return(t??0)*60+(n??0)}function ld(e){const t=Math.floor(e/60),n=e%60;return`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`}const ad=Array.from({length:10},(e,t)=>t+8),id=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function Ea(e){const t=new Date(e+"T12:00:00"),n=t.getDay(),s=new Date(t);return s.setDate(t.getDate()-n),Array.from({length:7},(l,a)=>{const i=new Date(s);return i.setDate(s.getDate()+a),i.toISOString().slice(0,10)})}function Tg(e){const[t,n]=e.split("-").map(Number),s=new Date(t,n-1,1),l=new Date(t,n,0),a=s.getDay(),i=l.getDate(),o=[],d=new Date(s);d.setDate(1-a);for(let p=0;p<a;p++){const h=new Date(d);h.setDate(d.getDate()+p),o.push({date:h.toISOString().slice(0,10),isCurrentMonth:!1})}for(let p=1;p<=i;p++)o.push({date:`${t}-${String(n).padStart(2,"0")}-${String(p).padStart(2,"0")}`,isCurrentMonth:!0});const u=42-o.length,c=new Date(t,n,1);for(let p=0;p<u;p++){const h=new Date(c);h.setDate(c.getDate()+p),o.push({date:h.toISOString().slice(0,10),isCurrentMonth:!1})}return o}function Ig({events:e,currentDate:t,viewMode:n,onDateChange:s,onReschedule:l}){const[a,i]=g.useState(null),[o,d]=g.useState(null),u=(m,x)=>{i(x),m.dataTransfer.setData("text/plain",x.id),m.dataTransfer.effectAllowed="move"},c=()=>{i(null),d(null)},p=(m,x,y)=>{m.preventDefault(),m.dataTransfer.dropEffect="move",d({date:x,time:y})},h=(m,x,y)=>{m.preventDefault();const w=m.dataTransfer.getData("text/plain");w&&l(w,x,y),i(null),d(null)},j=m=>e.filter(x=>x.date===m).sort((x,y)=>$s(x.time)-$s(y.time)),f=()=>{const m=new Date(t+"T12:00:00");n==="day"?m.setDate(m.getDate()-1):n==="week"?m.setDate(m.getDate()-7):m.setMonth(m.getMonth()-1),s(m.toISOString().slice(0,10))},v=()=>{const m=new Date(t+"T12:00:00");n==="day"?m.setDate(m.getDate()+1):n==="week"?m.setDate(m.getDate()+7):m.setMonth(m.getMonth()+1),s(m.toISOString().slice(0,10))},N=n==="day"?X(t):n==="week"?(()=>{const m=Ea(t);return`${X(m[0])}  ${X(m[6])}`})():(()=>{const[m,x]=t.split("-").map(Number);return`${["January","February","March","April","May","June","July","August","September","October","November","December"][x-1]} ${m}`})();return r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:f,className:"px-3 py-1.5 border border-sky/60 rounded-lg text-sm font-medium",children:""}),r.jsx("span",{className:"font-medium text-navy min-w-[200px]",children:N}),r.jsx("button",{type:"button",onClick:v,className:"px-3 py-1.5 border border-sky/60 rounded-lg text-sm font-medium",children:""})]})}),n==="day"&&r.jsx("div",{className:"border border-sky/40 rounded-lg overflow-hidden bg-white",children:r.jsxs("div",{className:"grid grid-cols-[60px_1fr]",children:[r.jsx("div",{className:"bg-sky/5 border-b border-sky/30 p-1 text-xs text-navy/70 font-medium"}),r.jsx("div",{className:"border-b border-sky/30 p-1 text-sm font-medium text-navy",children:X(t)}),ad.map(m=>{const x=ld(m*60),y=j(t).filter(E=>{const T=$s(E.time),C=T+(E.durationMinutes??60);return T<(m+1)*60&&C>m*60}),w=(o==null?void 0:o.date)===t&&(o==null?void 0:o.time)===x;return r.jsxs(pn.Fragment,{children:[r.jsx("div",{className:"bg-sky/5 border-b border-sky/20 p-1 text-xs text-navy/70",children:m===0?"12 AM":m<12?`${m} AM`:m===12?"12 PM":`${m-12} PM`}),r.jsx("div",{className:`min-h-[48px] border-b border-sky/20 p-1 ${w?"bg-green-100":""}`,onDragOver:E=>p(E,t,x),onDrop:E=>h(E,t,x),children:y.map(E=>r.jsxs("div",{draggable:!0,onDragStart:T=>u(T,E),onDragEnd:c,className:`mb-1 rounded px-2 py-1 text-xs border border-sky/40 bg-white cursor-grab active:cursor-grabbing ${(a==null?void 0:a.id)===E.id?"opacity-50":""}`,children:[r.jsx(Q,{to:`/dashboard/patients/${E.patientId}`,className:"font-medium text-sky-dark hover:underline",onClick:T=>T.stopPropagation(),children:E.patientName}),r.jsx("span",{className:"text-navy/70 ml-1",children:E.time}),E.durationMinutes&&r.jsxs("span",{className:"text-navy/50 ml-1",children:[E.durationMinutes," min"]}),E.room&&r.jsxs("span",{className:"ml-1 text-navy/50",children:[" ",E.room]})]},E.id))})]},m)})]})}),n==="week"&&r.jsx("div",{className:"border border-sky/40 rounded-lg overflow-hidden bg-white overflow-x-auto",children:r.jsxs("table",{className:"w-full min-w-[800px]",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-sky/5",children:[r.jsx("th",{className:"w-14 p-1 text-xs text-navy/70 font-medium border-r border-sky/30",children:"Time"}),Ea(t).map(m=>r.jsxs("th",{className:"p-1 text-xs font-medium text-navy border-r border-sky/30 last:border-r-0",children:[id[new Date(m+"T12:00:00").getDay()]," ",m.slice(8)]},m))]})}),r.jsx("tbody",{children:ad.map(m=>{const x=ld(m*60);return r.jsxs("tr",{className:"border-t border-sky/20",children:[r.jsx("td",{className:"p-1 text-xs text-navy/70 border-r border-sky/30",children:m===0?"12 AM":m<12?`${m} AM`:m===12?"12 PM":`${m-12} PM`}),Ea(t).map(y=>{const w=j(y).filter(T=>{const C=$s(T.time),D=C+(T.durationMinutes??60);return C<(m+1)*60&&D>m*60}),E=(o==null?void 0:o.date)===y&&(o==null?void 0:o.time)===x;return r.jsx("td",{className:`min-w-[100px] min-h-[40px] p-1 align-top border-r border-sky/20 last:border-r-0 ${E?"bg-green-100":""}`,onDragOver:T=>p(T,y,x),onDrop:T=>h(T,y,x),children:w.map(T=>r.jsxs("div",{draggable:!0,onDragStart:C=>u(C,T),onDragEnd:c,className:`rounded px-1 py-0.5 text-xs border border-sky/40 bg-white cursor-grab ${(a==null?void 0:a.id)===T.id?"opacity-50":""}`,children:[r.jsx(Q,{to:`/dashboard/patients/${T.patientId}`,className:"text-sky-dark hover:underline",onClick:C=>C.stopPropagation(),children:T.patientName}),T.room&&r.jsxs("span",{className:"text-navy/50",children:[" ",T.room]})]},T.id))},y)})]},m)})})]})}),n==="month"&&r.jsx("div",{className:"border border-sky/40 rounded-lg overflow-hidden bg-white",children:r.jsxs("div",{className:"grid grid-cols-7",children:[id.map(m=>r.jsx("div",{className:"p-1 text-center text-xs font-medium text-navy bg-sky/5 border-b border-r border-sky/30 last:border-r-0",children:m},m)),Tg(t.slice(0,7)).map(({date:m,isCurrentMonth:x})=>{const y=j(m),w=(o==null?void 0:o.date)===m;return r.jsxs("div",{className:`min-h-[80px] p-1 border-b border-r border-sky/20 last:border-r-0 ${x?"":"bg-sky/5"} ${w?"bg-green-100":""}`,onDragOver:E=>{E.preventDefault(),d({date:m,time:"09:00"})},onDrop:E=>{E.preventDefault();const T=E.dataTransfer.getData("text/plain");T&&l(T,m,"09:00"),d(null)},children:[r.jsx("span",{className:`text-sm ${x?"text-navy":"text-navy/50"}`,children:m.slice(8)}),r.jsxs("div",{className:"mt-0.5 space-y-0.5",children:[y.slice(0,3).map(E=>r.jsx("div",{draggable:!0,onDragStart:T=>u(T,E),onDragEnd:c,className:`rounded px-1 py-0.5 text-xs border border-sky/40 bg-white cursor-grab truncate ${(a==null?void 0:a.id)===E.id?"opacity-50":""}`,title:`${E.patientName} ${E.time}`,children:r.jsxs(Q,{to:`/dashboard/patients/${E.patientId}`,className:"text-sky-dark hover:underline",onClick:T=>T.stopPropagation(),children:[E.time," ",E.patientName]})},E.id)),y.length>3&&r.jsxs("span",{className:"text-xs text-navy/60",children:["+",y.length-3," more"]})]})]},m)})]})}),r.jsx("p",{className:"text-xs text-navy/60",children:"Drag an appointment to reschedule. Drop on a day/time to update."})]})}function Ag(e){return e.slice(0,4)}function Og(e){return e.slice(0,7)}function od(e){const t=new Date(e+"T12:00:00"),n=new Date(t);return n.setDate(t.getDate()-t.getDay()),n.toISOString().slice(0,10)}function Mg(){const{timezone:e}=os(),t=Do(e),[n,s]=g.useState("upcoming"),[l,a]=g.useState("month"),[i,o]=g.useState(""),[d,u]=g.useState(""),[c,p]=g.useState(""),[h,j]=g.useState(""),[f,v]=g.useState("list"),[N,m]=g.useState("week"),[x,y]=g.useState(()=>t),[w,E]=g.useState(()=>je()),T=g.useMemo(()=>Dg(w),[w]),C=()=>E(je()),D=g.useMemo(()=>{const P=new Map;return w.forEach(V=>{const G=V.dateOfAppointment;P.has(G)||P.set(G,[]),P.get(G).push(V)}),P},[w]),_=g.useMemo(()=>{const P=new Map;return w.forEach(V=>{if(!V.dateOfNextAppointment)return;const G=V.dateOfNextAppointment;P.has(G)||P.set(G,[]),P.get(G).push(V)}),P},[w]),O=D.get(t)||[],S=Array.from(_.keys()).filter(P=>P>=t).sort().slice(0,14),I=Array.from(new Set([...D.keys(),..._.keys()])).sort();let R=n==="today"?O.map(P=>({date:t,type:"appointment",patient:P})):n==="upcoming"?S.flatMap(P=>(_.get(P)||[]).map(V=>({date:P,type:"next",patient:V}))):I.flatMap(P=>[...(D.get(P)||[]).map(V=>({date:P,type:"appointment",patient:V})),...(_.get(P)||[]).map(V=>({date:P,type:"next",patient:V}))]);h&&(R=R.filter(P=>P.patient.id===h));const H=parseInt(t.slice(0,4),10),K=g.useMemo(()=>{const P=[];for(let V=H-5;V<=H+5;V++)P.push(String(V));return P},[H]),Y=g.useMemo(()=>["January","February","March","April","May","June","July","August","September","October","November","December"].map((V,G)=>({value:String(G+1).padStart(2,"0"),label:V})),[]),ge=g.useMemo(()=>{const P=R.map(G=>G.date),V=Array.from(new Set(P.map(od))).sort();return{year:K,week:V}},[R,n,h,K]),$=d&&c?`${d}-${c}`:"",B=g.useMemo(()=>l==="month"?$?R.filter(P=>Og(P.date)===$):R:i?R.filter(P=>{const V=P.date;return l==="year"?Ag(V)===i:od(V)===i}):R,[R,l,i,$]),A=g.useMemo(()=>[...w].sort((P,V)=>`${P.firstName} ${P.lastName}`.localeCompare(`${V.firstName} ${V.lastName}`)),[w]),J=(P,V,G)=>{const re=T.find(ie=>ie.id===P);re&&(re.type==="next"?te(re.patientId,{dateOfNextAppointment:V,nextAppointmentTime:G}):te(re.patientId,{dateOfAppointment:V,appointmentTime:G}),C())},L=h?T.filter(P=>P.patientId===h):T;return r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-semibold text-navy mb-6",children:"Appointments"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[r.jsx("span",{className:"text-sm text-navy/70",children:"View:"}),["list","calendar"].map(P=>r.jsx("button",{onClick:()=>v(P),className:`px-4 py-2 rounded-lg font-medium capitalize ${f===P?"bg-navy text-white":"bg-white border border-sky/60 text-navy hover:bg-sky/10"}`,children:P},P)),f==="calendar"&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-sm text-navy/70 ml-2",children:"Calendar:"}),["day","week","month"].map(P=>r.jsx("button",{onClick:()=>m(P),className:`px-3 py-1.5 rounded-lg text-sm font-medium capitalize ${N===P?"bg-sky-dark text-white":"bg-sky/20 text-navy"}`,children:P},P))]})]}),f==="list"&&B.length>0&&r.jsx("div",{className:"mb-4",children:r.jsx("button",{type:"button",onClick:()=>{const P=["Date","Time","Type","Patient","Duration","Room"],V=B.map(({date:G,type:re,patient:ie})=>[X(G),re==="appointment"?ie.appointmentTime??"":ie.nextAppointmentTime??"",re==="appointment"?"Appointment":"Next appointment",`${ie.firstName} ${ie.lastName}`,re==="appointment"?ie.appointmentDurationMinutes??"":ie.nextAppointmentDurationMinutes??"",re==="appointment"?ie.appointmentRoom??"":ie.nextAppointmentRoom??""]);Km(`appointments-${new Date().toISOString().slice(0,10)}.csv`,P,V)},className:"px-3 py-2 border border-sky/60 rounded-lg text-sm font-medium text-navy hover:bg-sky/10",children:"Export CSV"})}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["today","upcoming","all"].map(P=>r.jsx("button",{onClick:()=>{s(P),o("")},className:`px-4 py-2 rounded-lg font-medium capitalize ${n===P?"bg-navy text-white":"bg-white border border-sky/60 text-navy hover:bg-sky/10"}`,children:P},P))}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm text-navy/70 whitespace-nowrap",children:"Group by"}),r.jsxs("select",{value:l,onChange:P=>{const V=P.target.value;a(V),o(""),u(""),p("")},className:"px-3 py-2 border border-sky/60 rounded-lg bg-white text-navy",children:[r.jsx("option",{value:"year",children:"Year"}),r.jsx("option",{value:"month",children:"Month"}),r.jsx("option",{value:"week",children:"Week"})]})]}),l==="month"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm text-navy/70 whitespace-nowrap",children:"Year"}),r.jsxs("select",{value:d,onChange:P=>u(P.target.value),className:"px-3 py-2 border border-sky/60 rounded-lg bg-white text-navy min-w-[100px]",children:[r.jsx("option",{value:"",children:"Select year"}),ge.year.map(P=>r.jsx("option",{value:P,children:P},P))]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm text-navy/70 whitespace-nowrap",children:"Month"}),r.jsxs("select",{value:c,onChange:P=>p(P.target.value),className:"px-3 py-2 border border-sky/60 rounded-lg bg-white text-navy min-w-[140px]",children:[r.jsx("option",{value:"",children:"Select month"}),Y.map(P=>r.jsx("option",{value:P.value,children:P.label},P.value))]})]})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm text-navy/70 whitespace-nowrap",children:"Show"}),r.jsxs("select",{value:i,onChange:P=>o(P.target.value),className:"px-3 py-2 border border-sky/60 rounded-lg bg-white text-navy min-w-[180px]",children:[r.jsx("option",{value:"",children:l==="year"?"All years":"All weeks"}),l==="year"&&ge.year.map(P=>r.jsx("option",{value:P,children:P},P)),l==="week"&&ge.week.map(P=>r.jsxs("option",{value:P,children:[X(P)," (week)"]},P))]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm text-navy/70 whitespace-nowrap",children:"Patient"}),r.jsxs("select",{value:h,onChange:P=>j(P.target.value),className:"px-3 py-2 border border-sky/60 rounded-lg bg-white text-navy min-w-[180px]",children:[r.jsx("option",{value:"",children:"All patients"}),A.map(P=>r.jsxs("option",{value:P.id,children:[P.firstName," ",P.lastName]},P.id))]})]})]}),f==="calendar"&&r.jsx("div",{className:"mb-6",children:r.jsx(Ig,{events:L,currentDate:x,viewMode:N,onDateChange:y,onReschedule:J})}),f==="list"&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 overflow-hidden",children:B.length===0?r.jsx("div",{className:"p-8 text-center text-navy/60",children:i||$||h?"No appointments match the selected filters.":n==="today"?"No appointments today.":n==="upcoming"?"No upcoming next appointments.":"No appointments on file."}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-navy/5 border-b border-sky/40",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"Date"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"Type"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"Patient"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"Status"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"Duration"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"Room"}),r.jsx("th",{className:"w-24"})]})}),r.jsx("tbody",{children:B.map(({date:P,type:V,patient:G})=>r.jsxs("tr",{className:"border-b border-sky/20 hover:bg-sky/10",children:[r.jsxs("td",{className:"py-3 px-4 text-navy",children:[X(P),G.appointmentTime||G.nextAppointmentTime?` ${V==="appointment"?G.appointmentTime:G.nextAppointmentTime}`:""]}),r.jsx("td",{className:"py-3 px-4 text-navy/80",children:V==="appointment"?"Appointment":"Next appointment"}),r.jsxs("td",{className:"py-3 px-4 font-medium text-navy",children:[G.firstName," ",G.lastName]}),r.jsx("td",{className:"py-3 px-4",children:V==="appointment"?r.jsxs("select",{value:G.appointmentStatus??"Scheduled",onChange:re=>{te(G.id,{appointmentStatus:re.target.value}),C()},className:"text-sm px-2 py-1 border border-sky/60 rounded bg-white text-navy",children:[r.jsx("option",{value:"Scheduled",children:"Scheduled"}),r.jsx("option",{value:"Checked In",children:"Checked In"}),r.jsx("option",{value:"In Chair",children:"In Chair"}),r.jsx("option",{value:"With Doctor",children:"With Doctor"}),r.jsx("option",{value:"Checkout",children:"Checkout"}),r.jsx("option",{value:"No-Show",children:"No-Show"}),r.jsx("option",{value:"Broken",children:"Broken"})]}):r.jsx("span",{className:"text-navy/60",children:""})}),r.jsx("td",{className:"py-3 px-4 text-navy/80",children:V==="appointment"?G.appointmentDurationMinutes?`${G.appointmentDurationMinutes} min`:"":G.nextAppointmentDurationMinutes?`${G.nextAppointmentDurationMinutes} min`:""}),r.jsx("td",{className:"py-3 px-4 text-navy/80",children:V==="appointment"?G.appointmentRoom??"":G.nextAppointmentRoom??""}),r.jsx("td",{className:"py-3 px-4",children:r.jsx(Q,{to:`/dashboard/patients/${G.id}`,className:"text-sky-dark font-medium text-sm hover:underline",children:"Chart"})})]},`${G.id}-${P}-${V}`))})]})})]})}function _g(){const[e,t]=g.useState(""),[n,s]=g.useState(""),l=g.useMemo(()=>ir(),[]),a=g.useMemo(()=>{let i=l;if(e.trim()){const o=e.toLowerCase();i=i.filter(d=>`${d.firstName} ${d.lastName}`.toLowerCase().includes(o)||d.email&&d.email.toLowerCase().includes(o)||d.position.toLowerCase().includes(o))}return n&&(i=i.filter(o=>o.position===n)),i.sort((o,d)=>`${o.lastName} ${o.firstName}`.localeCompare(`${d.lastName} ${d.firstName}`))},[l,e,n]);return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsx("h1",{className:"text-2xl font-semibold text-navy",children:"Staff"}),r.jsx(Q,{to:"/dashboard/staff/new",className:"inline-flex items-center justify-center px-4 py-2 bg-navy text-white rounded-lg font-medium hover:bg-navy-light transition-colors",children:"+ Add staff member"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[r.jsx("input",{type:"search",placeholder:"Search by name, email, or position...",value:e,onChange:i=>t(i.target.value),className:"flex-1 max-w-md px-4 py-2 border border-sky/60 rounded-lg bg-white text-navy placeholder-navy/50 focus:outline-none focus:ring-2 focus:ring-sky focus:border-transparent"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm text-navy/70 whitespace-nowrap",children:"Position"}),r.jsxs("select",{value:n,onChange:i=>s(i.target.value),className:"px-3 py-2 border border-sky/60 rounded-lg bg-white text-navy min-w-[200px]",children:[r.jsx("option",{value:"",children:"All positions"}),Wl.map(i=>r.jsx("optgroup",{label:i.label,children:i.positions.map(o=>r.jsx("option",{value:o,children:o},o))},i.label))]})]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 overflow-hidden",children:a.length===0?r.jsx("div",{className:"p-8 text-center text-navy/60",children:l.length===0?"No staff yet. Add your first staff member above.":"No staff match your search or filter."}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-navy/5 border-b border-sky/40",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"Name"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"Position"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"Status"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"Hire date"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-navy",children:"Contact"}),r.jsx("th",{className:"w-24"})]})}),r.jsx("tbody",{children:a.map(i=>r.jsxs("tr",{className:"border-b border-sky/20 hover:bg-sky/10",children:[r.jsxs("td",{className:"py-3 px-4 font-medium text-navy",children:[i.firstName," ",i.lastName]}),r.jsx("td",{className:"py-3 px-4 text-navy/80",children:i.position}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${i.status==="Active"?"bg-green-100 text-green-800":i.status==="On leave"?"bg-amber-100 text-amber-800":"bg-navy/10 text-navy/70"}`,children:i.status})}),r.jsx("td",{className:"py-3 px-4 text-navy/80",children:X(i.hireDate)}),r.jsx("td",{className:"py-3 px-4 text-navy/80 text-sm",children:i.email||i.phone||""}),r.jsx("td",{className:"py-3 px-4",children:r.jsx(Q,{to:`/dashboard/staff/${i.id}`,className:"text-sky-dark font-medium text-sm hover:underline",children:"View"})})]},i.id))})]})})]})}const Rg={firstName:"",lastName:"",position:"",email:"",phone:"",loginEmail:"",password:"",hireDate:new Date().toISOString().slice(0,10),status:"Active",licenseNumber:"",licenseExpiry:"",emergencyContactName:"",emergencyContactPhone:"",notes:""};function Lg(){const e=at(),[t,n]=g.useState(Rg),s=(o,d)=>{n(u=>({...u,[o]:d}))},l=o=>o.trim()?o.trim():void 0,a=o=>{o.preventDefault();const d=Hx({firstName:t.firstName,lastName:t.lastName,position:t.position,email:l(t.email),phone:l(t.phone),loginEmail:l(t.loginEmail)??"",password:t.password,hireDate:t.hireDate,status:t.status,licenseNumber:l(t.licenseNumber),licenseExpiry:l(t.licenseExpiry),emergencyContactName:l(t.emergencyContactName),emergencyContactPhone:l(t.emergencyContactPhone),notes:l(t.notes)});e(`/dashboard/staff/${d.id}`,{replace:!0})},i=(o,d)=>r.jsxs("section",{children:[r.jsx("h2",{className:"text-sm font-semibold text-navy uppercase tracking-wide mb-3",children:o}),d]});return r.jsxs("div",{className:"p-8",children:[r.jsx(Q,{to:"/dashboard/staff",className:"text-sky-dark text-sm font-medium hover:underline mb-4 inline-block",children:" Staff"}),r.jsx("h1",{className:"text-2xl font-semibold text-navy mb-6",children:"Add staff member"}),r.jsxs("form",{onSubmit:a,className:"bg-white rounded-xl shadow-sm border border-sky/40 p-6 space-y-6 max-w-2xl",children:[i("Basic information",r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"First name *"}),r.jsx("input",{required:!0,value:t.firstName,onChange:o=>s("firstName",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Last name *"}),r.jsx("input",{required:!0,value:t.lastName,onChange:o=>s("lastName",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Position *"}),r.jsxs("select",{required:!0,value:t.position,onChange:o=>s("position",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white",children:[r.jsx("option",{value:"",children:"Select position"}),Wl.map(o=>r.jsx("optgroup",{label:o.label,children:o.positions.map(d=>r.jsx("option",{value:d,children:d},d))},o.label))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Status"}),r.jsx("select",{value:t.status,onChange:o=>s("status",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white",children:Gm.map(o=>r.jsx("option",{value:o,children:o},o))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Hire date *"}),r.jsx("input",{required:!0,type:"date",value:t.hireDate,onChange:o=>s("hireDate",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]})),i("Contact",r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:t.email,onChange:o=>s("email",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Phone"}),r.jsx("input",{value:t.phone,onChange:o=>s("phone",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]})),i("Login credentials",r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-xs text-navy/60 mb-2",children:"Assigned credentials for this employee to sign in to GumGauge. Leave blank if they will not use sign-in."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Login email or username"}),r.jsx("input",{type:"text",autoComplete:"off",value:t.loginEmail,onChange:o=>s("loginEmail",o.target.value),placeholder:"e.g. jane@practice.com",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Password"}),r.jsx("input",{type:"password",autoComplete:"new-password",value:t.password,onChange:o=>s("password",o.target.value),placeholder:"Set password for sign-in",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]})]})),i("License / certification",r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-xs text-navy/60 mb-2",children:"For roles that require a license (e.g. Dentist, Hygienist, CDA)"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"License number"}),r.jsx("input",{value:t.licenseNumber,onChange:o=>s("licenseNumber",o.target.value),placeholder:"e.g. state license #",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"License expiry"}),r.jsx("input",{type:"date",value:t.licenseExpiry,onChange:o=>s("licenseExpiry",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]})]})),i("Emergency contact",r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Name"}),r.jsx("input",{value:t.emergencyContactName,onChange:o=>s("emergencyContactName",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Phone"}),r.jsx("input",{value:t.emergencyContactPhone,onChange:o=>s("emergencyContactPhone",o.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]})),i("Notes",r.jsx("textarea",{value:t.notes,onChange:o=>s("notes",o.target.value),rows:3,placeholder:"Internal notes about this staff member",className:"w-full px-3 py-2 border border-sky/60 rounded-lg resize-y"})),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"submit",className:"px-4 py-2 bg-navy text-white rounded-lg font-medium hover:bg-navy-light",children:"Save staff member"}),r.jsx(Q,{to:"/dashboard/staff",className:"px-4 py-2 border border-navy/30 rounded-lg font-medium inline-block",children:"Cancel"})]})]})]})}function ot({label:e,value:t,editing:n,formValue:s,onChange:l,type:a="text",placeholder:i,rows:o}){return r.jsxs("div",{className:o?"md:col-span-2":"",children:[e?r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:e}):null,n?a==="textarea"?r.jsx("textarea",{value:s,onChange:d=>l(d.target.value),rows:o??3,placeholder:i,className:"w-full px-3 py-2 border border-sky/60 rounded-lg resize-y"}):r.jsx("input",{type:a,value:s,onChange:d=>l(d.target.value),placeholder:i,className:"w-full px-3 py-2 border border-sky/60 rounded-lg"}):r.jsx("p",{className:"text-navy",children:t||""})]})}function $g(){const{id:e}=Dm(),t=at(),[n,s]=g.useState(Er(e||"")),[l,a]=g.useState(!1),[i,o]=g.useState(n||null),[d,u]=g.useState(!1),[c,p]=g.useState("");if(g.useEffect(()=>{const N=Er(e||"");s(N),o(N||null)},[e]),!n)return r.jsxs("div",{className:"p-8",children:[r.jsx("p",{className:"text-navy/70",children:"Staff member not found."}),r.jsx(Q,{to:"/dashboard/staff",className:"text-sky-dark font-medium mt-2 inline-block hover:underline",children:"Back to staff"})]});const h=()=>{if(!i)return;const N={...i};c.trim()!==""&&(N.password=c,p("")),Wx(n.id,N),s(Er(n.id)),o(Er(n.id)),a(!1)},j=()=>{Gx(n.id),t("/dashboard/staff",{replace:!0})},f=(N,m)=>{i&&o({...i,[N]:m})},v=(N,m)=>r.jsxs("section",{children:[r.jsx("h2",{className:"text-sm font-semibold text-navy uppercase tracking-wide mb-3",children:N}),m]});return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx(Q,{to:"/dashboard/staff",className:"text-sky-dark text-sm font-medium hover:underline mb-2 inline-block",children:" Staff"}),r.jsxs("h1",{className:"text-2xl font-semibold text-navy",children:[n.firstName," ",n.lastName]}),r.jsx("p",{className:"text-navy/70 mt-1",children:n.position})]}),r.jsx("div",{className:"flex gap-2",children:l?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:h,className:"px-4 py-2 bg-navy text-white rounded-lg font-medium hover:bg-navy-light",children:"Save"}),r.jsx("button",{onClick:()=>{o(n),a(!1),u(!1),p("")},className:"px-4 py-2 border border-navy/30 rounded-lg",children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-navy text-white rounded-lg font-medium hover:bg-navy-light",children:"Edit"}),d?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:j,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-medium",children:"Confirm delete"}),r.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 border border-navy/30 rounded-lg",children:"Cancel"})]}):r.jsx("button",{onClick:()=>u(!0),className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg font-medium hover:bg-red-50",children:"Delete"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-6 space-y-6",children:[v("Basic information",r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ot,{label:"First name",value:n.firstName,editing:!!l&&!!i,formValue:(i==null?void 0:i.firstName)??"",onChange:N=>f("firstName",N)}),r.jsx(ot,{label:"Last name",value:n.lastName,editing:!!l&&!!i,formValue:(i==null?void 0:i.lastName)??"",onChange:N=>f("lastName",N)}),r.jsxs("div",{className:i?"":"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Position"}),l&&i?r.jsx("select",{value:i.position,onChange:N=>f("position",N.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white",children:Wl.map(N=>r.jsx("optgroup",{label:N.label,children:N.positions.map(m=>r.jsx("option",{value:m,children:m},m))},N.label))}):r.jsx("p",{className:"text-navy",children:n.position})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Status"}),l&&i?r.jsx("select",{value:i.status,onChange:N=>f("status",N.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white",children:Gm.map(N=>r.jsx("option",{value:N,children:N},N))}):r.jsx("p",{className:"text-navy",children:n.status})]}),r.jsx(ot,{label:"Hire date",value:n.hireDate?X(n.hireDate):"",editing:!!l&&!!i,formValue:(i==null?void 0:i.hireDate)??"",type:"date",onChange:N=>f("hireDate",N)})]})),v("Contact",r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ot,{label:"Email",value:n.email??"",editing:!!l&&!!i,formValue:(i==null?void 0:i.email)??"",type:"email",onChange:N=>f("email",N)}),r.jsx(ot,{label:"Phone",value:n.phone??"",editing:!!l&&!!i,formValue:(i==null?void 0:i.phone)??"",onChange:N=>f("phone",N)})]})),v("Login credentials",r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-xs text-navy/60 mb-2",children:"Used by this employee to sign in. Do not display or share passwords."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l&&i?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Login email or username"}),r.jsx("input",{type:"text",autoComplete:"off",value:i.loginEmail??"",onChange:N=>f("loginEmail",N.target.value),placeholder:"e.g. jane@practice.com",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"New password (leave blank to keep current)"}),r.jsx("input",{type:"password",autoComplete:"new-password",value:c,onChange:N=>p(N.target.value),placeholder:"",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(ot,{label:"Login email or username",value:n.loginEmail??"",editing:!1,formValue:"",onChange:()=>{}}),r.jsx("p",{className:"text-navy/60 text-sm",children:"Password is not displayed."})]})})]})),v("License / certification",r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ot,{label:"License number",value:n.licenseNumber??"",editing:!!l&&!!i,formValue:(i==null?void 0:i.licenseNumber)??"",placeholder:"e.g. state license #",onChange:N=>f("licenseNumber",N)}),r.jsx(ot,{label:"License expiry",value:n.licenseExpiry??"",editing:!!l&&!!i,formValue:(i==null?void 0:i.licenseExpiry)??"",type:"date",onChange:N=>f("licenseExpiry",N)})]})),v("Emergency contact",r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ot,{label:"Name",value:n.emergencyContactName??"",editing:!!l&&!!i,formValue:(i==null?void 0:i.emergencyContactName)??"",onChange:N=>f("emergencyContactName",N)}),r.jsx(ot,{label:"Phone",value:n.emergencyContactPhone??"",editing:!!l&&!!i,formValue:(i==null?void 0:i.emergencyContactPhone)??"",onChange:N=>f("emergencyContactPhone",N)})]})),v("Notes",r.jsx(ot,{label:"",value:n.notes??"",editing:!!l&&!!i,formValue:(i==null?void 0:i.notes)??"",type:"textarea",rows:4,placeholder:"Internal notes",onChange:N=>f("notes",N)})),To.includes(n.position)&&v("Assigned patients",r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-xs text-navy/60 mb-2",children:'Patients assigned to this provider. They will see these in "My patients".'}),l&&i?r.jsxs("div",{className:"max-h-48 overflow-y-auto border border-sky/40 rounded-lg p-2 space-y-1",children:[je().map(N=>{const m=(i.assignedPatientIds??[]).includes(N.id);return r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-sky/10 px-2 py-1 rounded",children:[r.jsx("input",{type:"checkbox",checked:m,onChange:x=>{if(!i)return;const y=i.assignedPatientIds??[],w=x.target.checked?[...y,N.id]:y.filter(E=>E!==N.id);o({...i,assignedPatientIds:w})},className:"rounded border-sky/60"}),r.jsxs("span",{className:"text-sm text-navy",children:[N.firstName," ",N.lastName]}),r.jsx("span",{className:"text-xs text-navy/60",children:X(N.dateOfAppointment)})]},N.id)}),je().length===0&&r.jsx("p",{className:"text-navy/60 text-sm",children:"No patients in the system yet."})]}):r.jsx("ul",{className:"space-y-1",children:(n.assignedPatientIds??[]).length===0?r.jsx("li",{className:"text-navy/60 text-sm",children:"No patients assigned."}):je().filter(N=>(n.assignedPatientIds??[]).includes(N.id)).map(N=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsxs(Q,{to:`/dashboard/patients/${N.id}`,className:"text-sky-dark font-medium hover:underline text-sm",children:[N.firstName," ",N.lastName]}),r.jsx("span",{className:"text-xs text-navy/60",children:X(N.dateOfAppointment)})]},N.id))})]}))]})]})}function Fg(){const{staff:e,isSignedIn:t,isAdmin:n}=cs(),s=je(),l=e&&To.includes(e.position),a=(e==null?void 0:e.assignedPatientIds)??[],i=g.useMemo(()=>s.filter(o=>a.includes(o.id)),[s,a]);return t?n&&!e?r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-semibold text-navy mb-2",children:"My patients"}),r.jsx("p",{className:"text-navy/70",children:"Demo mode. Use the Patients tab to view and manage patients."}),r.jsx(Q,{to:"/dashboard/patients",className:"text-sky-dark font-medium mt-2 inline-block hover:underline",children:"Go to Patients"})]}):l?r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-semibold text-navy mb-2",children:"My patients"}),r.jsxs("p",{className:"text-navy/70 mb-6",children:["Patients assigned to you (",e.firstName," ",e.lastName,"). Edit your staff profile to change assignments."]}),i.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-6",children:[r.jsx("p",{className:"text-navy/60",children:"No patients assigned yet. Assign patients in your staff profile (Staff  your name  Edit  Assigned patients)."}),r.jsx(Q,{to:"/dashboard/staff",className:"text-sky-dark font-medium mt-2 inline-block hover:underline",children:"Go to Staff"})]}):r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 overflow-hidden",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-sky/40 bg-sky/5",children:[r.jsx("th",{className:"text-left px-4 py-3 font-semibold text-navy",children:"Patient"}),r.jsx("th",{className:"text-left px-4 py-3 font-semibold text-navy",children:"Appointment"}),r.jsx("th",{className:"text-left px-4 py-3 font-semibold text-navy",children:"Next appointment"}),r.jsx("th",{className:"text-left px-4 py-3 font-semibold text-navy"})]})}),r.jsx("tbody",{children:i.map(o=>r.jsxs("tr",{className:"border-b border-sky/20 hover:bg-sky/5",children:[r.jsxs("td",{className:"px-4 py-3",children:[o.firstName," ",o.lastName]}),r.jsxs("td",{className:"px-4 py-3 text-navy/80",children:[X(o.dateOfAppointment),o.appointmentTime?` ${o.appointmentTime}`:""]}),r.jsx("td",{className:"px-4 py-3 text-navy/80",children:o.dateOfNextAppointment?X(o.dateOfNextAppointment):""}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(Q,{to:`/dashboard/patients/${o.id}`,className:"text-sky-dark font-medium hover:underline",children:"Chart"})})]},o.id))})]})})]}):r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-semibold text-navy mb-2",children:"My patients"}),r.jsxs("p",{className:"text-navy/70",children:["Your role (",e.position,") does not have an assigned patient list. Dentists, hygienists, and certain specialists can assign patients and view them here."]})]}):r.jsxs("div",{className:"p-8",children:[r.jsx("p",{className:"text-navy/70",children:"Sign in to see your assigned patients."}),r.jsx(Q,{to:"/signin",className:"text-sky-dark font-medium mt-2 inline-block hover:underline",children:"Sign in"})]})}const cd=3,zg=500,Fs=6;function Ug(){const e=[];for(let t=1;t<=32;t++){const n=Math.floor(200+Math.random()*400);e.push({tooth:t,density:n,lightPenetrationPercent:pg(n),healthResult:mg(n)})}return e}function Vg(){var J;const e=sn(),t=e.pathname+e.search,{isSignedIn:n}=cs(),s=je(),[l,a]=g.useState(""),[i,o]=g.useState(!1),[d,u]=g.useState(!1),[c,p]=g.useState(!1),[h,j]=g.useState(0),[f,v]=g.useState(50),[N,m]=g.useState(""),[x,y]=g.useState(""),[w,E]=g.useState(0),[T,C]=g.useState(null),[D,_]=g.useState(null),O=g.useRef(null),S=g.useRef(null),I=l?W(l):null,R=(I==null?void 0:I.gumGaugeExams)??[],H=(I==null?void 0:I.patientImages)??[],K=H.length<10,Y=()=>{o(!0),m("")},ge=()=>{if(!n){m("Sign in to run a scan.");return}if(!l){m("Select a patient first.");return}if(!i){m("Connect the GumGauge device first.");return}m(""),u(!0),p(!1),j(0),S.current&&clearInterval(S.current),S.current=setInterval(()=>{j(L=>L>=Fs-1?(S.current&&clearInterval(S.current),S.current=null,u(!1),p(!0),Fs):L+1)},zg)},$=()=>{if(!n){m("Sign in to add readings to the chart.");return}if(!I)return;const L=Ug(),P={id:crypto.randomUUID(),scanDate:new Date().toISOString().slice(0,10),teeth:L},V=I.gumGaugeExams??[];te(I.id,{gumGaugeExams:[...V,P]}),m(""),E(G=>G+1),C(P.id)},B=()=>{S.current&&(clearInterval(S.current),S.current=null),u(!1),p(!1),j(0),m("")};g.useEffect(()=>()=>{S.current&&clearInterval(S.current)},[]),g.useEffect(()=>{C(null),_(null)},[l]);const A=L=>{var G;const P=(G=L.target.files)==null?void 0:G[0];if(L.target.value="",m(""),y(""),!P)return;if(!I){m("Select a patient first, then upload the scan file.");return}if(H.length>=10){m("This patient already has the maximum of 10 images. Remove one from their chart first.");return}if(P.size>cd*1024*1024){m(`File must be under ${cd} MB.`);return}const V=new FileReader;V.onload=()=>{const re=V.result,ie={id:crypto.randomUUID(),label:`GumGauge Scan ${new Date().toISOString().slice(0,10)}`,type:"GumGauge Scan",dataUrl:re,dateAdded:new Date().toISOString()},At=[...I.patientImages??[],ie];te(I.id,{patientImages:At}),p(!1),y(`Scan file added to ${I.firstName} ${I.lastName}'s chart. It will appear in their Images section.`),E(jn=>jn+1),setTimeout(()=>y(""),5e3)},V.onerror=()=>m("Could not read the file."),V.readAsDataURL(P)};return r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-semibold text-navy mb-2",children:"Device Scan"}),r.jsx("p",{className:"text-navy/70 mb-6",children:"Connect the GumGauge scanning device, select a patient, run the scan, and upload results to the patient's scan files."}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-6 space-y-6 max-w-2xl",children:[r.jsxs("section",{children:[r.jsx("h2",{className:"text-sm font-semibold text-navy uppercase tracking-wide mb-3",children:"1. Connect device"}),i?r.jsxs("p",{className:"text-green-700 font-medium flex items-center gap-2",children:[r.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-green-600"}),"Device connected (simulated)"]}):r.jsx("button",{type:"button",onClick:Y,className:"px-4 py-2 bg-navy text-white rounded-lg font-medium hover:bg-navy-light",children:"Connect GumGauge device"}),i&&r.jsxs("div",{className:"mt-3 p-3 bg-sky/10 rounded-lg border border-sky/30",children:[r.jsx("label",{className:"block text-sm font-medium text-navy mb-1",children:"Light / brightness (%)"}),r.jsx("p",{className:"text-xs text-navy/60 mb-1",children:"Adjusts device LED intensity. When connected via serial, this value is sent to the hardware."}),r.jsx("input",{type:"range",min:0,max:100,value:f,onChange:L=>v(Number(L.target.value)),className:"w-full h-2 rounded-lg appearance-none bg-sky/30 accent-navy"}),r.jsxs("span",{className:"text-sm font-medium text-navy",children:[f,"%"]})]}),r.jsx("p",{className:"text-xs text-navy/60 mt-1",children:"In production, this would link to the hardware via USB/Bluetooth."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-sm font-semibold text-navy uppercase tracking-wide mb-3",children:"2. Select patient"}),r.jsxs("select",{value:l,onChange:L=>{a(L.target.value),p(!1)},className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white",children:[r.jsx("option",{value:"",children:" Select patient for this scan "}),s.map(L=>r.jsxs("option",{value:L.id,children:[L.firstName," ",L.lastName]},L.id))]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-sm font-semibold text-navy uppercase tracking-wide mb-3",children:"3. Run scan"}),!n&&r.jsxs("p",{className:"text-amber-700 text-sm mb-2",children:[r.jsx(Q,{to:`/signin?returnTo=${encodeURIComponent(t)}`,className:"font-medium hover:underline",children:"Sign in"})," to run a scan or add readings to the chart."]}),r.jsx("div",{className:"flex flex-wrap items-center gap-2",children:r.jsx("button",{type:"button",onClick:ge,disabled:!n||!l||!i||d,className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Scanning":"Start procedure"})}),d&&r.jsxs("div",{className:"mt-4 p-4 bg-sky/10 rounded-xl border border-sky/40",children:[r.jsxs("p",{className:"text-sm font-medium text-navy mb-2",children:[h<3?"Preparing":h<5?"Confirming":"Complete",h<5&&` (${h<3?"yellow":"green"} ${h%3+1}/3)`]}),r.jsx("div",{className:`h-3 w-full rounded overflow-hidden transition-colors duration-300 ${h>=3?"bg-green-600":"bg-amber-400"} ${h<5?"animate-pulse":""}`,role:"progressbar","aria-valuenow":h>=5?Fs:h+1,"aria-valuemin":0,"aria-valuemax":Fs,"aria-label":"Scan progress"}),r.jsx("p",{className:"text-xs text-navy/60 mt-1",children:h>=5?"Scan complete. Add readings to chart below.":"Solid bar: 3 yellow flashes, then 3 green (3rd green holds)."})]}),r.jsx("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:(d||c)&&r.jsx("button",{type:"button",onClick:B,className:"px-4 py-2 border border-sky/60 text-navy rounded-lg font-medium hover:bg-sky/10",children:"End scan"})}),c&&r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-green-700 font-medium mt-2 flex items-center gap-2",children:[r.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-green-600"}),"Scan complete."]}),r.jsx("p",{className:"text-xs text-navy/70 mt-1 mb-2",children:"Add device readings (light penetration %, health per tooth) to the patient chart. They will appear in the Perio charting section."}),r.jsx("button",{type:"button",onClick:$,disabled:!n,className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add GumGauge readings to chart"})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-sm font-semibold text-navy uppercase tracking-wide mb-3",children:"4. Upload result to patient"}),r.jsx("p",{className:"text-xs text-navy/60 mb-2",children:`Save the scan result directly to the patient's images. It will appear as "GumGauge Scan" in their chart.`}),r.jsx("input",{ref:O,type:"file",accept:"image/*,.pdf",onChange:A,className:"hidden"}),r.jsx("button",{type:"button",onClick:()=>{var L;return(L=O.current)==null?void 0:L.click()},disabled:!l||!K,className:"px-4 py-2 bg-sky-dark text-white rounded-lg font-medium hover:bg-navy disabled:opacity-50 disabled:cursor-not-allowed",children:"Upload scan file"}),!K&&l&&r.jsx("p",{className:"text-amber-700 text-sm mt-1",children:"This patient has reached the maximum of 10 images. Remove one from their chart first."}),x&&r.jsx("p",{className:"text-green-700 text-sm mt-2 font-medium",role:"status",children:x}),N&&r.jsx("p",{className:"text-red-600 text-sm mt-2",role:"alert",children:N})]}),I&&R.length>0&&r.jsxs("section",{className:"rounded-xl border border-sky/40 bg-green-50/50 p-4",children:[r.jsx("h2",{className:"text-sm font-semibold text-navy uppercase tracking-wide mb-3",children:"View scan results"}),r.jsx("p",{className:"text-xs text-navy/60 mb-3",children:"Select a scan date and click a tooth to see light penetration % and health. Compare past scans with the dropdown."}),r.jsx(Xm,{exams:R,selectedExamId:T??((J=R[R.length-1])==null?void 0:J.id)??null,onSelectExamId:C,selectedTooth:D,onSelectTooth:_})]}),I&&r.jsxs("section",{children:[r.jsx("h2",{className:"text-sm font-semibold text-navy uppercase tracking-wide mb-2",children:"Patient chart"}),r.jsxs(Q,{to:`/dashboard/patients/${I.id}`,className:"text-sky-dark font-medium hover:underline",children:["Open ",I.firstName," ",I.lastName,"'s chart "]})]})]})]})}function Bg(e,t){if(!e||!t||t<1)return null;const n=new Date(e+"T12:00:00");return n.setMonth(n.getMonth()+t),n.toISOString().slice(0,10)}function Hg(){const{timezone:e}=os(),t=Do(e),n=g.useMemo(()=>je(),[]),s=g.useMemo(()=>n.filter(i=>i.recallIntervalMonths!=null&&i.recallIntervalMonths>=1&&i.lastCleaningDate).map(i=>{const o=Bg(i.lastCleaningDate,i.recallIntervalMonths);return{patient:i,dueDate:o,overdue:o?o<t:!1}}).sort((i,o)=>i.overdue===o.overdue?i.dueDate.localeCompare(o.dueDate):i.overdue?-1:1),[n,t]),l=s.filter(i=>i.overdue),a=s.filter(i=>!i.overdue);return r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-semibold text-navy mb-2",children:"Recall / recare"}),r.jsx("p",{className:"text-navy/70 mb-6",children:"Patients due for recall based on last cleaning date and recall interval. Set recall interval on the patient chart."}),s.length===0?r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-6",children:r.jsx("p",{className:"text-navy/60",children:'No patients with recall interval set. Edit a patient and set "Recall / recurring (months)" and "Last cleaning date" to see them here.'})}):r.jsxs(r.Fragment,{children:[l.length>0&&r.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6 mb-6",children:[r.jsxs("h2",{className:"text-lg font-medium text-amber-900 mb-2",children:["Overdue recall (",l.length,")"]}),r.jsx("ul",{className:"space-y-2",children:l.map(({patient:i,dueDate:o})=>r.jsxs("li",{className:"flex flex-wrap items-center gap-x-4 gap-y-1",children:[r.jsxs(Q,{to:`/dashboard/patients/${i.id}`,className:"font-medium text-amber-900 hover:underline",children:[i.firstName," ",i.lastName]}),r.jsxs("span",{className:"text-amber-800 text-sm",children:["Due ",X(o)," (overdue)"]}),r.jsxs("span",{className:"text-amber-700 text-xs",children:["Last cleaning: ",i.lastCleaningDate?X(i.lastCleaningDate):"","  Every ",i.recallIntervalMonths," mo"]})]},i.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-6",children:[r.jsx("h2",{className:"text-lg font-medium text-navy mb-4",children:"Upcoming recall"}),r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-sky/40",children:[r.jsx("th",{className:"text-left py-2 font-medium text-navy",children:"Patient"}),r.jsx("th",{className:"text-left py-2 font-medium text-navy",children:"Due date"}),r.jsx("th",{className:"text-left py-2 font-medium text-navy",children:"Last cleaning"}),r.jsx("th",{className:"text-left py-2 font-medium text-navy",children:"Interval"}),r.jsx("th",{className:"w-20"})]})}),r.jsx("tbody",{children:a.map(({patient:i,dueDate:o})=>r.jsxs("tr",{className:"border-b border-sky/20",children:[r.jsx("td",{className:"py-2",children:r.jsxs(Q,{to:`/dashboard/patients/${i.id}`,className:"font-medium text-navy hover:underline",children:[i.firstName," ",i.lastName]})}),r.jsx("td",{className:"py-2 text-navy/80",children:X(o)}),r.jsx("td",{className:"py-2 text-navy/80",children:i.lastCleaningDate?X(i.lastCleaningDate):""}),r.jsxs("td",{className:"py-2 text-navy/80",children:["Every ",i.recallIntervalMonths," mo"]}),r.jsx("td",{className:"py-2",children:r.jsx(Q,{to:`/dashboard/patients/${i.id}`,className:"text-sky-dark text-sm font-medium hover:underline",children:"Chart"})})]},i.id))})]})]})]}),r.jsx("p",{className:"mt-4 text-xs text-navy/60",children:"Appointment reminders (email/SMS) would require a backend integration."})]})}function Wg(){const[e,t]=g.useState(""),n=zm({limit:200}),s=e?n.filter(l=>l.entityType===e):n;return r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-semibold text-navy mb-2",children:"Audit trail"}),r.jsx("p",{className:"text-navy/70 mb-4",children:"Who changed what and when. Last 200 entries."}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[r.jsx("label",{className:"text-sm text-navy/70",children:"Filter by type"}),r.jsxs("select",{value:e,onChange:l=>t(l.target.value),className:"px-3 py-2 border border-sky/60 rounded-lg bg-white text-navy",children:[r.jsx("option",{value:"",children:"All"}),r.jsx("option",{value:"patient",children:"Patient"}),r.jsx("option",{value:"staff",children:"Staff"})]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 overflow-hidden",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-navy/5 border-b border-sky/40",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-navy",children:"Time"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-navy",children:"Actor"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-navy",children:"Action"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-navy",children:"Entity"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-navy",children:"Details"})]})}),r.jsx("tbody",{children:s.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"py-8 text-center text-navy/60",children:"No audit entries."})}):s.map(l=>r.jsxs("tr",{className:"border-b border-sky/20 hover:bg-sky/5",children:[r.jsx("td",{className:"py-2 px-4 text-navy/80",children:new Date(l.timestamp).toLocaleString()}),r.jsx("td",{className:"py-2 px-4",children:l.actor??""}),r.jsx("td",{className:"py-2 px-4",children:l.action}),r.jsxs("td",{className:"py-2 px-4",children:[l.entityType==="patient"&&r.jsx(Q,{to:`/dashboard/patients/${l.entityId}`,className:"text-sky-dark hover:underline",children:"Chart"}),l.entityType==="staff"&&r.jsx(Q,{to:`/dashboard/staff/${l.entityId}`,className:"text-sky-dark hover:underline",children:"View"}),l.entityType!=="patient"&&l.entityType!=="staff"&&l.entityId]}),r.jsx("td",{className:"py-2 px-4 text-navy/70",children:l.details??""})]},l.id))})]})})]})}function Oe(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Gg(){const e=je(),[t,n]=g.useState(""),[s,l]=g.useState(!1),[a,i]=g.useState(""),[o,d]=g.useState(""),[u,c]=g.useState(!1),[p,h]=g.useState("Card"),[j,f]=g.useState(""),[v,N]=g.useState(""),[m,x]=g.useState(""),[y,w]=g.useState(""),[E,T]=g.useState(""),[C,D]=g.useState(!1),[_,O]=g.useState(""),[S,I]=g.useState(""),[R,H]=g.useState([]),[K,Y]=g.useState(""),[ge,$]=g.useState(!1),[B,A]=g.useState(!1),[J,L]=g.useState(!1),[P,V]=g.useState("outOfPocket"),[G,re]=g.useState(""),[ie,At]=g.useState(""),[jn,or]=g.useState(""),[ds,us]=g.useState(""),[ms,ps]=g.useState(""),z=t?W(t):null,cr=(z==null?void 0:z.balanceDue)??0,fs=(z==null?void 0:z.insuranceDeductibleRemaining)??0,Ot=(z==null?void 0:z.insuranceDeductibleAnnual)??0,Mt=(z==null?void 0:z.paymentMethods)??[],wn=(z==null?void 0:z.paymentHistory)??[],dr=(z==null?void 0:z.insuranceClaims)??[],Ql=(z==null?void 0:z.invoiceLines)??[],Kl=()=>{if(!z)return;let k,Z,ce;if(P==="split"){const ur=Number(G),mr=Number(ie);if(Number.isNaN(ur)||Number.isNaN(mr)||ur<0||mr<0||ur===0&&mr===0)return;k=ur+mr,Z=ur,ce=mr}else if(P==="withInsurance"){if(k=Number(ie),Number.isNaN(k)||k<0)return;ce=k}else{if(k=Number(a),Number.isNaN(k)||k<=0)return;Z=k}const Ee={id:crypto.randomUUID(),date:new Date().toISOString().slice(0,10),amount:k,note:o.trim()||void 0,paymentMethodId:jn||void 0,amountOutOfPocket:Z,amountWithInsurance:ce},qm=[...wn,Ee],ep=Math.max(0,cr-k);te(z.id,{paymentHistory:qm,balanceDue:ep}),l(!1),i(""),d(""),re(""),At(""),or(""),V("outOfPocket")},hs=()=>{if(!z)return;const k=y.trim()?parseInt(y,10):void 0,Z=E.trim()?parseInt(E,10):void 0,ce={id:crypto.randomUUID(),type:p,lastFour:j.trim()||void 0,nickname:v.trim()||void 0,nameOnCard:m.trim()||void 0,expiryMonth:k!=null&&k>=1&&k<=12?k:void 0,expiryYear:Z!=null&&Z>=2020&&Z<=2050?Z:void 0,addedAt:new Date().toISOString()},Ee=[...Mt,ce];te(z.id,{paymentMethods:Ee}),c(!1),h("Card"),f(""),N(""),x(""),w(""),T("")},xs=k=>{z&&te(z.id,{paymentMethods:Mt.filter(Z=>Z.id!==k)})},gs=()=>{if(!z)return;const k=Number(S);if(Number.isNaN(k)||k<0)return;const Z={id:crypto.randomUUID(),date:new Date().toISOString().slice(0,10),procedureCodes:R.length?R:[""],description:_.trim()||"Insurance claim",amount:k,status:"Sent"},ce=[...dr,Z];te(z.id,{insuranceClaims:ce}),D(!1),O(""),I(""),H([]),Y("")},ys=()=>{K.trim()&&(H(k=>[...k,K.trim()]),Y(""))},kn=()=>{if(!z)return;const k=Number(ds),Z=Number(ms);!Number.isNaN(k)&&k>=0&&!Number.isNaN(Z)&&Z>=0&&te(z.id,{insuranceDeductibleAnnual:k,insuranceDeductibleRemaining:Z})},Sn=Ql.reduce((k,Z)=>{const ce=Z.appointmentDate;return k[ce]||(k[ce]=[]),k[ce].push(Z),k},{}),b=Object.keys(Sn).sort();pn.useEffect(()=>{z&&(us(z.insuranceDeductibleAnnual!=null?String(z.insuranceDeductibleAnnual):""),ps(z.insuranceDeductibleRemaining!=null?String(z.insuranceDeductibleRemaining):""))},[t,z==null?void 0:z.insuranceDeductibleAnnual,z==null?void 0:z.insuranceDeductibleRemaining]);const F=je(),se=F.reduce((k,Z)=>k+(Z.paymentHistory??[]).filter(ce=>ce.date.startsWith(new Date().toISOString().slice(0,7))).reduce((ce,Ee)=>ce+Ee.amount,0),0),oe=F.reduce((k,Z)=>k+(Z.balanceDue??0),0);return r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-semibold text-navy mb-2",children:"Billing"}),r.jsx("p",{className:"text-navy/70 mb-6",children:"View balance, insurance deductible, payment methods, and send claims to insurance. Procedure prices are based on standard fees (e.g. Cleaning $125)."}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("p",{className:"text-xs text-navy/60 uppercase",children:"Production (this month)"}),r.jsx("p",{className:"text-xl font-semibold text-navy",children:Oe(se)})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("p",{className:"text-xs text-navy/60 uppercase",children:"Total outstanding"}),r.jsx("p",{className:"text-xl font-semibold text-navy",children:Oe(oe)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("h2",{className:"text-sm font-semibold text-navy uppercase tracking-wide mb-3",children:"Select patient"}),r.jsxs("select",{value:t,onChange:k=>n(k.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white",children:[r.jsx("option",{value:"",children:" Select patient "}),e.map(k=>r.jsxs("option",{value:k.id,children:[k.firstName," ",k.lastName,(k.balanceDue??0)>0?`  ${Oe(k.balanceDue)} due`:""]},k.id))]}),r.jsx("p",{className:"text-xs text-navy/60 mt-2",children:"Patients with a balance show the amount due in the list."})]}),z&&r.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[r.jsxs("h2",{className:"text-lg font-semibold text-navy",children:[z.firstName," ",z.lastName]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>L(!0),className:"px-3 py-1.5 border border-sky/60 text-navy rounded-lg text-sm font-medium hover:bg-sky/10",children:"Check eligibility"}),z.email&&r.jsx("button",{type:"button",onClick:()=>{A(!1),$(!0)},className:"px-3 py-1.5 border border-sky/60 text-navy rounded-lg text-sm font-medium hover:bg-sky/10",children:"Email receipt / invoice"}),r.jsx(Q,{to:`/dashboard/patients/${z.id}`,className:"text-sky-dark font-medium text-sm hover:underline",children:"Open chart "})]})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[r.jsxs("div",{className:"bg-sky/10 rounded-lg p-3 border border-sky/30",children:[r.jsx("p",{className:"text-xs text-navy/70 uppercase",children:"Balance due"}),r.jsx("p",{className:"text-lg font-semibold text-navy",children:Oe(cr)})]}),r.jsxs("div",{className:"bg-sky/10 rounded-lg p-3 border border-sky/30",children:[r.jsx("p",{className:"text-xs text-navy/70 uppercase",children:"Deductible remaining"}),r.jsx("p",{className:"text-lg font-semibold text-navy",children:Ot>0?Oe(fs):""}),Ot>0&&r.jsxs("p",{className:"text-xs text-navy/60",children:["of ",Oe(Ot)," annual"]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-navy mb-3",children:"Insurance deductible"}),r.jsx("p",{className:"text-xs text-navy/60 mb-2",children:"Enter values directly. Used to track insurance responsibility."}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-navy/70 mb-0.5",children:"Annual ($)"}),r.jsx("input",{type:"number",min:0,step:.01,value:ds,onChange:k=>us(k.target.value),onBlur:kn,className:"w-28 px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-navy/70 mb-0.5",children:"Remaining ($)"}),r.jsx("input",{type:"number",min:0,step:.01,value:ms,onChange:k=>ps(k.target.value),onBlur:kn,className:"w-28 px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsx("button",{type:"button",onClick:kn,className:"mt-5 px-3 py-1.5 bg-sky/20 text-navy rounded-lg text-sm font-medium",children:"Save"})]}),Ot>0&&r.jsxs("p",{className:"text-sm text-navy/70 mt-2",children:["Patient has ",Oe(fs)," remaining of ",Oe(Ot)," annual."]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-navy",children:"Charges by appointment date"}),r.jsx(Q,{to:`/dashboard/patients/${z.id}`,className:"text-xs text-sky-dark font-medium hover:underline",children:"From chart"})]}),r.jsx("p",{className:"text-xs text-navy/60 mb-2",children:"What the patient is being charged, grouped by appointment date. Add line items from the patient chart (Assign to Billing)."}),b.length===0?r.jsx("p",{className:"text-navy/60 text-sm",children:"No charges yet. Assign procedures from the patient chart Treatment plans to fill the invoice."}):r.jsx("div",{className:"space-y-3",children:b.map(k=>r.jsxs("div",{className:"border border-sky/20 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs font-medium text-navy/80 mb-2",children:X(k)}),r.jsxs("ul",{className:"space-y-1 text-sm",children:[Sn[k].map(Z=>r.jsxs("li",{className:"flex justify-between text-navy/90",children:[r.jsxs("span",{children:[Z.description,Z.procedureCode?` (${Z.procedureCode})`:""]}),r.jsx("span",{className:"font-medium",children:Oe(Z.amount)})]},Z.id)),r.jsxs("li",{className:"flex justify-between text-navy/70 pt-1 border-t border-sky/20",children:[r.jsx("span",{children:"Subtotal"}),r.jsx("span",{className:"font-medium",children:Oe(Sn[k].reduce((Z,ce)=>Z+ce.amount,0))})]})]})]},k))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-navy",children:"Payment methods"}),r.jsx("button",{type:"button",onClick:()=>c(!0),className:"px-3 py-1.5 bg-navy text-white rounded-lg text-sm font-medium hover:bg-navy-light",children:"+ Add payment method"})]}),r.jsx("p",{className:"text-xs text-navy/60 mb-2",children:"Store card or method so you can charge the patient. Enter name on card and expiry for charging."}),Mt.length===0?r.jsx("p",{className:"text-navy/60 text-sm",children:"None stored. Add one to charge the patient."}):r.jsx("ul",{className:"space-y-2",children:Mt.map(k=>r.jsxs("li",{className:"flex items-center justify-between py-2 border-b border-sky/20 last:border-0",children:[r.jsxs("span",{className:"text-sm text-navy",children:[k.type,k.lastFour?`  ${k.lastFour}`:"",k.nameOnCard?`  ${k.nameOnCard}`:"",k.expiryMonth!=null&&k.expiryYear!=null?` Exp ${String(k.expiryMonth).padStart(2,"0")}/${k.expiryYear}`:"",k.nickname?` (${k.nickname})`:""]}),r.jsx("button",{type:"button",onClick:()=>xs(k.id),className:"text-xs text-red-600 hover:underline",children:"Remove"})]},k.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-navy",children:"Record payment"}),r.jsx("button",{type:"button",onClick:()=>l(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700",children:"+ Record payment"})]}),wn.length===0?r.jsx("p",{className:"text-navy/60 text-sm",children:"No payments recorded yet."}):r.jsx("ul",{className:"space-y-1 text-sm",children:[...wn].reverse().slice(0,10).map(k=>r.jsxs("li",{className:"flex justify-between text-navy/80",children:[r.jsxs("span",{children:[X(k.date),k.note?`  ${k.note}`:""]}),r.jsx("span",{className:"font-medium",children:Oe(k.amount)})]},k.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-navy",children:"Send to insurance"}),r.jsx("button",{type:"button",onClick:()=>D(!0),className:"px-3 py-1.5 bg-sky-dark text-white rounded-lg text-sm font-medium hover:bg-navy",children:"+ Send claim"})]}),r.jsx("p",{className:"text-xs text-navy/60 mb-2",children:"For larger amounts (surgery, root canal, etc.)."}),dr.length===0?r.jsx("p",{className:"text-navy/60 text-sm",children:"No claims yet."}):r.jsx("ul",{className:"space-y-2 text-sm",children:dr.map(k=>r.jsxs("li",{className:"flex justify-between items-center py-2 border-b border-sky/20 last:border-0",children:[r.jsxs("span",{className:"text-navy/80",children:[X(k.date),"  ",k.description,"  ",Oe(k.amount)]}),r.jsx("span",{className:`text-xs font-medium px-1.5 py-0.5 rounded ${k.status==="Paid"?"bg-green-100 text-green-800":k.status==="Partially paid"?"bg-amber-100 text-amber-800":k.status==="Sent"?"bg-sky/20 text-navy":k.status==="Denied"?"bg-red-100 text-red-800":"bg-navy/10 text-navy"}`,children:k.status})]},k.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-navy mb-2",children:"Procedure prices (reference)"}),r.jsx("p",{className:"text-xs text-navy/60 mb-2",children:"Standard fees used for estimates and claims."}),r.jsx("div",{className:"overflow-x-auto max-h-48 overflow-y-auto",children:r.jsxs("table",{className:"text-xs w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-sky/10",children:[r.jsx("th",{className:"px-2 py-1 text-left",children:"Code"}),r.jsx("th",{className:"px-2 py-1 text-left",children:"Description"}),r.jsx("th",{className:"px-2 py-1 text-right",children:"Fee"})]})}),r.jsx("tbody",{children:ns.filter(k=>k.defaultFee!=null).map(k=>r.jsxs("tr",{className:"border-t border-sky/20",children:[r.jsx("td",{className:"px-2 py-1",children:k.code}),r.jsx("td",{className:"px-2 py-1",children:k.description}),r.jsx("td",{className:"px-2 py-1 text-right font-medium",children:Oe(k.defaultFee)})]},k.code))})]})})]})]})]}),s&&z&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"record-payment-title",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-sky/40 p-6 max-w-md w-full",children:[r.jsx("h2",{id:"record-payment-title",className:"text-lg font-semibold text-navy mb-4",children:"Record payment"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Pay with"}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsxs("label",{className:"flex items-center gap-1.5",children:[r.jsx("input",{type:"radio",name:"payType",checked:P==="outOfPocket",onChange:()=>V("outOfPocket")}),r.jsx("span",{className:"text-sm",children:"Out of pocket"})]}),r.jsxs("label",{className:"flex items-center gap-1.5",children:[r.jsx("input",{type:"radio",name:"payType",checked:P==="withInsurance",onChange:()=>V("withInsurance")}),r.jsx("span",{className:"text-sm",children:"Insurance"})]}),r.jsxs("label",{className:"flex items-center gap-1.5",children:[r.jsx("input",{type:"radio",name:"payType",checked:P==="split",onChange:()=>V("split")}),r.jsx("span",{className:"text-sm",children:"Split (both)"})]})]})]}),P==="outOfPocket"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Amount ($)"}),r.jsx("input",{type:"number",min:0,step:.01,value:a,onChange:k=>i(k.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),P==="withInsurance"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Amount from insurance ($)"}),r.jsx("input",{type:"number",min:0,step:.01,value:ie,onChange:k=>At(k.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),P==="split"&&r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Out of pocket ($)"}),r.jsx("input",{type:"number",min:0,step:.01,value:G,onChange:k=>re(k.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"From insurance ($)"}),r.jsx("input",{type:"number",min:0,step:.01,value:ie,onChange:k=>At(k.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Payment method used (optional)"}),r.jsxs("select",{value:jn,onChange:k=>or(k.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white",children:[r.jsx("option",{value:"",children:" None "}),Mt.map(k=>r.jsxs("option",{value:k.id,children:[k.type,k.lastFour?`  ${k.lastFour}`:"",k.nickname?` (${k.nickname})`:""]},k.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Note (optional)"}),r.jsx("input",{type:"text",value:o,onChange:k=>d(k.target.value),placeholder:"e.g. Check #1234",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]}),r.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[r.jsx("button",{type:"button",onClick:()=>{l(!1),i(""),d(""),re(""),At(""),or(""),V("outOfPocket")},className:"px-4 py-2 border border-navy/30 rounded-lg font-medium",children:"Cancel"}),r.jsx("button",{type:"button",onClick:Kl,className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium",children:"Record"})]})]})}),u&&z&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"add-method-title",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-sky/40 p-6 max-w-sm w-full",children:[r.jsx("h2",{id:"add-method-title",className:"text-lg font-semibold text-navy mb-4",children:"Add payment method"}),r.jsx("p",{className:"text-sm text-navy/70 mb-4",children:"Enter info needed to charge the patient. Do not store full card numbers; use last 4 only."}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Type"}),r.jsxs("select",{value:p,onChange:k=>h(k.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg bg-white",children:[r.jsx("option",{value:"Card",children:"Card"}),r.jsx("option",{value:"Check",children:"Check"}),r.jsx("option",{value:"Cash",children:"Cash"}),r.jsx("option",{value:"Other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Name on card"}),r.jsx("input",{type:"text",value:m,onChange:k=>x(k.target.value),placeholder:"As it appears on card",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Last 4 digits"}),r.jsx("input",{type:"text",maxLength:4,value:j,onChange:k=>f(k.target.value.replace(/\D/g,"")),placeholder:"1234",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Expiry month"}),r.jsx("input",{type:"number",min:1,max:12,value:y,onChange:k=>w(k.target.value),placeholder:"MM",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Expiry year"}),r.jsx("input",{type:"number",min:2024,max:2050,value:E,onChange:k=>T(k.target.value),placeholder:"YYYY",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Nickname (optional)"}),r.jsx("input",{type:"text",value:v,onChange:k=>N(k.target.value),placeholder:"e.g. Visa on file",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]}),r.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[r.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 border border-navy/30 rounded-lg font-medium",children:"Cancel"}),r.jsx("button",{type:"button",onClick:hs,className:"px-4 py-2 bg-navy text-white rounded-lg font-medium",children:"Add"})]})]})}),ge&&z&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"email-receipt-title",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-sky/40 p-6 max-w-sm w-full",children:[r.jsx("h2",{id:"email-receipt-title",className:"text-lg font-semibold text-navy mb-4",children:"Email receipt / invoice"}),B?r.jsxs("p",{className:"text-green-700 font-medium",children:["Receipt sent to ",z.email]}):r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-sm text-navy/70 mb-4",children:["Send a receipt or invoice to the patient at ",r.jsx("strong",{children:z.email}),". In production this would send an email; for demo you can open your mail client."]}),r.jsx("a",{href:`mailto:${z.email}?subject=Receipt - ${z.firstName} ${z.lastName}&body=Thank you for your payment. Balance due: ${Oe(cr)}.`,target:"_blank",rel:"noopener noreferrer",onClick:()=>A(!0),className:"inline-block px-4 py-2 bg-navy text-white rounded-lg font-medium hover:bg-navy-light",children:"Open email to patient"})]}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{type:"button",onClick:()=>{$(!1),A(!1)},className:"px-4 py-2 border border-navy/30 rounded-lg font-medium",children:"Close"})})]})}),C&&z&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"send-claim-title",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-sky/40 p-6 max-w-md w-full",children:[r.jsx("h2",{id:"send-claim-title",className:"text-lg font-semibold text-navy mb-4",children:"Send claim to insurance"}),r.jsx("p",{className:"text-sm text-navy/70 mb-4",children:"For surgery, root canal, or other larger procedures."}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Description"}),r.jsx("input",{type:"text",value:_,onChange:k=>O(k.target.value),placeholder:"e.g. Root canal #3",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Procedure codes (CDT)"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:K,onChange:k=>Y(k.target.value),className:"flex-1 px-3 py-2 border border-sky/60 rounded-lg bg-white text-sm",children:[r.jsx("option",{value:"",children:" Add code "}),ns.map(k=>r.jsxs("option",{value:k.code,children:[k.code," ",k.description," ",k.defaultFee!=null?`$${k.defaultFee}`:""]},k.code))]}),r.jsx("button",{type:"button",onClick:ys,className:"px-3 py-2 bg-sky/20 text-navy rounded-lg text-sm font-medium",children:"Add"})]}),R.length>0&&r.jsxs("p",{className:"text-xs text-navy/70 mt-1",children:["Codes: ",R.join(", ")]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-navy/70 mb-1",children:"Amount ($)"}),r.jsx("input",{type:"number",min:0,step:.01,value:S,onChange:k=>I(k.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]}),r.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[r.jsx("button",{type:"button",onClick:()=>{D(!1),O(""),I(""),H([])},className:"px-4 py-2 border border-navy/30 rounded-lg font-medium",children:"Cancel"}),r.jsx("button",{type:"button",onClick:gs,className:"px-4 py-2 bg-sky-dark text-white rounded-lg font-medium",children:"Send claim"})]})]})}),J&&z&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"eligibility-title",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-sky/40 p-6 max-w-md w-full",children:[r.jsx("h2",{id:"eligibility-title",className:"text-lg font-semibold text-navy mb-4",children:"Insurance eligibility (simulated)"}),r.jsxs("p",{className:"text-sm text-navy/70 mb-4",children:["For ",z.firstName," ",z.lastName,". In production this would query the payer."]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-navy/70",children:"Deductible (annual)"}),r.jsx("span",{className:"font-medium",children:Oe(z.insuranceDeductibleAnnual??0)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-navy/70",children:"Deductible (remaining)"}),r.jsx("span",{className:"font-medium",children:Oe(z.insuranceDeductibleRemaining??0)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-navy/70",children:"Preventive coverage"}),r.jsx("span",{className:"font-medium",children:"100%"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-navy/70",children:"Basic coverage"}),r.jsx("span",{className:"font-medium",children:"80%"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-navy/70",children:"Major coverage"}),r.jsx("span",{className:"font-medium",children:"50%"})]})]}),r.jsx("button",{type:"button",onClick:()=>L(!1),className:"mt-6 px-4 py-2 border border-navy/30 rounded-lg font-medium",children:"Close"})]})})]})}const Jm="gumgauge-pending-clinics";function kl(){try{const e=localStorage.getItem(Jm);return e?JSON.parse(e):[]}catch{return[]}}function Zm(e){try{localStorage.setItem(Jm,JSON.stringify(e))}catch{}}function Qg(){return kl()}function Kg(e){const t=new Date().toISOString(),n={...e,id:crypto.randomUUID(),submittedAt:t},s=kl();return s.push(n),Zm(s),n}function Yg(e){const t=kl().filter(n=>n.id!==e);return t.length===kl().length?!1:(Zm(t),!0)}function Xg(){const[e,t]=g.useState(""),[n,s]=g.useState(""),[l,a]=g.useState(""),[i,o]=g.useState(""),[d,u]=g.useState(""),[c,p]=g.useState(""),[h,j]=g.useState("1"),[f,v]=g.useState(!1),N=Hl(),m=x=>{x.preventDefault();const y=parseInt(h,10);Kg({name:e.trim(),address:n.trim()||void 0,city:l.trim()||void 0,state:i.trim()||void 0,zip:d.trim()||void 0,phone:c.trim()||void 0,deviceCount:Number.isNaN(y)||y<1?1:y}),v(!0)};return r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl font-semibold text-navy mb-2",children:"Clinic / Office Registration"}),r.jsx("p",{className:"text-navy/70 mb-6",children:"Submit your office info to GumGauge. Company admin will review and assign your clinic; once approved, your clinic name will appear on the dashboard."}),N&&r.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl",children:[r.jsxs("p",{className:"text-sm font-medium text-green-800",children:["This device is assigned to: ",r.jsx("strong",{children:N.name})]}),r.jsx("p",{className:"text-xs text-green-700 mt-1",children:"To change details, submit the form below; admin can reassign."})]}),r.jsxs("form",{onSubmit:m,className:"bg-white rounded-xl shadow-sm border border-sky/40 p-6 max-w-xl space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-navy mb-1",children:"Clinic name *"}),r.jsx("input",{type:"text",value:e,onChange:x=>t(x.target.value),placeholder:"e.g. Smile Dental Care",className:"w-full px-3 py-2 border border-sky/60 rounded-lg",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-navy mb-1",children:"Address"}),r.jsx("input",{type:"text",value:n,onChange:x=>s(x.target.value),placeholder:"Street address",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-navy mb-1",children:"City"}),r.jsx("input",{type:"text",value:l,onChange:x=>a(x.target.value),placeholder:"City",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-navy mb-1",children:"State"}),r.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),placeholder:"State",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-navy mb-1",children:"ZIP"}),r.jsx("input",{type:"text",value:d,onChange:x=>u(x.target.value),placeholder:"ZIP code",className:"w-full px-3 py-2 border border-sky/60 rounded-lg max-w-[120px]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-navy mb-1",children:"Phone"}),r.jsx("input",{type:"tel",value:c,onChange:x=>p(x.target.value),placeholder:"(555) 123-4567",className:"w-full px-3 py-2 border border-sky/60 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-navy mb-1",children:"Number of GumGauge devices"}),r.jsx("input",{type:"number",min:1,value:h,onChange:x=>j(x.target.value),className:"w-full px-3 py-2 border border-sky/60 rounded-lg max-w-[100px]"})]}),r.jsxs("div",{className:"flex gap-3 pt-2",children:[r.jsx("button",{type:"submit",className:"px-4 py-2 bg-navy text-white rounded-lg font-medium hover:bg-navy-light",children:"Submit for approval"}),r.jsx(Q,{to:"/dashboard",className:"px-4 py-2 border border-navy/30 rounded-lg font-medium inline-block",children:"Back to dashboard"})]}),f&&r.jsx("p",{className:"text-green-700 text-sm mt-2",children:"Submitted. GumGauge admin will review and assign your clinic."})]})]})}function dd(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Jg(){const e=at(),[t,n]=g.useState(null),[s,l]=g.useState([]),[a,i]=g.useState(null),[o,d]=g.useState(!1),[u,c]=g.useState(!1),p=()=>{n(Hl()),l(Qg())};if(g.useEffect(()=>{try{i(sessionStorage.getItem(en)==="1")}catch{i(!1)}p()},[]),a===!1)return r.jsx(So,{to:"/dashboard",replace:!0});if(a===null)return null;const h=()=>{try{sessionStorage.removeItem(en)}catch{}e("/",{replace:!0})},j=R=>{qx({name:R.name,address:R.address,city:R.city,state:R.state,zip:R.zip,phone:R.phone,deviceCount:R.deviceCount??1}),Yg(R.id),p()},f=()=>{Vx(),d(!1),p()},v=()=>{rg(),c(!1),p()},N=zm().length,m=je(),x=m.length,y=m.reduce((R,H)=>{var K;return R+(((K=H.gumGaugeExams)==null?void 0:K.length)??0)},0),w=m.flatMap(R=>(R.gumGaugeExams??[]).map(H=>H.scanDate)),E=new Set(w).size,T=E>0?(y/E).toFixed(1):"0",C=(t==null?void 0:t.deviceCount)??0,D=m.reduce((R,H)=>R+(H.paymentHistory??[]).reduce((K,Y)=>K+Y.amount,0),0),_={};m.forEach(R=>{(R.paymentHistory??[]).forEach(H=>{const K=H.date.slice(0,7);_[K]=(_[K]??0)+H.amount})});const O=Object.keys(_).length,S=O>0?D/O:0,I=[t==null?void 0:t.city,t==null?void 0:t.state,t==null?void 0:t.zip].filter(Boolean).join(", ");return r.jsx("div",{className:"p-6 md:p-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsx("h1",{className:"text-2xl font-semibold text-navy",children:"Clinic Log"}),r.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 border border-navy/30 rounded-lg font-medium hover:bg-navy/5",children:"Log out (Admin)"})]}),r.jsx("p",{className:"text-navy/70",children:"Select and assign clinics from pending registrations. Live stats for this installation below."}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("p",{className:"text-xs text-navy/60 uppercase",children:"Patients"}),r.jsx("p",{className:"text-2xl font-semibold text-navy",children:x})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("p",{className:"text-xs text-navy/60 uppercase",children:"Total scans"}),r.jsx("p",{className:"text-2xl font-semibold text-navy",children:y})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("p",{className:"text-xs text-navy/60 uppercase",children:"Avg scans/day"}),r.jsx("p",{className:"text-2xl font-semibold text-navy",children:T})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("p",{className:"text-xs text-navy/60 uppercase",children:"Devices"}),r.jsx("p",{className:"text-2xl font-semibold text-navy",children:C})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("p",{className:"text-xs text-navy/60 uppercase",children:"Revenue (total)"}),r.jsx("p",{className:"text-xl font-semibold text-navy",children:dd(D)})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-4",children:[r.jsx("p",{className:"text-xs text-navy/60 uppercase",children:"Revenue per month (average)"}),r.jsx("p",{className:"text-xl font-semibold text-navy",children:dd(S)})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-navy mb-2",children:"Admin actions"}),r.jsx("p",{className:"text-sm text-navy/60 mb-4",children:"Clear audit log or all patient visit history. These actions cannot be undone."}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsx("div",{className:"flex items-center gap-2",children:o?r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-medium",children:"Confirm clear"}),r.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 border border-navy/30 rounded-lg",children:"Cancel"})]}):r.jsxs("button",{type:"button",onClick:()=>d(!0),className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg font-medium hover:bg-red-50",children:["Clear audit log (",N," entries)"]})}),r.jsx("div",{className:"flex items-center gap-2",children:u?r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-medium",children:"Confirm clear"}),r.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 border border-navy/30 rounded-lg",children:"Cancel"})]}):r.jsx("button",{type:"button",onClick:()=>c(!0),className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg font-medium hover:bg-red-50",children:"Clear all patient visit history"})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-navy mb-2",children:"Pending registrations"}),r.jsx("p",{className:"text-sm text-navy/60 mb-4",children:"Clinics that submitted for approval. Approve to assign them to this device."}),s.length===0?r.jsx("p",{className:"text-navy/60",children:"No pending registrations."}):r.jsx("ul",{className:"space-y-3",children:s.map(R=>r.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-4 py-3 border-b border-sky/20 last:border-0",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-navy",children:R.name}),r.jsxs("p",{className:"text-sm text-navy/70",children:[[R.city,R.state,R.zip].filter(Boolean).join(", "),R.deviceCount!=null&&`  ${R.deviceCount} device(s)`]}),r.jsxs("p",{className:"text-xs text-navy/60",children:["Submitted ",X(R.submittedAt)]})]}),r.jsx("button",{type:"button",onClick:()=>j(R),className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",children:"Approve & assign"})]},R.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-sky/40 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-navy mb-2",children:"Assigned clinic (this device)"}),r.jsx("p",{className:"text-sm text-navy/60 mb-4",children:"In production, admin would see all clinics across all installations."}),t?r.jsxs("div",{className:"flex justify-between items-start gap-4 py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-navy",children:t.name}),I&&r.jsx("p",{className:"text-sm text-navy/70",children:I}),t.address&&r.jsx("p",{className:"text-sm text-navy/70",children:t.address})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-navy/70",children:"Devices"}),r.jsx("p",{className:"text-xl font-semibold text-navy",children:t.deviceCount??1})]})]}):r.jsx("p",{className:"text-navy/60",children:"No clinic assigned yet. Approve a pending registration above."})]})]})})}function Zg(){const[e,t]=g.useState(!1),[n,s]=g.useState(""),[l,a]=g.useState("");g.useEffect(()=>{try{sessionStorage.getItem(en)==="1"&&t(!0)}catch{}},[]);const i=o=>{if(o.preventDefault(),a(""),n===Qx){try{sessionStorage.setItem(en,"1")}catch{}t(!0)}else a("Invalid password.")};return e?r.jsx(So,{to:"/dashboard/clinic-log",replace:!0}):r.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-navy p-4",children:r.jsxs("div",{className:"w-full max-w-sm",children:[r.jsx("h1",{className:"text-xl font-semibold text-white text-center mb-2",children:"GumGauge Admin"}),r.jsx("p",{className:"text-sky-light/90 text-sm text-center mb-6",children:"Company login. View clinics and device usage."}),r.jsxs("form",{onSubmit:i,className:"bg-white/10 rounded-xl border border-white/20 p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sky-light/90 text-sm mb-1",children:"Password"}),r.jsx("input",{type:"password",value:n,onChange:o=>s(o.target.value),placeholder:"",className:"w-full px-3 py-2 rounded-lg border border-sky/60 bg-white text-navy"})]}),l&&r.jsx("p",{className:"text-amber-200 text-sm bg-amber-900/30 px-3 py-2 rounded-lg",role:"alert",children:l}),r.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-white text-navy font-medium rounded-lg hover:bg-sky-light",children:"Log in"})]}),r.jsx("p",{className:"mt-4 text-center",children:r.jsx(Q,{to:"/",className:"text-sky-light hover:text-white text-sm font-medium",children:" Back"})})]})})}function qg(){return r.jsx(zx,{children:r.jsx(Xx,{children:r.jsxs(wx,{children:[r.jsx(ve,{path:"/",element:r.jsx(ag,{})}),r.jsx(ve,{path:"/signin",element:r.jsx(ig,{})}),r.jsx(ve,{path:"/admin",element:r.jsx(Zg,{})}),r.jsxs(ve,{path:"/dashboard",element:r.jsx(lg,{}),children:[r.jsx(ve,{index:!0,element:r.jsx(og,{})}),r.jsx(ve,{path:"patients",element:r.jsx(ug,{})}),r.jsx(ve,{path:"patients/new",element:r.jsx(Pg,{})}),r.jsx(ve,{path:"patients/:id",element:r.jsx(Cg,{})}),r.jsx(ve,{path:"staff",element:r.jsx(_g,{})}),r.jsx(ve,{path:"staff/new",element:r.jsx(Lg,{})}),r.jsx(ve,{path:"staff/:id",element:r.jsx($g,{})}),r.jsx(ve,{path:"appointments",element:r.jsx(Mg,{})}),r.jsx(ve,{path:"billing",element:r.jsx(Gg,{})}),r.jsx(ve,{path:"my-patients",element:r.jsx(Fg,{})}),r.jsx(ve,{path:"device-scan",element:r.jsx(Vg,{})}),r.jsx(ve,{path:"recall",element:r.jsx(Hg,{})}),r.jsx(ve,{path:"audit",element:r.jsx(Wg,{})}),r.jsx(ve,{path:"clinic",element:r.jsx(Xg,{})}),r.jsx(ve,{path:"clinic-log",element:r.jsx(Jg,{})})]}),r.jsx(ve,{path:"*",element:r.jsx(So,{to:"/",replace:!0})})]})})})}Pa.createRoot(document.getElementById("root")).render(r.jsx(pn.StrictMode,{children:r.jsx(Ax,{children:r.jsx(qg,{})})}));
